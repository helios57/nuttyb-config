(()=>{var e={35(e){"use strict";e.exports=JSON.parse('{"label":"Mega Nuke","variable":"tweakunits4","generator":"lua-table","description":"--NuttyB v1.52 Mega Nuke\\r\\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko","data":{"armsilo":{"energycost":1500000,"metalcost":98720,"buildtime":228500,"footprintx":12,"footprintz":12,"maxthisunit":1,"explodeas":"advancedFusionExplosion","weapondefs":{"nuclear_missile":{"areaofeffect":5000,"cameraShake":15000,"craterboost":55,"cratermult":40,"energypershot":390000,"metalpershot":3000,"smokesize":28,"smokecolor":0.85,"soundhitwetvolume":80,"soundstartvolume":50,"stockpiletime":160,"weaponvelocity":500,"damage":{"commanders":500,"default":19500,"raptor":100000}}}},"corsilo":{"energycost":1500000,"metalcost":98720,"buildtime":228500,"footprintx":12,"footprintz":12,"maxthisunit":1,"explodeas":"advancedFusionExplosion","weapondefs":{"nuclear_missile":{"areaofeffect":5000,"cameraShake":15000,"craterboost":55,"cratermult":40,"energypershot":390000,"metalpershot":3000,"smokesize":28,"smokecolor":0.85,"soundhitwetvolume":80,"soundstartvolume":50,"stockpiletime":160,"weaponvelocity":500,"damage":{"commanders":500,"default":19500,"raptor":100000}}}},"legsilo":{"energycost":1500000,"metalcost":98720,"buildtime":228500,"footprintx":12,"footprintz":12,"maxthisunit":1,"explodeas":"advancedFusionExplosion","weapondefs":{"nuclear_missile":{"areaofeffect":5000,"cameraShake":15000,"craterboost":55,"cratermult":40,"energypershot":390000,"metalpershot":3000,"smokesize":28,"smokecolor":0.85,"soundhitwetvolume":80,"soundstartvolume":50,"stockpiletime":160,"weaponvelocity":500,"damage":{"commanders":500,"default":19500,"raptor":100000}}}},"raptor_turret_antinuke_t3_v1":{"maxthisunit":0},"raptor_antinuke":{"maxthisunit":0},"raptor_turret_antinuke_t4_v1":{"maxthisunit":0},"raptor_turret_antinuke_t2_v1":{"maxthisunit":0}}}')},90(e){"use strict";e.exports=JSON.parse('{"label":"T3 Eco","variable":"tweakdefs7","generator":"json-schema","definitions":[{"name":"T3 Mex Footprint","description":"Adjusts footprints for T3 metal extractors","scope":"UnitDefsLoop","conditions":[{"type":"nameInList","names":["armmmkrt3","cormmkrt3","legadveconvt3"]}],"mutations":[{"op":"set","field":"footprintx","value":6},{"op":"set","field":"footprintz","value":6}]},{"name":"Armada T3 Eco Build Options","description":"Adds T3 eco buildings to Armada T2 builders","scope":"UnitDefsLoop","conditions":[{"type":"nameInList","names":["armack","armaca","armacv"]}],"mutations":[{"op":"list_append","field":"buildoptions","value":"armafust3"},{"op":"list_append","field":"buildoptions","value":"armmmkrt3"}]},{"name":"Cortex T3 Eco Build Options","description":"Adds T3 eco buildings to Cortex T2 builders","scope":"UnitDefsLoop","conditions":[{"type":"nameInList","names":["corack","coraca","coracv"]}],"mutations":[{"op":"list_append","field":"buildoptions","value":"corafust3"},{"op":"list_append","field":"buildoptions","value":"cormmkrt3"}]},{"name":"Legion T3 Eco Build Options","description":"Adds T3 eco buildings to Legion T2 builders","scope":"UnitDefsLoop","conditions":[{"type":"nameInList","names":["legack","legaca","legacv"]}],"mutations":[{"op":"list_append","field":"buildoptions","value":"legafust3"},{"op":"list_append","field":"buildoptions","value":"legadveconvt3"}]},{"name":"Legion T2 Commander Build Options","description":"Adds legdtf to legck build options","scope":"UnitDefsLoop","conditions":[{"type":"nameInList","names":["legck"]}],"mutations":[{"op":"list_append","field":"buildoptions","value":"legdtf"}]},{"name":"T3 Storage Footprints","description":"Adjusts footprints for T3 storage buildings","scope":"UnitDefsLoop","conditions":[{"type":"nameInList","names":["coruwadves","legadvestore"]}],"mutations":[{"op":"set","field":"footprintx","value":4},{"op":"set","field":"footprintz","value":4}]}]}')},97(e){"use strict";e.exports=JSON.parse('{"label":"T4 Air Rework","variable":"tweakunits5","generator":"lua-table","description":"-- T4 Air Rework (Migrated)","data":{"raptor_air_scout_basic_t2_v1":{"customparams":{"raptorcustomsquad":true,"raptorsquadunitsamount":25,"raptorsquadminanger":20,"raptorsquadmaxanger":26,"raptorsquadweight":10,"raptorsquadrarity":"basic","raptorsquadbehavior":"raider","raptorsquadbehaviordistance":500,"raptorsquadbehaviorchance":0.75}},"raptor_hive_assault_basic":{"customparams":{"raptorcustomsquad":true,"raptorsquadunitsamount":25,"raptorsquadminanger":0,"raptorsquadmaxanger":40,"raptorsquadweight":1,"raptorsquadrarity":"basic","raptorsquadbehavior":"raider","raptorsquadbehaviordistance":500,"raptorsquadbehaviorchance":0.75}},"raptor_land_swarmer_basic_t3_v1":{"customparams":{"raptorcustomsquad":true,"raptorsquadunitsamount":25,"raptorsquadminanger":0,"raptorsquadmaxanger":40,"raptorsquadweight":2,"raptorsquadrarity":"basic","raptorsquadbehavior":"raider","raptorsquadbehaviordistance":500,"raptorsquadbehaviorchance":0.75}},"raptor_evolved_motort4":{"customparams":{"raptorcustomsquad":true,"raptorsquadunitsamount":12,"raptorsquadminanger":50,"raptorsquadmaxanger":300,"raptorsquadweight":3,"raptorsquadrarity":"special","raptorsquadbehavior":"artillery","raptorsquadbehaviordistance":2500,"raptorsquadbehaviorchance":0.75}},"raptor_hive_assault_heavy":{"customparams":{"raptorcustomsquad":true,"raptorsquadunitsamount":25,"raptorsquadminanger":55,"raptorsquadmaxanger":70,"raptorsquadweight":1,"raptorsquadrarity":"basic","raptorsquadbehavior":"berserk","raptorsquadbehaviordistance":500,"raptorsquadbehaviorchance":0.75}},"raptor_hive_assault_superheavy":{"customparams":{"raptorcustomsquad":true,"raptorsquadunitsamount":25,"raptorsquadminanger":80,"raptorsquadmaxanger":85,"raptorsquadweight":1,"raptorsquadrarity":"basic","raptorsquadbehavior":"berserk","raptorsquadbehaviordistance":500,"raptorsquadbehaviorchance":0.75}},"raptor_air_kamikaze_basic_t2_v1":{"customparams":{"raptorcustomsquad":true,"raptorsquadunitsamount":55,"raptorsquadminanger":100,"raptorsquadmaxanger":105,"raptorsquadweight":2,"raptorsquadrarity":"basic","raptorsquadbehavior":"berserk","raptorsquadbehaviordistance":500,"raptorsquadbehaviorchance":0.75}},"raptor_matriarch_fire":{"customparams":{"raptorcustomsquad":true,"raptorsquadunitsamount":30,"raptorsquadminanger":105,"raptorsquadmaxanger":135,"raptorsquadweight":3,"raptorsquadrarity":"special","raptorsquadbehavior":"berserk","raptorsquadbehaviordistance":500,"raptorsquadbehaviorchance":0.75}},"raptor_matriarch_basic":{"customparams":{"raptorcustomsquad":true,"raptorsquadunitsamount":30,"raptorsquadminanger":105,"raptorsquadmaxanger":135,"raptorsquadweight":3,"raptorsquadrarity":"special","raptorsquadbehavior":"berserk","raptorsquadbehaviordistance":500,"raptorsquadbehaviorchance":0.75}},"raptor_matriarch_acid":{"customparams":{"raptorcustomsquad":true,"raptorsquadunitsamount":30,"raptorsquadminanger":105,"raptorsquadmaxanger":135,"raptorsquadweight":3,"raptorsquadrarity":"special","raptorsquadbehavior":"berserk","raptorsquadbehaviordistance":500,"raptorsquadbehaviorchance":0.75}},"raptor_matriarch_electric":{"customparams":{"raptorcustomsquad":true,"raptorsquadunitsamount":30,"raptorsquadminanger":105,"raptorsquadmaxanger":135,"raptorsquadweight":3,"raptorsquadrarity":"special","raptorsquadbehavior":"berserk","raptorsquadbehaviordistance":500,"raptorsquadbehaviorchance":0.75},"weapons":{"5":{"def":""}}},"raptor_queen_veryeasy":{"selfdestructas":"customfusionexplo","explodeas":"customfusionexplo","maxthisunit":3,"customparams":{"raptorcustomsquad":true,"i18n_en_humanname":"Queen Degenerative","i18n_en_tooltip":"SHES A BIG ONE","raptorsquadunitsamount":2,"raptorsquadminanger":70,"raptorsquadmaxanger":150,"raptorsquadweight":2,"raptorsquadrarity":"special","raptorsquadbehavior":"berserk","raptorsquadbehaviordistance":500,"raptorsquadbehaviorchance":0.75},"weapondefs":{"melee":{"damage":{"default":5000}},"yellow_missile":{"damage":{"default":1,"vtol":500}},"goo":{"range":500,"damage":{"default":1200}}}},"corcomlvl4":{"weapondefs":{"disintegratorxl":{"damage":{"commanders":0,"default":99999,"scavboss":1000,"raptorqueen":5000}}}}}}')},176(e,t,a){var r={"./1-tweakdefs2.json":701,"./10-tweakunits2.json":602,"./11-tweakunits3.json":642,"./12-tweakunits5.json":97,"./13-tweakunits6.json":879,"./14-tweakunits7.json":501,"./15-tweakunits4.json":35,"./2-tweakdefs3.json":469,"./3-tweakdefs4.json":461,"./4-tweakdefs6.json":360,"./5-tweakdefs7.json":90,"./6-tweakdefs8.json":252,"./7-tweakdefs9.json":474,"./8-tweakunits.json":717,"./9-tweakunits1.json":315};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=176},252(e){"use strict";e.exports=JSON.parse('{"label":"T3 Builders","variable":"tweakdefs8","generator":"json-schema","definitions":[{"name":"Create T3 Construction Turrets","description":"Creates T3 construction turrets for each faction","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"armnanotct2","target":"armnanotct3","mutations":[{"op":"set","field":"metalcost","value":3700},{"op":"set","field":"energycost","value":62000},{"op":"set","field":"builddistance","value":550},{"op":"set","field":"buildtime","value":108000},{"op":"set","field":"health","value":8800},{"op":"set","field":"workertime","value":1900},{"op":"set","field":"customparams","value":{"i18n_en_humanname":"T3 Construction Turret"}}]},{"op":"clone_unit","source":"cornanotct2","target":"cornanotct3","mutations":[{"op":"set","field":"metalcost","value":3700},{"op":"set","field":"energycost","value":62000},{"op":"set","field":"builddistance","value":550},{"op":"set","field":"buildtime","value":108000},{"op":"set","field":"health","value":8800},{"op":"set","field":"workertime","value":1900},{"op":"set","field":"customparams","value":{"i18n_en_humanname":"T3 Construction Turret"}}]},{"op":"clone_unit","source":"legnanotct2","target":"legnanotct3","mutations":[{"op":"set","field":"metalcost","value":3700},{"op":"set","field":"energycost","value":62000},{"op":"set","field":"builddistance","value":550},{"op":"set","field":"buildtime","value":108000},{"op":"set","field":"health","value":8800},{"op":"set","field":"workertime","value":1900},{"op":"set","field":"customparams","value":{"i18n_en_humanname":"T3 Construction Turret"}}]}]},{"name":"Create Epic Aide Units","description":"Creates T3 Epic Aide units for each faction","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"armdecom","target":"armt3aide","mutations":[{"op":"set","field":"name","value":"Armada Epic Aide"},{"op":"set","field":"workertime","value":6000},{"op":"set","field":"buildoptions","value":["armafust3","armnanotct2","armnanotct3","armalab","armavp","armaap","armgatet3","armflak","armmmkrt3","armuwadvmst3","armadvestoret3","armgate","armfort","armshltx","corgant_taxed","leggant_taxed","armamd","armmercury","armbrtha","armminivulc","armvulc","armanni","armannit3","armlwall","legendary_pulsar"]}]},{"op":"clone_unit","source":"cordecom","target":"cort3aide","mutations":[{"op":"set","field":"name","value":"Cortex Epic Aide"},{"op":"set","field":"workertime","value":6000},{"op":"set","field":"buildoptions","value":["corafust3","cornanotct2","cornanotct3","coralab","coravp","coraap","corgatet3","corflak","cormmkrt3","coruwadvmst3","coradvestoret3","corgate","corfort","corgant","armshltx_taxed","leggant_taxed","corfmd","corscreamer","cordoomt3","corbuzz","corminibuzz","corint","cordoom","corhllllt","cormwall","legendary_bulwark"]}]},{"op":"clone_unit","source":"legdecom","target":"legt3aide","mutations":[{"op":"set","field":"name","value":"Legion Epic Aide"},{"op":"set","field":"workertime","value":6000},{"op":"set","field":"buildoptions","value":["legafust3","legnanotct2","legnanotct3","legalab","legavp","legaap","leggatet3","legflak","legadveconvt3","legamstort3","legadvestoret3","legdeflector","legforti","leggant","armshltx_taxed","corgant_taxed","legabm","legstarfall","legministarfall","leglraa","legbastion","legrwall","leglrpc","legendary_bastion","legapopupdef","legdtf"]}]}]},{"name":"Add Epic Aides to Build Options (Armada)","description":"Adds T3 Epic Aides to Experimental Gantries","scope":"UnitDefsLoop","conditions":[{"type":"nameInList","names":["armshltx"]}],"mutations":[{"op":"list_append","field":"buildoptions","value":"armt3aide"}]},{"name":"Add Epic Aides to Build Options (Cortex)","description":"Adds T3 Epic Aides to Experimental Gantries","scope":"UnitDefsLoop","conditions":[{"type":"nameInList","names":["corgant"]}],"mutations":[{"op":"list_append","field":"buildoptions","value":"cort3aide"}]},{"name":"Add Epic Aides to Build Options (Legion)","description":"Adds T3 Epic Aides to Experimental Gantries","scope":"UnitDefsLoop","conditions":[{"type":"nameInList","names":["leggant"]}],"mutations":[{"op":"list_append","field":"buildoptions","value":"legt3aide"}]}]}')},315(e){"use strict";e.exports=JSON.parse('{"label":"Legion NuttyB Evolving Commander","variable":"tweakunits1","generator":"lua-table","description":"-- Legion NuttyB Evolving Commander (Migrated)","data":{"legcom":{"footprintx":2,"footprintz":2,"energymake":50,"metalmake":5,"health":6000,"autoheal":40,"buildoptions":["legrezbot","legdtl","legdtf","legdtr","legjam","legwin"],"customparams":{"evolution_target":"legcomlvl2","evolution_condition":"timer_global","evolution_timer":420},"weapondefs":{"legcomlaser":{"corethickness":0.25,"duration":0.09,"name":"Light close-quarters g2g/g2a laser","range":360,"reloadtime":0.2,"rgbcolor":"0 2 1","soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasrcrw1","soundtrigger":true,"sprayangle":700,"thickness":6,"texture1":"shot","texture2":"empty","weapontype":"LaserCannon","weaponvelocity":2100,"damage":{"default":250}},"shotgun":{"areaofeffect":60,"energypershot":0,"avoidfeature":false,"craterboost":0,"cratermult":0,"cameraShake":0,"edgeeffectiveness":0.65,"explosiongenerator":"custom:genericshellexplosion-small","impulseboost":0.2,"impulsefactor":0.2,"intensity":3,"name":"6 Gauge Shotgun","noselfdamage":true,"predictboost":1,"projectiles":6,"range":320,"reloadtime":2,"rgbcolor":"1 0.75 0.25","size":2,"soundhit":"xplomed2xs","soundhitwet":"splsmed","soundstart":"kroggie2xs","soundstartvolume":12,"sprayangle":2000,"turret":true,"commandfire":true,"weapontimer":1,"weapontype":"Cannon","weaponvelocity":600,"stockpile":true,"stockpiletime":5,"customparams":{"stockpilelimit":10},"damage":{"default":1800,"commanders":0}}},"weapons":{"3":{"def":"shotgun","onlytargetcategory":"SURFACE"}}},"legcomlvl2":{"footprintx":2,"footprintz":2,"energymake":150,"metalmake":15,"speed":57.5,"autoheal":100,"health":6700,"customparams":{"evolution_condition":"timer_global","evolution_timer":1020},"buildoptions":["legrezbot","legadvsol","corhllt","leggeo","legnanotc","legjam","legdtf","legmg","legrad","legdtl","legdtr","legrhapsis","legwin"],"weapondefs":{"legcomlaser":{"accuracy":50,"areaofeffect":12,"avoidfriendly":false,"avoidfeature":false,"collidefriendly":false,"collidefeature":true,"beamtime":0.09,"corethickness":0.3,"duration":0.09,"explosiongenerator":"custom:laserhit-small-red","firestarter":70,"impactonly":1,"impulseboost":0,"impulsefactor":0,"name":"Light close-quarters g2g/g2a laser","noselfdamage":true,"range":500,"reloadtime":0.2,"rgbcolor":"0 0.95 0.05","soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasrcrw1","soundtrigger":true,"sprayangle":500,"targetmoveerror":0.05,"thickness":7,"tolerance":1000,"texture1":"shot","texture2":"empty","turret":true,"weapontype":"LaserCannon","weaponvelocity":2200,"damage":{"bombers":180,"default":450,"fighters":110,"subs":5}},"shotgun":{"areaofeffect":65,"energypershot":0,"avoidfeature":false,"craterboost":0,"cratermult":0,"cameraShake":0,"edgeeffectiveness":0.65,"explosiongenerator":"custom:genericshellexplosion-small","impulseboost":0.2,"impulsefactor":0.2,"intensity":3,"name":"12 Gauge Shotgun","noselfdamage":true,"predictboost":1,"projectiles":7,"range":440,"reloadtime":2,"rgbcolor":"1 0.75 0.25","size":2.5,"soundhit":"xplomed2xs","soundhitwet":"splsmed","soundstart":"kroggie2xs","soundstartvolume":12,"sprayangle":2250,"turret":true,"commandfire":true,"weapontimer":1,"weapontype":"Cannon","weaponvelocity":600,"stockpile":true,"stockpiletime":5,"customparams":{"stockpilelimit":15},"damage":{"default":2200,"commanders":0}}},"weapons":{"1":{"def":"legcomlaser","onlytargetcategory":"NOTSUB","fastautoretargeting":true},"3":{"def":"shotgun","onlytargetcategory":"SURFACE"}}},"legcomlvl3":{"footprintx":2,"footprintz":2,"energymake":1280,"metalmake":40,"speed":70.5,"workertime":700,"autoheal":150,"health":7500,"customparams":{"evolution_condition":"timer_global","evolution_timer":1440},"buildoptions":["legdeflector","legfus","legbombard","legadvestore","legmoho","legadveconv","legarad","legajam","legforti","legacluster","legamstor","legflak","legabm","legbastion","legdtr","legdtf","legrezbot","legdtl","leglab","legendary_bastion","legnanotct3","legapopupdef"],"weapondefs":{"legcomlaser":{"accuracy":50,"areaofeffect":12,"avoidfriendly":true,"avoidfeature":true,"collidefriendly":false,"collidefeature":true,"beamtime":0.09,"corethickness":0.55,"duration":0.09,"explosiongenerator":"custom:laserhit-small-red","firestarter":70,"impactonly":0,"impulseboost":0,"impulsefactor":0,"name":"Light close-quarters g2g/g2a laser","noselfdamage":true,"range":640,"reloadtime":0.2,"rgbcolor":"0 0.2 0.8","soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasrcrw1","soundtrigger":true,"sprayangle":500,"targetmoveerror":0.05,"thickness":7,"tolerance":1000,"texture1":"shot","texture2":"empty","turret":true,"weapontype":"LaserCannon","weaponvelocity":2500,"damage":{"bombers":180,"default":650,"fighters":110,"subs":5}},"shotgun":{"areaofeffect":90,"energypershot":0,"avoidfeature":false,"craterboost":0,"cratermult":0,"cameraShake":0,"edgeeffectiveness":0.65,"explosiongenerator":"custom:genericshellexplosion-small","impulseboost":0.2,"impulsefactor":0.2,"intensity":3,"name":"12 Gauge Shotgun","noselfdamage":true,"predictboost":1,"projectiles":7,"range":540,"reloadtime":2,"rgbcolor":"1 0.75 0.25","size":2.5,"soundhit":"xplomed2xs","soundhitwet":"splsmed","soundstart":"kroggie2xs","soundstartvolume":12,"sprayangle":2500,"turret":true,"commandfire":true,"weapontimer":1,"weapontype":"Cannon","weaponvelocity":600,"stockpile":true,"stockpiletime":5,"customparams":{"stockpilelimit":20},"damage":{"default":3200,"commanders":0}}},"weapons":{"1":{"def":"legcomlaser","onlytargetcategory":"NOTSUB","fastautoretargeting":true},"3":{"def":"shotgun","onlytargetcategory":"SURFACE"},"5":{"def":""}}},"legcomlvl4":{"footprintx":2,"footprintz":2,"energymake":1980,"metalmake":46,"speed":88.5,"workertime":1000,"autoheal":180,"health":24500,"customparams":{"evolution_condition":"timer_global","evolution_timer":1740},"buildoptions":["legdeflector","legfus","legbombard","legadvestore","legmoho","legadveconv","legeshotgunmech","legarad","legajam","legkeres","legacluster","legamstor","legflak","legabm","legbastion","legendary_bastion","legnanotct2","legnanotct2plat","legrwall","leglab","legtarg","legsd","legpede","legerailtank","legeheatraymech","legrezbot","legafus","leglraa","legdtl","legdtf","legministarfall","legstarfall","leggatet3","legperdition","legsilo","legsrailt4","legelrpcmech","legdtr","legnanotct3","legapopupdef"],"weapondefs":{"legcomlaser":{"accuracy":50,"areaofeffect":12,"avoidfriendly":true,"avoidfeature":true,"collidefriendly":false,"collidefeature":true,"beamtime":0.1,"corethickness":0.5,"duration":0.09,"explosiongenerator":"custom:laserhit-small-red","firestarter":70,"impactonly":0,"impulseboost":0,"impulsefactor":0,"name":"Light close-quarters g2g/g2a laser","noselfdamage":true,"range":900,"reloadtime":0.1,"rgbcolor":"0.45 0 1","soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasrcrw1","soundtrigger":1,"sprayangle":400,"targetmoveerror":0.05,"thickness":6,"tolerance":1000,"texture1":"shot","texture2":"empty","turret":true,"weapontype":"LaserCannon","weaponvelocity":3000,"damage":{"bombers":180,"default":1750,"fighters":110,"subs":5}},"shotgun":{"areaofeffect":75,"energypershot":0,"avoidfeature":false,"craterboost":0,"cratermult":0,"cameraShake":0,"edgeeffectiveness":0.65,"explosiongenerator":"custom:genericshellexplosion-small","impulseboost":0.2,"impulsefactor":0.2,"intensity":3,"name":"60 Gauge Raptor Popper","noselfdamage":true,"predictboost":1,"projectiles":9,"range":550,"reloadtime":1,"rgbcolor":"1 0.75 0.25","size":5,"soundhit":"xplomed2xs","soundhitwet":"splsmed","soundstart":"kroggie2xs","soundstartvolume":12,"sprayangle":3000,"turret":true,"commandfire":true,"weapontimer":1,"weapontype":"Cannon","weaponvelocity":600,"stockpile":true,"stockpiletime":4,"customparams":{"stockpilelimit":20},"damage":{"default":4400,"commanders":0}}},"weapons":{"1":{"def":"legcomlaser","onlytargetcategory":"NOTSUB","fastautoretargeting":true},"3":{"def":"shotgun","onlytargetcategory":"SURFACE"},"5":{"def":""}}},"legcomlvl5":{"footprintx":2,"footprintz":2,"energymake":2280,"metalmake":64,"speed":100,"workertime":1700,"autoheal":4500,"health":53900,"buildoptions":["legdeflector","legfus","legbombard","legadvestore","legmoho","legadveconv","legeshotgunmech","legarad","legajam","legkeres","legacluster","legamstor","legflak","legabm","legbastion","legendary_bastion","legnanotct2","legnanotct2plat","legrwall","leglab","legtarg","legsd","legpede","legerailtank","legeheatraymech","legrezbot","legafus","leglraa","legdtl","legdtf","legministarfall","legstarfall","leggatet3","legperdition","legsilo","legsrailt4","legelrpcmech","legdtr","legnanotct3","legapopupdef"],"weapondefs":{"machinegun":{"accuracy":80,"areaofeffect":10,"avoidfeature":false,"beamburst":true,"beamdecay":1,"beamtime":0.07,"burst":6,"burstrate":0.10667,"camerashake":0,"corethickness":0.35,"craterareaofeffect":0,"craterboost":0,"cratermult":0,"edgeeffectiveness":1,"explosiongenerator":"custom:laserhit-medium-red","firestarter":10,"impulsefactor":0,"largebeamlaser":true,"laserflaresize":30,"name":"Rapid-fire close quarters g2g armor-piercing laser","noselfdamage":true,"pulsespeed":"q8","range":1100,"reloadtime":0.5,"rgbcolor":"0.7 0.3 1.0","rgbcolor2":"0.8 0.6 1.0","soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasfirerc","soundtrigger":1,"sprayangle":500,"targetborder":0.2,"thickness":5.5,"tolerance":4500,"turret":true,"weapontype":"BeamLaser","weaponvelocity":920,"damage":{"default":1300,"vtol":180}},"shotgunarm":{"areaofeffect":112,"commandfire":true,"avoidfeature":false,"craterboost":0,"cratermult":0,"cameraShake":0,"edgeeffectiveness":0.65,"explosiongenerator":"custom:genericshellexplosion-medium","impulsefactor":0.8,"intensity":0.2,"mygravity":1,"name":"GaussCannon","noselfdamage":true,"predictboost":1,"projectiles":20,"range":650,"reloadtime":1,"rgbcolor":"0.8 0.4 1.0","size":4,"sizeDecay":0.044,"stages":16,"alphaDecay":0.66,"soundhit":"xplomed2xs","soundhitwet":"splsmed","soundstart":"kroggie2xs","sprayangle":3500,"tolerance":6000,"turret":true,"waterweapon":true,"weapontimer":2,"weapontype":"Cannon","weaponvelocity":900,"stockpile":true,"stockpiletime":2,"customparams":{"stockpilelimit":50},"damage":{"default":10000,"commanders":0}},"exp_heavyrocket":{"areaofeffect":70,"collidefriendly":0,"collidefeature":0,"cameraShake":0,"energypershot":125,"avoidfeature":0,"avoidfriendly":0,"burst":4,"burstrate":0.3,"cegtag":"missiletrailsmall-red","colormap":"0.75 0.73 0.67 0.024   0.37 0.4 0.30 0.021   0.22 0.21 0.14 0.018  0.024 0.014 0.009 0.03   0.0 0.0 0.0 0.008","craterboost":0,"craterareaofeffect":0,"cratermult":0,"dance":24,"edgeeffectiveness":0.65,"explosiongenerator":"custom:burnblack","firestarter":70,"flighttime":1.05,"flamegfxtime":1,"impulsefactor":0.123,"impactonly":1,"model":"catapultmissile.s3o","movingaccuracy":600,"name":"Raptor Boomer","noselfdamage":true,"proximitypriority":null,"range":700,"reloadtime":1,"smoketrail":true,"smokePeriod":4,"smoketime":16,"smokesize":8.5,"smokecolor":0.5,"size":2,"smokeTrailCastShadow":false,"soundhit":"rockhit","soundhitwet":"splsmed","soundstart":"rapidrocket3","startvelocity":165,"rgbcolor":"1 0.25 0.1","texture1":"null","texture2":"smoketrailbar","trajectoryheight":1,"targetmoveerror":0.2,"turnrate":5000,"tracks":true,"turret":true,"allowNonBlockingAim":true,"weaponacceleration":660,"weapontimer":6,"weapontype":"MissileLauncher","weaponvelocity":950,"wobble":2000,"damage":{"default":1300},"customparams":{"exclude_preaim":true,"overrange_distance":777,"projectile_destruction_method":"descend"}}},"weapons":{"1":{"def":"machinegun","onlytargetcategory":"NOTSUB","fastautoretargeting":true},"3":{"def":"shotgunarm","onlytargetcategory":"WEAPON"},"5":{"def":"exp_heavyrocket","onlytargetcategory":"SURFACE"}}}}}')},360(e){"use strict";e.exports=JSON.parse('{"label":"Cross Faction T2","variable":"tweakdefs6","generator":"json-schema","definitions":[{"name":"Cross Faction Taxed Units","description":"Creates taxed versions of T2 factories and labs","scope":"UnitDefsLoop","conditions":[{"type":"customParam","key":"techlevel","value":2},{"type":"customParamMatch","key":"subfolder","regex":"(Fact|Lab)"}],"mutations":[{"op":"clone_unit","source":"SELF","targetSuffix":"_taxed","mutations":[{"op":"multiply","field":"energyCost","factor":1.7},{"op":"multiply","field":"metalCost","factor":1.7},{"op":"set","field":"name","value":{"type":"math","expression":"name + \' (Taxed)\'","variables":{}}},{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":{"type":"math","expression":"humanname + \' (Taxed)\'","variables":{"humanname":"customparams.i18n_en_humanname"}}}}]}]}]}')},461(e){"use strict";e.exports=JSON.parse('{"label":"Mini Bosses","variable":"tweakdefs4","generator":"json-schema","definitions":[{"name":"Queenling Prima","description":"Creates Queenling Prima from Raptor Matriarch Basic","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"raptor_matriarch_basic","target":"raptor_miniq_a","mutations":[{"op":"set","field":"name","value":"Queenling Prima"},{"op":"set","field":"icontype","value":"raptor_queen_veryeasy"},{"op":"multiply","field":"health","factor":5},{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Queenling Prima","i18n_en_tooltip":"Majestic and bold, ruler of the hunt."}},{"op":"set","field":"maxThisUnit","value":{"type":"math","expression":"max(1, ceil(2 * (spawn_mult / 3)))","variables":{"spawn_mult":{"type":"mod_option","key":"raptor_spawncountmult","default":3}}}}]}]},{"name":"Queenling Secunda","description":"Creates Queenling Secunda from Raptor Matriarch Basic","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"raptor_matriarch_basic","target":"raptor_miniq_b","mutations":[{"op":"set","field":"name","value":"Queenling Secunda"},{"op":"set","field":"icontype","value":"raptor_queen_easy"},{"op":"multiply","field":"health","factor":6},{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Queenling Secunda","i18n_en_tooltip":"Swift and sharp, a noble among raptors."}},{"op":"set","field":"maxThisUnit","value":{"type":"math","expression":"max(1, ceil(3 * (spawn_mult / 3)))","variables":{"spawn_mult":{"type":"mod_option","key":"raptor_spawncountmult","default":3}}}}]}]},{"name":"Queenling Tertia","description":"Creates Queenling Tertia from Raptor Matriarch Basic","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"raptor_matriarch_basic","target":"raptor_miniq_c","mutations":[{"op":"set","field":"name","value":"Queenling Tertia"},{"op":"set","field":"icontype","value":"raptor_queen_normal"},{"op":"multiply","field":"health","factor":7},{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Queenling Tertia","i18n_en_tooltip":"Refined tastes. Likes her prey rare."}},{"op":"set","field":"maxThisUnit","value":{"type":"math","expression":"max(1, ceil(4 * (spawn_mult / 3)))","variables":{"spawn_mult":{"type":"mod_option","key":"raptor_spawncountmult","default":3}}}}]}]}]}')},469(e){"use strict";e.exports=JSON.parse('{"label":"T4 Defences Test","variable":"tweakdefs3","generator":"json-schema","definitions":[{"name":"Legendary Pulsar","description":"Creates Legendary Pulsar from Armannit3","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"armannit3","target":"legendary_pulsar","mutations":[{"op":"set","field":"name","value":"Legendary Pulsar"},{"op":"set","field":"description","value":"A pinnacle of Armada engineering that fires devastating, rapid-fire tachyon bolts."},{"op":"set","field":"buildTime","value":300000},{"op":"set","field":"health","value":30000},{"op":"set","field":"metalCost","value":43840},{"op":"set","field":"energyCost","value":1096000},{"op":"set","field":"icontype","value":"armannit3"},{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Legendary Pulsar","i18n_en_tooltip":"Fires devastating, rapid-fire tachyon bolts.","techlevel":4}},{"op":"modify_weapon","weaponName":"tachyon_burst_cannon","mutations":[{"op":"set","field":"name","value":"Tachyon Burst Cannon"},{"op":"set","field":"damage","value":{"default":8000}},{"op":"set","field":"burst","value":3},{"op":"set","field":"burstrate","value":0.4},{"op":"set","field":"reloadtime","value":5},{"op":"set","field":"range","value":1800},{"op":"set","field":"energypershot","value":12000}]}]}]},{"name":"Legendary Bastion","description":"Creates Legendary Bastion from Legbastion","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"legbastion","target":"legendary_bastion","mutations":[{"op":"set","field":"name","value":"Legendary Bastion"},{"op":"set","field":"description","value":"The ultimate defensive emplacement. Projects a devastating, pulsating heatray."},{"op":"set","field":"health","value":22000},{"op":"set","field":"metalCost","value":65760},{"op":"set","field":"energyCost","value":1986500},{"op":"set","field":"buildTime","value":180000},{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Legendary Bastion","i18n_en_tooltip":"Projects a devastating, pulsating purple heatray.","maxrange":1450,"techlevel":4}}]}]},{"name":"Legendary Bulwark","description":"Creates Legendary Bulwark from Cordoomt3","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"cordoomt3","target":"legendary_bulwark","mutations":[{"op":"set","field":"name","value":"Legendary Bulwark"},{"op":"set","field":"description","value":"A pinnacle of defensive technology, the Legendary Bulwark annihilates all who approach."},{"op":"set","field":"health","value":42000},{"op":"set","field":"metalCost","value":61650},{"op":"set","field":"energyCost","value":1712500},{"op":"set","field":"buildTime","value":250000},{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Legendary Bulwark","i18n_en_tooltip":"The ultimate defensive structure.","paralyzemultiplier":0.2,"techlevel":4}}]}]},{"name":"Armada Commanders T4 Build Options","description":"Adds Legendary Pulsar to Armada Commanders","scope":"UnitDefsLoop","conditions":[{"type":"nameStartsWith","prefix":"armcomlvl"},{"type":"nameInList","names":["armt3airaide"]}],"mutations":[{"op":"list_append","field":"buildoptions","value":"legendary_pulsar"}]},{"name":"Cortex Commanders T4 Build Options","description":"Adds Legendary Bulwark to Cortex Commanders","scope":"UnitDefsLoop","conditions":[{"type":"nameStartsWith","prefix":"corcomlvl"},{"type":"nameInList","names":["cort3airaide"]}],"mutations":[{"op":"list_append","field":"buildoptions","value":"legendary_bulwark"}]},{"name":"Legion Commanders T4 Build Options","description":"Adds Legendary Bastion to Legion Commanders","scope":"UnitDefsLoop","conditions":[{"type":"nameStartsWith","prefix":"legcomlvl"},{"type":"nameInList","names":["legt3airaide"]}],"mutations":[{"op":"list_append","field":"buildoptions","value":"legendary_bastion"}]}]}')},474(e){"use strict";e.exports=JSON.parse('{"label":"Unit Launchers","variable":"tweakdefs9","generator":"json-schema","definitions":[{"name":"Create Meatball Launcher","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"armbotrail","target":"armmeatball","mutations":[{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Meatball Launcher"}},{"op":"modify_weapon","weaponName":"arm_botrail","mutations":[{"op":"set","field":"range","value":7550},{"op":"set","field":"metalpershot","value":5300},{"op":"set","field":"energypershot","value":96000},{"op":"set","field":"reloadtime","value":0.5},{"op":"table_merge","field":"customparams","value":{"stockpilelimit":50,"spawns_name":"armmeatball"}}]}]}]},{"name":"Create Assimilator Launcher","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"armbotrail","target":"armassimilator","mutations":[{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Assimilator Launcher"}},{"op":"modify_weapon","weaponName":"arm_botrail","mutations":[{"op":"set","field":"range","value":7550},{"op":"set","field":"metalpershot","value":4500},{"op":"set","field":"energypershot","value":80000},{"op":"set","field":"reloadtime","value":0.5},{"op":"table_merge","field":"customparams","value":{"stockpilelimit":50,"spawns_name":"armassimilator"}}]}]}]},{"name":"Create Epic Pawn Launcher","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"armbotrail","target":"armpwt4","mutations":[{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Epic Pawn Launcher"}},{"op":"modify_weapon","weaponName":"arm_botrail","mutations":[{"op":"set","field":"range","value":7550},{"op":"set","field":"metalpershot","value":14200},{"op":"set","field":"energypershot","value":480000},{"op":"set","field":"reloadtime","value":0.5},{"op":"table_merge","field":"customparams","value":{"stockpilelimit":50,"spawns_name":"armpwt4"}}]}]}]},{"name":"Create Armada T1 Launcher","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"armbotrail","target":"armt1","mutations":[{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Armada T1 Launcher"}},{"op":"modify_weapon","weaponName":"arm_botrail","mutations":[{"op":"set","field":"stockpiletime","value":0.5},{"op":"set","field":"range","value":7550},{"op":"set","field":"metalpershot","value":250},{"op":"set","field":"energypershot","value":12500},{"op":"set","field":"reloadtime","value":0.5},{"op":"table_merge","field":"customparams","value":{"stockpilelimit":50,"spawns_name":"armham armjeth armpw armrock armwar armah armanac armmh armsh armart armfav armflash armjanus armpincer armsam armstump armzapper","spawns_mode":"random"}}]}]}]},{"name":"Add Launchers to Cormandot4","scope":"UnitDefsLoop","conditions":[{"type":"nameMatch","regex":"cormandot4"}],"mutations":[{"op":"list_append","field":"buildoptions","value":"armmeatball"},{"op":"list_append","field":"buildoptions","value":"armassimilator"},{"op":"list_append","field":"buildoptions","value":"armpwt4"},{"op":"list_append","field":"buildoptions","value":"armt1"}]}]}')},501(e){"use strict";e.exports=JSON.parse('{"label":"Unit Launchers","variable":"tweakunits7","generator":"lua-table","description":"-- Unit Launchers (Migrated)","data":{"legfortt4":{"customparams":{"i18n_en_humanname":"Experimental Tyrannus","i18n_en_tooltip":"In dedication to our commander Tyrannus"},"weapondefs":{"machinegun":{"accuracy":400,"areaofeffect":64,"avoidfriendly":false,"avoidfeature":false,"collidefriendly":false,"collidefeature":true,"beamtime":0.09,"corethickness":0.55,"duration":0.09,"burst":1,"burstrate":0.1,"explosiongenerator":"custom:genericshellexplosion-tiny-aa","energypershot":0,"falloffrate":0,"firestarter":50,"interceptedbyshieldtype":4,"intensity":2,"name":"scav rapid fire plasma gun","range":1000,"reloadtime":0.1,"weapontype":"LaserCannon","rgbcolor":"1 0 0","rgbcolor2":"1 1 1","soundtrigger":true,"soundstart":"tgunshipfire","texture1":"shot","texture2":"explo2","thickness":8.5,"tolerance":1000,"turret":true,"weaponvelocity":1000,"damage":{"default":60}},"heatray1":{"allowNonBlockingAim":true,"avoidfriendly":true,"areaofeffect":64,"avoidfeature":false,"beamtime":0.033,"camerashake":0.1,"collidefriendly":false,"corethickness":0.45,"craterareaofeffect":12,"craterboost":0,"cratermult":0,"edgeeffectiveness":1,"energypershot":0,"explosiongenerator":"custom:heatray-large","firestarter":90,"firetolerance":300,"impulsefactor":0,"intensity":9,"laserflaresize":8,"name":"Experimental Thermal Ordnance Generators","noselfdamage":true,"proximitypriority":-1,"range":850,"reloadtime":0.033,"rgbcolor":"1 0.55 0","rgbcolor2":"0.9 1.0 0.5","scrollspeed":5,"soundhitdry":"heatray3start","soundhitwet":"sizzle","soundstart":"heatray3lp","soundstartvolume":6,"soundtrigger":1,"thickness":6,"turret":true,"weapontype":"BeamLaser","weaponvelocity":1500,"damage":{"default":150}},"ata":{"areaofeffect":34,"avoidfeature":false,"beamtime":2,"collidefriendly":false,"corethickness":0.5,"craterareaofeffect":0,"craterboost":0,"cratermult":0,"edgeeffectiveness":0.3,"energypershot":7000,"explosiongenerator":"custom:laserhit-large-blue","firestarter":90,"impulsefactor":0,"largebeamlaser":true,"laserflaresize":7,"name":"Heavy long-range g2g tachyon accelerator beam","noselfdamage":true,"range":1300,"reloadtime":15,"rgbcolor":"0 1 1","scrollspeed":5,"soundhitdry":"","soundhitwet":"sizzle","soundstart":"raptorlaser","soundtrigger":1,"soundstartvolume":4,"texture3":"largebeam","thickness":10,"tilelength":150,"tolerance":10000,"turret":true,"weapontype":"BeamLaser","weaponvelocity":3100,"damage":{"commanders":480,"default":48000}}},"weapons":{"1":{"badtargetcategory":"NOTLAND","def":"heatray1","maindir":"-1 0 0","maxangledif":210,"onlytargetcategory":"SURFACE"},"2":{"badtargetcategory":"NOTLAND","def":"heatray1","maindir":"1 0 0","maxangledif":210,"onlytargetcategory":"SURFACE"},"3":{"def":"ata","maindir":"1 0 0","maxangledif":190,"onlytargetcategory":"SURFACE"},"4":{"def":"machinegun","onlytargetcategory":"SURFACE"},"5":{"def":"machinegun","onlytargetcategory":"SURFACE"}}}}}')},602(e){"use strict";e.exports=JSON.parse('{"label":"Armada NuttyB Evolving Commander","variable":"tweakunits2","generator":"lua-table","description":"-- Armada NuttyB Evolving Commander (Migrated)","data":{"armcom":{"customparams":{"evolution_target":"armcomlvl2","evolution_condition":"timer_global","evolution_timer":420},"energymake":100,"metalmake":10,"autoheal":55,"health":4500,"speed":41,"canresurrect":true,"buildoptions":["armsolar","armwin","armmstor","armestor","armmex","armmakr","armlab","armvp","armap","armeyes","armrad","armdrag","armllt","armrl","armdl","armtide","armuwms","armuwes","armuwmex","armfmkr","armsy","armfdrag","armtl","armfrt","armfrad","armhp","armfhp","armgeo","armamex","armhp","armbeamer","armjamt","armsy","armrectr","armclaw"],"weapondefs":{"armcomlaser":{"range":330,"rgbcolor":"0.7 1 1","soundstart":"lasrfir1","damage":{"default":175}},"old_armsnipe_weapon":{"areaofeffect":32,"avoidfeature":true,"avoidfriendly":true,"collidefeature":true,"collidefriendly":false,"corethickness":0.75,"craterareaofeffect":0,"craterboost":0,"commandfire":true,"cratermult":0,"cegtag":"railgun","duration":0.12,"edgeeffectiveness":0.85,"energypershot":400,"explosiongenerator":"custom:laserhit-large-blue","firestarter":100,"impulseboost":0.4,"impulsefactor":1,"intensity":0.8,"name":"Long-range g2g armor-piercing rifle","range":550,"reloadtime":1,"rgbcolor":"0 1 1","rgbcolor2":"0 1 1","soundhit":"sniperhit","soundhitwet":"sizzle","soundstart":"sniper3","soundtrigger":true,"stockpile":true,"stockpiletime":7,"customparams":{"stockpilelimit":5},"texture1":"shot","texture2":"empty","thickness":4,"tolerance":1000,"turret":true,"weapontype":"LaserCannon","weaponvelocity":3000,"damage":{"commanders":100,"default":4900}}},"weapons":{"3":{"def":"old_armsnipe_weapon","onlytargetcategory":"NOTSUB"}}},"armcomlvl2":{"autoheal":90,"builddistance":175,"canresurrect":true,"energymake":315,"health":7000,"speed":57.5,"metalmake":20,"workertime":900,"buildoptions":["armsolar","armwin","armmstor","armestor","armmex","armmakr","armlab","armvp","armap","armeyes","armrad","armdrag","armllt","armrl","armdl","armtide","armuwms","armuwes","armuwmex","armfmkr","armsy","armfdrag","armtl","armfrt","armfrad","armhp","armfhp","armadvsol","armgeo","armamex","armnanotcplat","armhp","armnanotc","armclaw","armbeamer","armhlt","armguard","armferret","armcir","armjamt","armjuno","armsy","armrectr"],"customparams":{"evolution_target":"armcomlvl3","evolution_condition":"timer_global","evolution_timer":1320},"weapondefs":{"armcomlaser":{"areaofeffect":16,"avoidfeature":false,"beamtime":0.1,"corethickness":0.1,"craterareaofeffect":0,"craterboost":0,"cratermult":0,"cylindertargeting":1,"edgeeffectiveness":1,"explosiongenerator":"custom:laserhit-small-red","firestarter":70,"impactonly":1,"impulseboost":0,"impulsefactor":0,"laserflaresize":7.7,"name":"Light close-quarters g2g/g2a laser","noselfdamage":true,"range":425,"reloadtime":0.7,"rgbcolor":"0 1 1","soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasrfir1","soundtrigger":1,"targetmoveerror":0.05,"thickness":4,"tolerance":10000,"turret":true,"weapontype":"BeamLaser","weaponvelocity":900,"damage":{"default":950,"VTOL":150}},"old_armsnipe_weapon":{"areaofeffect":42,"avoidfeature":true,"avoidfriendly":true,"collidefeature":true,"collidefriendly":false,"corethickness":0.75,"craterareaofeffect":0,"craterboost":0,"commandfire":true,"cratermult":0,"cegtag":"railgun","duration":0.12,"edgeeffectiveness":0.85,"energypershot":700,"explosiongenerator":"custom:laserhit-large-blue","firestarter":100,"impulseboost":0.4,"impulsefactor":1,"intensity":1,"name":"Long-range g2g armor-piercing rifle","range":700,"reloadtime":1,"rgbcolor":"0.2 0.1 1","rgbcolor2":"0.2 0.1 1","soundhit":"sniperhit","soundhitwet":"sizzle","soundstart":"sniper3","soundtrigger":true,"stockpile":true,"stockpiletime":6,"customparams":{"stockpilelimit":10},"texture1":"shot","texture2":"empty","thickness":4,"tolerance":1000,"turret":true,"weapontype":"LaserCannon","weaponvelocity":3000,"damage":{"commanders":10,"default":11000}}},"weapons":{"1":{"def":"armcomlaser","onlytargetcategory":"NOTSUB","fastautoretargeting":true},"3":{"def":"old_armsnipe_weapon","onlytargetcategory":"NOTSUB"}}},"armcomlvl3":{"autoheal":50,"builddistance":250,"canresurrect":true,"energymake":2712,"health":10000,"speed":71.5,"metalmake":62,"workertime":1500,"buildoptions":["armanni","armpb","armamb","armmoho","armuwmme","armflak","armmercury","armgate","armsd","armfort","armtarg","armarad","armamd","armveil","armuwadvms","armuwadves","armmmkr","armclaw","armjuno","armuwmex","armhp","armsy","armfdrag","armtl","armfrt","armfrad","armhp","armlab","armvp","armap","armsy","armuwmmm","armuwfus","armplat","armfdrag","armfhlt","armfflak","armatl","armkraken","armnanotcplat","armbrtha","armannit3","armlwall","armnanotct2","armafus","armfus","armckfus","armraz","armzeus","armsnipe","armvang","armrectr","armgatet3","legendary_pulsar","armnanotct3"],"customparams":{"evolution_target":"armcomlvl4","evolution_condition":"timer_global","evolution_timer":1740},"weapondefs":{"old_armsnipe_weapon":{"areaofeffect":64,"avoidfeature":true,"avoidfriendly":true,"collidefeature":true,"collidefriendly":false,"corethickness":0.75,"craterareaofeffect":0,"craterboost":0,"commandfire":true,"cratermult":0,"cegtag":"railgun","duration":0.12,"edgeeffectiveness":1,"energypershot":2000,"explosiongenerator":"custom:laserhit-large-blue","firestarter":100,"impulseboost":0.4,"impulsefactor":1,"intensity":1.4,"name":"Long-range g2g armor-piercing rifle","range":1250,"reloadtime":0.5,"rgbcolor":"0.4 0.1 0.7","rgbcolor2":"0.4 0.1 0.7","soundhit":"sniperhit","soundhitwet":"sizzle","soundstart":"sniper3","soundtrigger":true,"stockpile":true,"stockpiletime":3,"customparams":{"stockpilelimit":10},"texture1":"shot","texture2":"empty","thickness":6,"tolerance":1000,"turret":true,"weapontype":"LaserCannon","weaponvelocity":3000,"damage":{"commanders":10,"default":35000}},"armcomlaser":{"areaofeffect":12,"avoidfeature":false,"beamtime":0.1,"corethickness":0.1,"craterareaofeffect":0,"craterboost":0,"cratermult":0,"cylindertargeting":1,"edgeeffectiveness":1,"explosiongenerator":"custom:laserhit-small-red","firestarter":70,"impactonly":1,"impulseboost":0,"impulsefactor":0,"laserflaresize":7.7,"name":"Light close-quarters g2g/g2a laser","noselfdamage":true,"range":500,"reloadtime":0.6,"rgbcolor":"0.1 0 1","soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasrcrw2","soundtrigger":1,"targetmoveerror":0.05,"thickness":6,"tolerance":10000,"turret":true,"weapontype":"BeamLaser","weaponvelocity":900,"damage":{"default":1450,"VTOL":180}}},"weapons":{"1":{"def":""},"3":{"def":"old_armsnipe_weapon","onlytargetcategory":"NOTSUB"},"4":{"def":""},"5":{"badtargetcategory":"MOBILE","def":"armcomlaser","onlytargetcategory":"NOTSUB","fastautoretargeting":true},"6":{"def":""}}},"armcomlvl4":{"autoheal":150,"builddistance":300,"canresurrect":true,"energymake":3112,"health":20000,"speed":82,"metalmake":86,"workertime":2000,"buildoptions":["armanni","armpb","armamb","armmoho","armuwmme","armflak","armmercury","armgate","armsd","armfort","armtarg","armarad","armamd","armveil","armuwadvms","armuwadves","armmmkr","armclaw","armjuno","armuwmex","armhp","armsy","armfdrag","armtl","armfrt","armfrad","armhp","armlab","armvp","armap","armsy","armuwmmm","armuwfus","armplat","armfdrag","armfhlt","armfflak","armatl","armkraken","armnanotcplat","armbrtha","armannit3","armlwall","armnanotct2","armafus","armfus","armckfus","armraz","armzeus","armsnipe","armvang","armrectr","armgatet3","legendary_pulsar","armnanotct3"],"weapondefs":{"old_armsnipe_weapon":{"areaofeffect":72,"avoidfeature":true,"avoidfriendly":true,"collidefeature":true,"collidefriendly":false,"corethickness":0.75,"craterareaofeffect":0,"craterboost":0,"commandfire":true,"cratermult":0,"cegtag":"railgun","duration":0.12,"edgeeffectiveness":1,"energypershot":2000,"explosiongenerator":"custom:laserhit-large-blue","firestarter":100,"impulseboost":0.4,"impulsefactor":1,"intensity":1.4,"name":"Long-range g2g armor-piercing rifle","range":1250,"reloadtime":0.5,"rgbcolor":"0.4 0.1 0.7","rgbcolor2":"0.4 0.1 0.7","soundhit":"sniperhit","soundhitwet":"sizzle","soundstart":"sniper3","soundtrigger":true,"stockpile":true,"stockpiletime":2,"customparams":{"stockpilelimit":15},"texture1":"shot","texture2":"empty","thickness":6,"tolerance":1000,"turret":true,"weapontype":"LaserCannon","weaponvelocity":3000,"damage":{"commanders":10,"default":45000}},"ata":{"areaofeffect":16,"avoidfeature":false,"beamtime":1.25,"collidefriendly":false,"corethickness":0.5,"craterareaofeffect":0,"craterboost":0,"cratermult":0,"edgeeffectiveness":0.3,"energypershot":7000,"explosiongenerator":"custom:laserhit-large-blue","firestarter":90,"impulsefactor":0,"largebeamlaser":true,"laserflaresize":7,"name":"Heavy long-range g2g tachyon accelerator beam","noselfdamage":true,"range":1100,"reloadtime":15,"rgbcolor":"1 0 1","scrollspeed":5,"soundhitdry":"","soundhitwet":"sizzle","soundstart":"annigun1","soundtrigger":1,"texture3":"largebeam","thickness":10,"tilelength":150,"tolerance":10000,"turret":true,"weapontype":"BeamLaser","weaponvelocity":3100,"damage":{"commanders":480,"default":48000}},"armcomlaser":{"areaofeffect":12,"avoidfeature":false,"beamtime":0.1,"corethickness":0.1,"craterareaofeffect":0,"craterboost":0,"cratermult":0,"cylindertargeting":1,"edgeeffectiveness":1,"explosiongenerator":"custom:laserhit-small-red","firestarter":70,"impactonly":1,"impulseboost":0,"impulsefactor":0,"laserflaresize":7.7,"name":"Light close-quarters g2g/g2a laser","noselfdamage":true,"range":550,"reloadtime":0.5,"rgbcolor":"0.659 0 1","soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasrcrw2","soundtrigger":1,"targetmoveerror":0.05,"thickness":6,"tolerance":10000,"turret":true,"weapontype":"BeamLaser","weaponvelocity":900,"damage":{"default":1750,"VTOL":200}}},"weapons":{"1":{"def":"armcomlaser","onlytargetcategory":"NOTSUB","fastautoretargeting":true},"3":{"def":"old_armsnipe_weapon","onlytargetcategory":"NOTSUB"},"4":{"badtargetcategory":"VTOL GROUNDSCOUT","def":"ATA","onlytargetcategory":"SURFACE"},"5":{"def":""},"6":{"def":""}}}}}')},642(e){"use strict";e.exports=JSON.parse('{"label":"Cortex NuttyB Evolving Commander","variable":"tweakunits3","generator":"lua-table","description":"-- Cortex NuttyB Evolving Commander (Migrated)","data":{"corcom":{"customparams":{"evolution_target":"corcomlvl2","evolution_condition":"timer_global","evolution_timer":420},"autoheal":80,"speed":45,"energymake":75,"metalmake":6,"health":5500,"buildoptions":{"28":"corhllt","29":"cornecro","30":"corlevlr","31":"corak","32":"cormaw"},"weapondefs":{"corcomlaser":{"range":370,"damage":{"bombers":180,"default":260,"fighters":110,"subs":5}},"disintegrator":{"energypershot":1000,"reloadtime":8}}},"corcomlvl2":{"speed":62,"health":8500,"energymake":255,"metalmake":16,"autoheal":300,"builddistance":200,"workertime":600,"buildoptions":{"1":"corsolar","2":"coradvsol","3":"corwin","4":"corgeo","5":"cormstor","6":"corestor","7":"cormex","8":"corexp","9":"cormakr","10":"corcan","11":"correap","12":"corlab","13":"corvp","14":"corap","15":"corhp","16":"cornanotc","17":"coreyes","18":"corrad","19":"cordrag","20":"cormaw","21":"corllt","22":"corhllt","23":"corhlt","24":"corpun","25":"corrl","26":"cormadsam","27":"corerad","28":"cordl","29":"corjamt","30":"corjuno","31":"corsy","32":"coruwgeo","33":"corfasp","34":"cornerco","35":"coruwes","36":"corplat","37":"corfhp","38":"coruwms","39":"corfhlt","40":"cornanotcplat","41":"corfmkr","42":"cortide","43":"corfrad","44":"corfrt","45":"corfdrag","46":"cortl","47":"cornecro"},"customparams":{"evolution_target":"corcomlvl3","evolution_condition":"timer_global","evolution_timer":1320,"shield_power":500,"shield_radius":100},"weapondefs":{"armcomlaser":{"areaofeffect":16,"avoidfeature":false,"beamtime":0.1,"corethickness":0.1,"craterareaofeffect":0,"craterboost":0,"cratermult":0,"cylindertargeting":1,"edgeeffectiveness":1,"explosiongenerator":"custom:laserhit-small-red","firestarter":70,"impactonly":1,"impulseboost":0,"impulsefactor":0,"laserflaresize":7.7,"name":"Light close-quarters g2g/g2a laser","noselfdamage":true,"range":500,"reloadtime":0.4,"rgbcolor":"0.6 0.3 0.8","soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasrfir1","soundtrigger":1,"targetmoveerror":0.05,"thickness":4,"tolerance":10000,"turret":true,"weapontype":"BeamLaser","weaponvelocity":900,"damage":{"bombers":180,"default":1500,"fighters":110,"subs":5}},"disintegrator":{"areaofeffect":36,"avoidfeature":false,"avoidfriendly":false,"avoidground":false,"bouncerebound":0,"cegtag":"dgunprojectile","commandfire":true,"craterboost":0,"cratermult":0.15,"edgeeffectiveness":0.15,"energypershot":500,"explosiongenerator":"custom:expldgun","firestarter":100,"firesubmersed":false,"groundbounce":true,"impulseboost":0,"impulsefactor":0,"name":"Disintegrator","noexplode":true,"noselfdamage":true,"range":250,"reloadtime":6,"paralyzer":{},"soundhit":"xplomas2s","soundhitwet":"sizzlexs","soundstart":"disigun1","soundhitvolume":36,"soundstartvolume":96,"soundtrigger":true,"tolerance":10000,"turret":true,"waterweapon":true,"weapontimer":4.2,"weapontype":"DGun","weaponvelocity":300,"damage":{"commanders":0,"default":20000,"raptors":10000}}},"weapons":{"1":{"def":"armcomlaser","onlytargetcategory":"NOTSUB","fastautoretargeting":true},"3":{"def":"DISINTEGRATOR","onlytargetcategory":"NOTSUB"}}},"corcomlvl3":{"speed":80,"health":30000,"energymake":2180,"metalmake":49,"autoheal":1500,"workertime":1200,"builddistance":250,"buildoptions":{"1":"corfus","2":"corafus","3":"corageo","4":"corbhmth","5":"cormoho","6":"cormexp","7":"cormmkr","8":"coruwadves","9":"coruwadvms","10":"corarad","11":"corshroud","12":"corfort","13":"corlab","14":"cortarg","15":"corsd","16":"corgate","17":"cortoast","18":"corvipe","19":"cordoom","20":"corflak","21":"corscreamer","22":"corvp","23":"corfmd","24":"corap","25":"corint","26":"corplat","27":"corsy","28":"coruwmme","29":"coruwmmm","30":"corenaa","31":"corfdoom","32":"coratl","33":"coruwfus","34":"corjugg","35":"corshiva","36":"corsumo","37":"corgol","38":"corkorg","39":"cornanotc2plat","40":"cornanotct2","41":"cornecro","42":"cordoomt3","43":"corhllllt","44":"cormaw","45":"cormwall","46":"corgatet3","47":"legendary_bulwark","48":"cornanotct3"},"customparams":{"evolution_target":"corcomlvl4","evolution_condition":"timer_global","evolution_timer":1740},"weapondefs":{"corcomlaser":{"areaofeffect":12,"avoidfeature":false,"beamtime":0.1,"corethickness":0.1,"craterareaofeffect":0,"craterboost":0,"cratermult":0,"cylindertargeting":1,"edgeeffectiveness":1,"explosiongenerator":"custom:laserhit-small-red","firestarter":70,"impactonly":1,"impulseboost":0,"impulsefactor":0,"laserflaresize":5.5,"name":"J7Laser","noselfdamage":true,"range":900,"reloadtime":0.4,"rgbcolor":"0.7 0 1","soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasrfir1","soundtrigger":1,"targetmoveerror":0.05,"thickness":3,"tolerance":10000,"turret":true,"weapontype":"BeamLaser","weaponvelocity":900,"damage":{"default":2000,"subs":5}},"disintegrator":{"areaofeffect":36,"avoidfeature":false,"avoidfriendly":false,"avoidground":false,"bouncerebound":0,"cegtag":"dgunprojectile","commandfire":true,"craterboost":0,"cratermult":0.15,"edgeeffectiveness":0.15,"energypershot":500,"explosiongenerator":"custom:expldgun","firestarter":100,"firesubmersed":false,"groundbounce":true,"impulseboost":0,"impulsefactor":0,"name":"Disintegrator","noexplode":true,"noselfdamage":true,"range":250,"reloadtime":3,"paralyzer":{},"soundhit":"xplomas2s","soundhitwet":"sizzlexs","soundstart":"disigun1","soundhitvolume":36,"soundstartvolume":96,"soundtrigger":true,"size":4,"tolerance":10000,"turret":true,"waterweapon":true,"weapontimer":4.2,"weapontype":"DGun","weaponvelocity":300,"damage":{"commanders":0,"default":20000,"scavboss":1000,"raptors":10000}}},"weapons":{"1":{"def":"CORCOMLASER","onlytargetcategory":"NOTSUB","fastautoretargeting":true},"5":{"def":""}}},"corcomlvl4":{"speed":80,"health":50000,"energymake":2380,"metalmake":56,"autoheal":3550,"workertime":1800,"builddistance":300,"buildoptions":{"1":"corfus","2":"corafus","3":"corageo","4":"corbhmth","5":"cormoho","6":"cormexp","7":"cormmkr","8":"coruwadves","9":"coruwadvms","10":"corarad","11":"corshroud","12":"corfort","13":"corlab","14":"cortarg","15":"corsd","16":"corgate","17":"cortoast","18":"corvipe","19":"cordoom","20":"corflak","21":"corscreamer","22":"corvp","23":"corfmd","24":"corap","25":"corint","26":"corplat","27":"corsy","28":"coruwmme","29":"coruwmmm","30":"corenaa","31":"corfdoom","32":"coratl","33":"coruwfus","34":"corjugg","35":"corshiva","36":"corsumo","37":"corgol","38":"corkorg","39":"cornanotc2plat","40":"cornanotct2","41":"cornecro","42":"cordoomt3","43":"corhllllt","44":"cormaw","45":"cormwall","46":"corgatet3","47":"legendary_bulwark","48":"cornanotct3"},"customparams":{"shield_power":500,"shield_radius":100},"weapondefs":{"CORCOMLASER":{"areaofeffect":12,"avoidfeature":false,"beamtime":0.1,"corethickness":0.1,"craterareaofeffect":0,"craterboost":0,"cratermult":0,"cylindertargeting":1,"edgeeffectiveness":1,"explosiongenerator":"custom:laserhit-small-red","firestarter":70,"impactonly":1,"impulseboost":0,"impulsefactor":0,"laserflaresize":5.5,"name":"J7Laser","noselfdamage":true,"range":1000,"reloadtime":0.4,"rgbcolor":"0.7 0 1","soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasrfir1","soundtrigger":1,"targetmoveerror":0.05,"thickness":3,"tolerance":10000,"turret":true,"weapontype":"BeamLaser","weaponvelocity":900,"damage":{"default":2500,"subs":5}},"disintegratorxl":{"areaofeffect":105,"avoidfeature":false,"avoidfriendly":true,"avoidground":false,"burst":1,"burstrate":0,"bouncerebound":0,"cegtag":"gausscannonprojectilexl","craterareaofeffect":0,"craterboost":0,"cratermult":0,"commandfire":true,"cameraShake":0,"edgeeffectiveness":1,"energypershot":0,"explosiongenerator":"custom:burnblackbiggest","firestarter":100,"firesubmersed":false,"gravityaffected":true,"impulsefactor":0,"intensity":4,"name":"Darkmatter Photon-Disruptor","noexplode":true,"noselfdamage":true,"range":500,"reloadtime":1,"rgbcolor":"0.7 0.3 1.0","size":5.5,"soundhit":"xplomas2","soundhitwet":"sizzlexs","soundstart":"disigun1","soundtrigger":true,"tolerance":10000,"turret":true,"weapontimer":4.2,"weapontype":"DGun","weaponvelocity":505,"damage":{"commanders":0,"default":20000,"scavboss":1000,"raptors":10000}},"corcomeyelaser":{"allowNonBlockingAim":true,"avoidfriendly":true,"areaofeffect":6,"avoidfeature":false,"beamtime":0.033,"camerashake":0.1,"collidefriendly":false,"corethickness":0.35,"craterareaofeffect":12,"craterboost":0,"cratermult":0,"edgeeffectiveness":1,"energypershot":0,"explosiongenerator":"custom:laserhit-small-red","firestarter":90,"firetolerance":300,"impulsefactor":0,"laserflaresize":2,"name":"EyeLaser","noselfdamage":true,"proximitypriority":1,"range":870,"reloadtime":0.033,"rgbcolor":"0 1 0","rgbcolor2":"0.8 0 0","scrollspeed":5,"soundhitdry":"flamhit1","soundhitwet":"sizzle","soundstart":"heatray3burn","soundstartvolume":6,"soundtrigger":1,"thickness":2.5,"turret":true,"weapontype":"BeamLaser","weaponvelocity":1500,"damage":{"default":185}}},"weapons":{"1":{"def":"CORCOMLASER","onlytargetcategory":"NOTSUB","fastautoretargeting":true},"3":{"badtargetcategory":"VTOL","def":"disintegratorxl","onlytargetcategory":"SURFACE"},"5":{"badtargetcategory":"VTOL GROUNDSCOUT","def":"corcomeyelaser","onlytargetcategory":"SURFACE"},"6":{"def":""}}}}}')},701(e){"use strict";e.exports=JSON.parse('{"label":"Main tweakdefs","variable":"tweakdefs2","generator":"json-schema","definitions":[{"name":"Raptor Air Fighter Basic Tweaks","description":"Adjusts weapon properties for Raptor Air Fighter Basic","scope":"UnitDefsLoop","conditions":[{"type":"nameStartsWith","prefix":"raptor_air_fighter_basic"}],"mutations":[{"op":"modify_weapon","weaponName":"*","mutations":[{"op":"set","field":"name","value":"Spike"},{"op":"set","field":"accuracy","value":200},{"op":"set","field":"collidefriendly","value":0},{"op":"set","field":"collidefeature","value":0},{"op":"set","field":"avoidfeature","value":0},{"op":"set","field":"avoidfriendly","value":0},{"op":"set","field":"areaofeffect","value":64},{"op":"set","field":"edgeeffectiveness","value":0.3},{"op":"set","field":"explosiongenerator","value":"custom:raptorspike-large-sparks-burn"},{"op":"set","field":"cameraShake","value":{}},{"op":"set","field":"dance","value":{}},{"op":"set","field":"interceptedbyshieldtype","value":0},{"op":"set","field":"model","value":"Raptors/spike.s3o"},{"op":"set","field":"reloadtime","value":1.1},{"op":"set","field":"soundstart","value":"talonattack"},{"op":"set","field":"startvelocity","value":200},{"op":"set","field":"submissile","value":1},{"op":"set","field":"smoketrail","value":0},{"op":"set","field":"smokePeriod","value":{}},{"op":"set","field":"smoketime","value":{}},{"op":"set","field":"smokesize","value":{}},{"op":"set","field":"smokecolor","value":{}},{"op":"set","field":"soundhit","value":{}},{"op":"set","field":"texture1","value":{}},{"op":"set","field":"texture2","value":{}},{"op":"set","field":"tolerance","value":{}},{"op":"set","field":"tracks","value":0},{"op":"set","field":"turnrate","value":60000},{"op":"set","field":"weaponacceleration","value":100},{"op":"set","field":"weapontimer","value":1},{"op":"set","field":"weaponvelocity","value":1000},{"op":"set","field":"weapontype","value":{}},{"op":"set","field":"wobble","value":{}}]}]},{"name":"Commander Tweaks","description":"Adjusts customparams and featuredefs for Commanders","scope":"UnitDefsLoop","conditions":[{"type":"nameMatch","regex":"^[acl][ore][rgm]com"},{"type":"nameNotMatch","regex":"_scav$"}],"mutations":[{"op":"table_merge","field":"customparams","value":{"combatradius":0,"fall_damage_multiplier":0,"paratrooper":true,"wtboostunittype":{}}},{"op":"table_merge","field":"featuredefs","value":{"dead":{"damage":9999999,"reclaimable":false,"mass":9999999}}}]},{"name":"Raptor Turret Buffs","description":"Doubles health and adjusts reload/range for turrets","scope":"UnitDefsLoop","conditions":[{"type":"nameInList","names":["raptor_antinuke","raptor_turret_acid_t2_v1","raptor_turret_acid_t3_v1","raptor_turret_acid_t4_v1","raptor_turret_antiair_t2_v1","raptor_turret_antiair_t3_v1","raptor_turret_antiair_t4_v1","raptor_turret_antinuke_t2_v1","raptor_turret_antinuke_t3_v1","raptor_turret_basic_t2_v1","raptor_turret_basic_t3_v1","raptor_turret_basic_t4_v1","raptor_turret_burrow_t2_v1","raptor_turret_emp_t2_v1","raptor_turret_emp_t3_v1","raptor_turret_emp_t4_v1","raptor_worm_green"]}],"mutations":[{"op":"set","field":"maxThisUnit","value":10},{"op":"multiply","field":"health","factor":2},{"op":"modify_weapon","weaponName":"*","mutations":[{"op":"multiply","field":"reloadtime","factor":0.666666},{"op":"multiply","field":"range","factor":0.5}]}]},{"name":"Flying Builder Cleanup","description":"Removes explosion from flying builders","scope":"UnitDefsLoop","conditions":[{"type":"fieldValue","field":"builder","value":true},{"type":"fieldValue","field":"canfly","value":true}],"mutations":[{"op":"set","field":"explodeAs","value":""},{"op":"set","field":"selfDestructAs","value":""}]},{"name":"Clone Hive Spawn","description":"Creates Hive Spawn from Raptor Swarmer","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"raptor_land_swarmer_basic_t1_v1","target":"raptor_hive_swarmer_basic","mutations":[{"op":"set","field":"name","value":"Hive Spawn"},{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Hive Spawn","i18n_en_tooltip":"Raptor spawned to defend hives from attackers."}}]}]},{"name":"Clone Armored Assault Raptor","description":"Creates Armored Assault Raptor","scope":"Global","conditions":[],"mutations":[{"op":"clone_unit","source":"raptor_land_assault_basic_t2_v1","target":"raptor_hive_assault_basic","mutations":[{"op":"set","field":"name","value":"Armored Assault Raptor"},{"op":"table_merge","field":"customparams","value":{"i18n_en_humanname":"Armored Assault Raptor","i18n_en_tooltip":"Heavy, slow, and unyieldingthese beasts are made to take the hits others cant."}}]}]}]}')},717(e){"use strict";e.exports=JSON.parse('{"label":"Main tweakunits","variable":"tweakunits","generator":"lua-table","description":"-- Main tweakunits (Migrated)","data":{"cortron":{"energycost":42000,"metalcost":3600,"buildtime":110000,"health":12000,"weapondefs":{"cortron_weapon":{"energypershot":51000,"metalpershot":600,"range":4050,"damage":{"default":9000}}}},"corfort":{"repairable":true},"armfort":{"repairable":true},"legforti":{"repairable":true},"armgate":{"explodeas":"empblast","selfdestructas":"empblast"},"corgate":{"explodeas":"empblast","selfdestructas":"empblast"},"legdeflector":{"explodeas":"empblast","selfdestructas":"empblast"},"corsat":{"sightdistance":3100,"radardistance":4080,"cruisealtitude":3300,"energyupkeep":1250,"category":"OBJECT"},"armsat":{"sightdistance":3100,"radardistance":4080,"cruisealtitude":3300,"energyupkeep":1250,"category":"OBJECT"},"legstarfall":{"weapondefs":{"starfire":{"energypershot":270000}}},"armflak":{"airsightdistance":1350,"energycost":30000,"metalcost":1500,"health":4000,"weapondefs":{"armflak_gun":{"collidefriendly":0,"collidefeature":0,"avoidfeature":0,"avoidfriendly":0,"areaofeffect":150,"range":1150,"reloadtime":0.475,"weaponvelocity":2400,"intensity":0.18}}},"corflak":{"airsightdistance":1350,"energycost":30000,"metalcost":1500,"health":4000,"weapondefs":{"armflak_gun":{"collidefriendly":0,"collidefeature":0,"avoidfeature":0,"avoidfriendly":0,"areaofeffect":200,"range":1350,"reloadtime":0.56,"weaponvelocity":2100,"intensity":0.18}}},"legflak":{"footprintx":4,"footprintz":4,"airsightdistance":1350,"energycost":35000,"metalcost":2100,"health":6000,"weapondefs":{"legflak_gun":{"collidefriendly":0,"collidefeature":0,"avoidfeature":0,"avoidfriendly":0,"areaofeffect":100,"burst":3,"range":1050,"intensity":0.18}}},"armmercury":{"airsightdistance":2200,"weapondefs":{"arm_advsam":{"areaofeffect":500,"energypershot":2000,"explosiongenerator":"custom:flak","flighttime":1.5,"metalpershot":6,"name":"Mid-range, rapid-fire g2a guided missile launcher","range":2500,"reloadtime":1.2,"smoketrail":false,"startvelocity":1500,"weaponacceleration":1000,"weaponvelocity":4000}}},"corscreamer":{"airsightdistance":2800,"weapondefs":{"cor_advsam":{"areaofeffect":800,"energypershot":2000,"explosiongenerator":"custom:flak","flighttime":1,"metalpershot":10,"name":"Long-range g2a guided heavy flak missile launcher","range":2800,"reloadtime":1.8,"smoketrail":false,"startvelocity":4000,"weaponacceleration":1000,"weaponvelocity":8000}}},"armassistdrone":{"buildoptions":{"31":"armclaw"}},"corassistdrone":{"buildoptions":{"32":"cormaw"}},"legassistdrone":{"buildoptions":{"31":"legdtf","32":"legdtl","33":"legdtr"}},"legfortt4":{"explodeas":"fusionExplosionSelfd","selfdestructas":"fusionExplosionSelfd"},"legfort":{"explodeas":"empblast","selfdestructas":"empblast"},"raptor_hive":{"weapondefs":{"antiground":{"burst":5,"burstrate":0.01,"cegtag":"arty-heavy-purple","explosiongenerator":"custom:dirt","model":"Raptors/s_raptor_white.s3o","range":1600,"reloadtime":5,"rgbcolor":"0.5 0 1","soundhit":"smallraptorattack","soundstart":"bugarty","sprayangle":256,"turret":true,"stockpiletime":12,"proximitypriority":null,"damage":{"default":1,"shields":100},"customparams":{"spawns_count":15,"spawns_expire":11,"spawns_mode":"random","spawns_name":"raptor_acidspawnling raptor_hive_swarmer_basic raptor_land_swarmer_basic_t1_v1 ","spawns_surface":"LAND SEA","stockpilelimit":10}}}},"armapt3":{"buildoptions":{"58":"armsat"}},"corapt3":{"buildoptions":{"58":"corsat"}},"legapt3":{"buildoptions":{"58":"corsat"}},"armlwall":{"energycost":25000,"metalcost":1300,"weapondefs":{"lightning":{"energypershot":200,"range":430}}},"armclaw":{"collisionvolumeoffsets":"0 -2 0","collisionvolumescales":"30 51 30","collisionvolumetype":"Ell","usepiececollisionvolumes":0,"weapondefs":{"dclaw":{"energypershot":60}}},"legdtl":{"weapondefs":{"dclaw":{"energypershot":60}}},"armamd":{"metalcost":1800,"energycost":41000,"weapondefs":{"amd_rocket":{"coverage":2125,"stockpiletime":70}}},"corfmd":{"metalcost":1800,"energycost":41000,"weapondefs":{"fmd_rocket":{"coverage":2125,"stockpiletime":70}}},"legabm":{"metalcost":1800,"energycost":41000,"weapondefs":{"fmd_rocket":{"coverage":2125,"stockpiletime":70}}},"corwint2":{"metalcost":400},"legwint2":{"metalcost":400},"legdtr":{"buildtime":5250,"energycost":5500,"metalcost":400,"collisionvolumeoffsets":"0 -10 0","collisionvolumescales":"39 88 39","collisionvolumetype":"Ell","usepiececollisionvolumes":0,"weapondefs":{"corlevlr_weapon":{"areaofeffect":30,"avoidfriendly":true,"collidefriendly":false,"cegtag":"railgun","range":650,"energypershot":75,"explosiongenerator":"custom:plasmahit-sparkonly","rgbcolor":"0.34 0.64 0.94","soundhit":"mavgun3","soundhitwet":"splshbig","soundstart":"lancefire","weaponvelocity":1300,"damage":{"default":550}}}},"armrespawn":{"blocking":false,"canresurrect":true},"legnanotcbase":{"blocking":false,"canresurrect":true},"correspawn":{"blocking":false,"canresurrect":true},"legrwall":{"collisionvolumeoffsets":"0 -3 0","collisionvolumescales":"32 50 32","collisionvolumetype":"CylY","energycost":21000,"metalcost":1400,"weapondefs":{"railgunt2":{"collidefriendly":0,"collidefeature":0,"avoidfeature":0,"avoidfriendly":0,"range":725,"reloadtime":3,"energypershot":200,"damage":{"default":1500}}},"weapons":{"1":{"def":"railgunt2","onlytargetcategory":"SURFACE"}}},"cormwall":{"energycost":18000,"metalcost":1350,"weapondefs":{"exp_heavyrocket":{"areaofeffect":70,"collidefriendly":0,"collidefeature":0,"cameraShake":0,"energypershot":125,"avoidfeature":0,"avoidfriendly":0,"burst":1,"burstrate":0,"colormap":"0.75 0.73 0.67 0.024   0.37 0.4 0.30 0.021   0.22 0.21 0.14 0.018  0.024 0.014 0.009 0.03   0.0 0.0 0.0 0.008","craterareaofeffect":0,"explosiongenerator":"custom:burnblack","flamegfxtime":1,"flighttime":1.05,"name":"Raptor Boomer","reloadtime":1.5,"rgbcolor":"1 0.25 0.1","range":700,"size":2,"proximitypriority":null,"impactonly":1,"trajectoryheight":1,"targetmoveerror":0.2,"tracks":true,"weaponacceleration":660,"weaponvelocity":950,"damage":{"default":1050}}}},"cormaw":{"collisionvolumeoffsets":"0 -2 0","collisionvolumescales":"30 51 30","collisionvolumetype":"Ell","usepiececollisionvolumes":false,"metalcost":350,"energycost":2500,"weapondefs":{"dmaw":{"collidefriendly":0,"collidefeature":0,"areaofeffect":80,"edgeeffectiveness":0.45,"energypershot":50,"burst":24,"rgbcolor":"0.051 0.129 0.871","rgbcolor2":"0.57 0.624 1","sizegrowth":0.8,"range":450,"intensity":0.68,"damage":{"default":28}}}},"legdtf":{"collisionvolumeoffsets":"0 -24 0","collisionvolumescales":"30 51 30","collisionvolumetype":"Ell","metalcost":350,"energycost":2750,"weapondefs":{"dmaw":{"collidefriendly":0,"collidefeature":0,"areaofeffect":80,"edgeeffectiveness":0.45,"energypershot":50,"burst":24,"sizegrowth":2,"range":450,"intensity":0.38,"sprayangle":500,"damage":{"default":30}}}},"corhllllt":{"collisionvolumeoffsets":"0 -24 0","collisionvolumescales":"30 51 30","metalcost":415,"energycost":9500,"buildtime":10000,"health":2115},"corhlt":{"energycost":5500,"metalcost":520,"weapondefs":{"cor_laserh1":{"range":750,"reloadtime":0.95,"damage":{"default":395,"vtol":35}}}},"armhlt":{"energycost":5700,"metalcost":510,"weapondefs":{"arm_laserh1":{"range":750,"reloadtime":1,"damage":{"default":405,"vtol":35}}}},"armbrtha":{"explodeas":"fusionExplosion","energycost":500000,"metalcost":18500,"buildtime":175000,"turnrate":16000,"health":10450,"weapondefs":{"ARMBRTHA_MAIN":{"areaofeffect":50,"collidefriendly":0,"collidefeature":0,"avoidfeature":0,"avoidfriendly":0,"beamtime":2.5,"corethickness":0.1,"craterareaofeffect":90,"craterboost":0,"cratermult":0,"cameraShake":0,"edgeeffectiveness":0.3,"energypershot":14000,"explosiongenerator":"custom:laserhit-large-blue","firestarter":90,"impulseboost":0,"impulsefactor":0,"largebeamlaser":true,"laserflaresize":1,"impactonly":1,"name":"Experimental Duction Beam","noselfdamage":true,"range":2400,"reloadtime":13,"rgbcolor":"0.4 0.2 0.6","scrollspeed":13,"soundhitdry":"","soundhitwet":"sizzle","soundstart":"hackshotxl3","soundtrigger":1,"targetmoveerror":0.3,"texture3":"largebeam","thickness":14,"tilelength":150,"tolerance":10000,"turret":true,"turnrate":16000,"weapontype":"LaserCannon","weaponvelocity":3100,"damage":{"commanders":480,"default":34000}}},"weapons":{"1":{"badtargetcategory":"VTOL GROUNDSCOUT","def":"ARMBRTHA_MAIN","onlytargetcategory":"SURFACE"}}},"corint":{"explodeas":"fusionExplosion","energycost":505000,"metalcost":19500,"buildtime":170000,"health":12450,"footprintx":6,"footprintz":6,"weapondefs":{"CORINT_MAIN":{"areaofeffect":70,"collidefriendly":0,"collidefeature":0,"avoidfeature":0,"avoidfriendly":0,"beamtime":2.5,"corethickness":0.1,"craterareaofeffect":90,"craterboost":0,"cratermult":0,"cameraShake":0,"edgeeffectiveness":0.3,"energypershot":17000,"explosiongenerator":"custom:laserhit-large-blue","firestarter":90,"impulseboost":0,"impulsefactor":0,"largebeamlaser":true,"laserflaresize":1,"impactonly":1,"name":"Mini DeathStar","noselfdamage":true,"range":2800,"reloadtime":15,"rgbcolor":"0 1 0","scrollspeed":13,"soundhitdry":"","soundhitwet":"sizzle","soundstart":"annigun1","soundtrigger":1,"targetmoveerror":0.3,"texture3":"largebeam","thickness":14,"tilelength":150,"tolerance":10000,"turret":true,"turnrate":1600,"weapontype":"LaserCannon","weaponvelocity":3100,"damage":{"commanders":480,"default":50000}}},"weapons":{"1":{"badtargetcategory":"VTOL GROUNDSCOUT","def":"CORINT_MAIN","onlytargetcategory":"SURFACE"}}},"leglrpc":{"explodeas":"fusionExplosion","energycost":555000,"metalcost":21000,"buildtime":150000,"health":11000,"footprintx":6,"footprintz":6,"weapondefs":{"LEGLRPC_MAIN":{"areaofeffect":70,"collidefriendly":0,"collidefeature":0,"avoidfeature":0,"avoidfriendly":0,"beamtime":0.5,"burst":3,"burstrate":0.4,"corethickness":0.1,"craterareaofeffect":90,"craterboost":0,"cratermult":0,"cameraShake":0,"edgeeffectiveness":0.3,"energypershot":10000,"explosiongenerator":"custom:laserhit-large-red","firestarter":90,"impactonly":1,"impulseboost":0,"impulsefactor":0,"largebeamlaser":true,"laserflaresize":1,"name":"The Eagle Standard","noselfdamage":true,"range":2150,"reloadtime":3,"rgbcolor":"0/1/0.4","scrollspeed":13,"soundhitdry":"","soundhitwet":"sizzle","soundstart":"lasrcrw1","soundtrigger":1,"targetmoveerror":0.3,"texture3":"largebeam","thickness":12,"tilelength":150,"tolerance":10000,"turret":true,"turnrate":16000,"weapontype":"LaserCannon","weaponvelocity":3100,"damage":{"commanders":480,"default":6000}}},"weapons":{"1":{"badtargetcategory":"VTOL GROUNDSCOUT","def":"LEGLRPC_MAIN","onlytargetcategory":"SURFACE"}}}}}')},879(e){"use strict";e.exports=JSON.parse('{"label":"LRPC Rebalance v2","variable":"tweakunits6","generator":"lua-table","description":"--NuttyB lrpc rebalance v2\\r\\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko","data":{"armbrtha":{"health":13000,"weapondefs":{"ARMBRTHA_MAIN":{"damage":{"commanders":480,"default":33000},"areaofeffect":60,"energypershot":8000,"range":2400,"reloadtime":9,"turnrate":20000}}},"corint":{"health":13000,"weapondefs":{"CORINT_MAIN":{"damage":{"commanders":480,"default":85000},"areaofeffect":230,"edgeeffectiveness":0.6,"energypershot":15000,"range":2700,"reloadtime":18}}},"leglrpc":{"health":13000,"weapondefs":{"LEGLRPC_MAIN":{"damage":{"commanders":480,"default":4500},"energypershot":2000,"range":2000,"reloadtime":2,"turnrate":30000}}}}}')},989(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=989,e.exports=t}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,a),s.exports}a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};function t(e){if(null==e)return"nil";if("string"==typeof e)return`"${e}"`;if("number"==typeof e)return e.toString();if("boolean"==typeof e)return e?"true":"false";if(Array.isArray(e))return`{ ${e.map(e=>t(e)).join(", ")} }`;if("object"==typeof e){const a=[];for(const[r,o]of Object.entries(e))/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r)?a.push(`${r} = ${t(o)}`):a.push(`["${r}"] = ${t(o)}`);return`{ ${a.join(", ")} }`}return"nil"}function r(e){if("object"==typeof e&&null!==e){if("type"in e){const a=e;if("mod_option"===a.type)return`(Spring_GetModOptions().${a.key} or ${t(a.default)})`;if("math"===a.type){let e=a.expression;for(const[t,o]of Object.entries(a.variables))e=e.split(t).join(r(o));return e=e.replace(/\bmax\(/g,"math_max(").replace(/\bmin\(/g,"math_min(").replace(/\bceil\(/g,"math_ceil(").replace(/\bfloor\(/g,"math_floor(").replace(/\babs\(/g,"math_abs(").replace(/\brandom\(/g,"math_random(").replace(/\bsqrt\(/g,"math_sqrt("),`(${e})`}}return t(e)}return t(e)}a.r(e),a.d(e,{addToBuildMenu:()=>n,getBossHpTweak:()=>c,getHpTweak:()=>i,getQhpTweak:()=>l,getScavHpTweak:()=>d});class o{constructor(){this.lines=[],this.indentLevel=0}getIndent(){return"    ".repeat(this.indentLevel)}addLocal(e,t){this.lines.push(`${this.getIndent()}local ${e} = ${t}`)}startLoop(e){this.lines.push(`${this.getIndent()}${e} do`),this.indentLevel++}startIf(e){this.lines.push(`${this.getIndent()}if ${e} then`),this.indentLevel++}startElseIf(e){this.indentLevel>0&&(this.indentLevel--,this.lines.push(`${this.getIndent()}elseif ${e} then`),this.indentLevel++)}startBlock(e){this.lines.push(`${this.getIndent()}${e}`),this.indentLevel++}addElse(){this.indentLevel>0&&(this.indentLevel--,this.lines.push(`${this.getIndent()}else`),this.indentLevel++)}addStatement(e){this.lines.push(`${this.getIndent()}${e}`)}endBlock(){this.indentLevel>0&&(this.indentLevel--,this.lines.push(`${this.getIndent()}end`))}build(){return this.lines.join("\n")}}function s(e){const t=Array.isArray(e)?e:[e],a=new o,s=new Set;s.add("pairs"),s.add("ipairs"),s.add("string.sub"),s.add("string.match"),s.add("table.insert"),s.add("table.remove"),s.add("math.floor"),s.add("math.ceil"),s.add("math.max"),s.add("math.min"),s.add("tostring"),s.add("tonumber"),s.add("next"),s.add("type"),s.add("math.abs"),s.add("math.random"),s.add("math.sqrt");let n=!1,l=!1;const i=e=>{if("object"==typeof e&&null!==e&&"type"in e){const t=e;"mod_option"===t.type&&(n=!0),"math"===t.type&&Object.values(t.variables).forEach(e=>i(e))}};for(const e of t)for(const t of e.mutations)"clone_unit"!==t.op&&"table_merge"!==t.op||(l=!0),"set"===t.op?i(t.value):"multiply"===t.op?i(t.factor):"list_append"===t.op?i(t.value):"assign_math_floor"===t.op&&i(t.factor);a.addLocal("pairs","pairs"),a.addLocal("ipairs","ipairs"),a.addLocal("tostring","tostring"),a.addLocal("tonumber","tonumber"),a.addLocal("next","next"),a.addLocal("type","type"),a.addLocal("string_sub","string.sub"),a.addLocal("string_match","string.match"),a.addLocal("table_insert","table.insert"),a.addLocal("table_remove","table.remove"),a.addLocal("math_floor","math.floor"),a.addLocal("math_ceil","math.ceil"),a.addLocal("math_max","math.max"),a.addLocal("math_min","math.min"),a.addLocal("math_abs","math.abs"),a.addLocal("math_random","math.random"),a.addLocal("math_sqrt","math.sqrt"),n&&a.addLocal("Spring_GetModOptions","Spring.GetModOptions"),l&&a.addLocal("table_merge","table.merge"),a.addStatement("");const c=(e,t)=>{const a=t.split(".");if("customparams"===a[0].toLowerCase()&&a.length>1){const t=a[1];return`((${e}.customParams and ${e}.customParams["${t}"]) or (${e}.customparams and ${e}.customparams["${t}"]))`}return`${e}.${t}`},d=(e,t,r)=>{const o=t.split(".");if("customparams"===o[0].toLowerCase()&&o.length>1){const t=o[1];a.startIf(`${e}.customparams`),a.addStatement(`${e}.customparams["${t}"] = ${r}`),a.addElse(),a.addStatement(`if not ${e}.customParams then ${e}.customParams = {} end`),a.addStatement(`${e}.customParams["${t}"] = ${r}`),a.endBlock()}else a.addStatement(`${e}.${t} = ${r}`)},m=(e,t)=>{const o=[...e].sort((e,t)=>{const a=e=>"clone_unit"===e?0:"set"===e?1:"multiply"===e?2:"assign_math_floor"===e?3:4;return a(e.op)-a(t.op)});for(const e of o)if("multiply"===e.op){const o=c(t,e.field);a.startIf(o),d(t,e.field,`${o} * ${r(e.factor)}`),a.endBlock()}else if("set"===e.op)d(t,e.field,r(e.value));else if("remove"===e.op)d(t,e.field,"nil");else if("assign_math_floor"===e.op){const o=c(t,e.source);a.startIf(o),d(t,e.target,`math_floor(${o} * ${r(e.factor)})`),a.endBlock()}else if("list_append"===e.op){const o=r(e.value);a.addLocal("target_list",c(t,e.field)),a.startIf("not target_list");const s=e.field.split(".");"customparams"===s[0].toLowerCase()&&s.length>1?(a.addStatement(`${t}.customparams = ${t}.customparams or {}`),a.addStatement(`${t}.customparams["${s[1]}"] = {}`),a.addStatement(`target_list = ${t}.customparams["${s[1]}"]`)):(a.addStatement(`${t}.${e.field} = {}`),a.addStatement(`target_list = ${t}.${e.field}`)),a.endBlock(),a.addStatement(`table_insert(target_list, ${o})`)}else if("list_remove"===e.op){const o=r(e.value);a.addLocal("target_list",c(t,e.field)),a.startIf("target_list"),a.startLoop("for i, v in ipairs(target_list)"),a.startIf(`v == ${o}`),a.addStatement("table_remove(target_list, i)"),a.addStatement("break"),a.endBlock(),a.endBlock(),a.endBlock()}else if("table_merge"===e.op){const o=r(e.value);a.addLocal("target_table",c(t,e.field)),a.startIf("not target_table");const s=e.field.split(".");"customparams"===s[0].toLowerCase()&&s.length>1?(a.addStatement(`${t}.customparams = ${t}.customparams or {}`),a.addStatement(`${t}.customparams["${s[1]}"] = {}`),a.addStatement(`target_table = ${t}.customparams["${s[1]}"]`)):(a.addStatement(`${t}.${e.field} = {}`),a.addStatement(`target_table = ${t}.${e.field}`)),a.endBlock(),a.addStatement(`table_merge(target_table, ${o})`)}else if("modify_weapon"===e.op){const r=e.weaponName||"*";a.startIf(`${t}.weapondefs`),a.startLoop(`for wName, wDef in pairs(${t}.weapondefs)`),"*"!==r&&a.startIf(`wName == "${r}"`),m(e.mutations,"wDef"),"*"!==r&&a.endBlock(),a.endBlock(),a.endBlock()}else if("clone_unit"===e.op){const r="SELF"===e.source?t:`UnitDefs["${e.source}"]`,o=e.target?`"${e.target}"`:e.targetSuffix?`${t}.name .. "${e.targetSuffix}"`:"nil";a.startIf(r),a.addLocal("newDef",`table_merge({}, ${r})`),e.mutations&&m(e.mutations,"newDef"),a.addStatement(`UnitDefs[${o}] = newDef`),a.endBlock()}},u=(e,t,a)=>{const r=[];for(const o of e)switch(o.type){case"nameMatch":r.push(`string_match(${t}, "${o.regex}")`);break;case"nameNotMatch":r.push(`not string_match(${t}, "${o.regex}")`);break;case"nameStartsWith":r.push(`string_sub(${t}, 1, ${o.prefix.length}) == "${o.prefix}"`);break;case"nameEndsWith":r.push(`string_sub(${t}, -${o.suffix.length}) == "${o.suffix}"`);break;case"nameInList":const e=o.names.map(e=>`${t} == "${e}"`);r.push(`(${e.join(" or ")})`);break;case"customParam":const s="string"==typeof o.value?`"${o.value}"`:o.value;r.push(`((${a}.customParams and ${a}.customParams["${o.key}"] == ${s}) or (${a}.customparams and ${a}.customparams["${o.key}"] == ${s}))`);break;case"customParamMatch":r.push(`((${a}.customParams and string_match(${a}.customParams["${o.key}"], "${o.regex}")) or (${a}.customparams and string_match(${a}.customparams["${o.key}"], "${o.regex}")))`);break;case"fieldValue":const n="string"==typeof o.value?`"${o.value}"`:o.value;r.push(`${a}.${o.field} == ${n}`);break;case"category":r.push(`${a}.category == "${o.value}"`)}return r},p=t.filter(e=>"UnitDefsLoop"===e.scope),f=t.filter(e=>"UnitDef_Post"===e.scope),g=t.filter(e=>"Global"===e.scope);if(g.length>0)for(const e of g)a.addStatement(`-- ${e.name}`),m(e.mutations,"nil");if(p.length>0){a.startLoop("for id, def in pairs(UnitDefs)"),a.addLocal("name","def.name or id");for(const e of p){const t=u(e.conditions,"name","def");t.length>0?(a.startIf(t.join(" and ")),m(e.mutations,"def"),a.endBlock()):m(e.mutations,"def")}a.endBlock()}if(f.length>0){const e="ApplyTweaks_Post";a.startBlock(`local function ${e}(name, def)`);for(const e of f){const t=u(e.conditions,"name","def");t.length>0?(a.startIf(t.join(" and ")),m(e.mutations,"def"),a.endBlock()):m(e.mutations,"def")}a.endBlock(),a.addStatement(""),a.startIf("UnitDef_Post"),a.addLocal("prev_UnitDef_Post","UnitDef_Post"),a.startBlock("UnitDef_Post = function(name, def)"),a.addStatement("prev_UnitDef_Post(name, def)"),a.addStatement(`${e}(name, def)`),a.endBlock(),a.addElse(),a.addStatement(`UnitDef_Post = ${e}`),a.endBlock()}return a.build()}function n(e,t){return{name:`Add ${t} to ${e} factories`,description:`Adds ${t} to build options of factories starting with ${e}`,scope:"UnitDefsLoop",conditions:[{type:"nameStartsWith",prefix:e}],mutations:[{op:"list_append",field:"buildoptions",value:t}]}}function l(e,t){return{name:`NuttyB v1.52 ${t}X QHP`,description:"Queen Health & Repair Adjustments",scope:"UnitDefsLoop",conditions:[{type:"nameStartsWith",prefix:"raptor_queen_"}],mutations:[{op:"set",field:"repairable",value:!1},{op:"set",field:"canbehealed",value:!1},{op:"set",field:"buildTime",value:9999999},{op:"set",field:"autoHeal",value:2},{op:"set",field:"canSelfRepair",value:!1},{op:"multiply",field:"health",factor:e}]}}function i(e){const{healthMultiplier:t,workertimeMultiplier:a,metalCostFactor:r,multiplierText:o}=e;return[{name:`NuttyB v1.52 ${o}X HP - Swarmer Heal`,description:"Swarmer Heal adjustments",scope:"UnitDefsLoop",conditions:[{type:"nameStartsWith",prefix:"raptor_land_swarmer_heal"}],mutations:[{op:"set",field:"reclaimSpeed",value:100},{op:"set",field:"stealth",value:!1},{op:"set",field:"builder",value:!1},{op:"multiply",field:"buildSpeed",factor:a},{op:"set",field:"canAssist",value:!1},{op:"set",field:"maxThisUnit",value:0}]},{name:`NuttyB v1.52 ${o}X HP - Raptors`,description:"Raptor Health adjustments",scope:"UnitDefsLoop",conditions:[{type:"customParam",key:"subfolder",value:"other/raptors"},{type:"nameNotMatch",regex:"^raptor_queen_.*"}],mutations:[{op:"multiply",field:"health",factor:t}]},{name:`NuttyB v1.52 ${o}X HP - Metal & Chase`,description:"Metal Cost and NoChase",scope:"UnitDefsLoop",conditions:[{type:"customParam",key:"subfolder",value:"other/raptors"}],mutations:[{op:"set",field:"noChaseCategory",value:"OBJECT"},{op:"assign_math_floor",target:"metalCost",source:"health",factor:r}]}]}function c(e,t){return{name:`Scav Boss HP ${t}X`,description:"Scavenger Boss HP adjustment",scope:"UnitDef_Post",conditions:[{type:"nameStartsWith",prefix:"scavengerbossv4"}],mutations:[{op:"multiply",field:"health",factor:e}]}}function d(e,t){return[{name:`Scavengers HP ${t}X - Health`,description:"Scavenger Health",scope:"UnitDef_Post",conditions:[{type:"nameEndsWith",suffix:"_scav"},{type:"nameNotMatch",regex:"^scavengerbossv4"}],mutations:[{op:"assign_math_floor",target:"health",source:"health",factor:e}]},{name:`Scavengers HP ${t}X - Metal & Category`,description:"Scavenger Metal Cost and Category",scope:"UnitDef_Post",conditions:[{type:"nameEndsWith",suffix:"_scav"}],mutations:[{op:"assign_math_floor",target:"metalCost",source:"metalCost",factor:e},{op:"set",field:"noChaseCategory",value:"OBJECT"}]}]}function m(e){const t=unescape(encodeURIComponent(e));return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}const u="nuttyb-custom-tweaks",p=["!bset tweakdefs2 ","!bset tweakunits "],f=["!bset tweakunits1 ","!bset tweakunits2 ","!bset tweakunits3 "],g=["!bset tweakdefs4 ","!bset tweakunits5 "],h=["Slow raptors/scavs"],v=["Cross Faction T2","T3 Eco","T3 Builders","Unit Launchers","LRPC Rebalance v2","Legion NuttyB Evolving Commander","Armada NuttyB Evolving Commander","Cortex NuttyB Evolving Commander"],b=["Cross Faction T2","T3 Eco","T3 Builders","Unit Launchers","LRPC Rebalance v2"];function y(t){if("lua-table"===t.generator)return function(e,t){let a="";return e&&(a+=e+"\n"),a+=k(t),a}(t.description,t.data);if("tweak-function"===t.generator){const a=e[t.functionId];if("function"!=typeof a)return`-- Error: Function ${t.functionId} not found`;try{return t.values,s(a())}catch(e){return`-- Error generating tweak from function: ${e.message}`}}if("tweak-definition"===t.generator)try{const e=t.values||{};return s(w(t.tweaks,e))}catch(e){return`-- Error compiling tweak: ${e.message}`}if("json-schema"===t.generator)try{return s(t.definitions)}catch(e){return`-- Error compiling tweak: ${e.message}`}return`-- Error: Unknown generator ${t.generator}`}function w(e,t){if("string"==typeof e){const a=e.replace(/\{\{([^}]+)\}\}/g,(e,a)=>void 0!==t[a]?t[a]:`{{${a}}}`);return a===e||isNaN(Number(a))||""===a.trim()?a:Number(a)}if(Array.isArray(e))return e.map(e=>w(e,t));if("object"==typeof e&&null!==e){const a={};for(const r of Object.keys(e))a[r]=w(e[r],t);return a}return e}function k(e){if(void 0===e)return"nil";if(null===e)return"nil";if("string"==typeof e)return`'${e.replace(/'/g,"\\'")}'`;if("number"==typeof e)return e.toString();if("boolean"==typeof e)return e?"true":"false";if(Array.isArray(e))return 0===e.length?"{}":`{${e.map(e=>k(e)).join(",")}}`;if("object"==typeof e){const t=[],a=Object.keys(e);if(0===a.length)return"{}";for(const r of a){const a=/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r)?r:`['${r}']`;t.push(`${a}=${k(e[r])}`)}return`{${t.join(",")}}`}return"nil"}var _=function(e,t,a,r){return new(a||(a=Promise))(function(o,s){function n(e){try{i(r.next(e))}catch(e){s(e)}}function l(e){try{i(r.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(n,l)}i((r=r.apply(e,t||[])).next())})};function x(){return _(this,void 0,void 0,function*(){const e=[];if("function"==typeof a(989).context){const t=a(176),r=t.keys();r.sort((e,t)=>{var a,r;return parseInt((null===(a=e.match(/\/(\d+)-/))||void 0===a?void 0:a[1])||"0")-parseInt((null===(r=t.match(/\/(\d+)-/))||void 0===r?void 0:r[1])||"0")}),r.forEach(a=>{const r=t(a);if(r.variants&&Array.isArray(r.variants)){const t=r.variants.map(e=>{const t=y(Object.assign(Object.assign({},r),{values:e.values||{}}));return{label:e.label,lua:t}});e.push({label:r.label,variable:r.variable,type:"select",choices:t})}else{const t=y(r);e.push({label:r.label,variable:r.variable,lua:t,type:"checkbox"})}})}else console.error("require.context is not available. Cannot load tweaks.");return function(e){const t={mainTweaks:{label:"NuttyB Main Tweaks",type:"checkbox",commandBlocks:[],default:!0,disabled:!1,column:"left"},evolvingCommanders:{label:"NuttyB Evolving Commanders",type:"checkbox",commandBlocks:[],default:!0,disabled:!1,column:"left"},extraRaptors:{label:"Extras",type:"select",choices:[{label:"None",value:"",shortLabel:""}],column:"left"},otherCheckboxes:{type:"checkboxes",options:[],column:"right"}},a=[];e.forEach(e=>{var r;if("select"===e.type&&e.choices){const a=e.choices.map(t=>{const a=m(t.lua);return{label:t.label,value:`!bset ${e.variable} ${a}`}});return void t.otherCheckboxes.options.push({label:e.label,type:"select",column:"right",choices:a,defaultValue:null===(r=a[0])||void 0===r?void 0:r.value})}const o=e.label,s=e.lua,n=`!bset ${e.variable} ${m(s)}`;let l=s.split("\n")[0].trim(),i="Optional",c=!1;if(g.some(e=>n.startsWith(e))){i="Optional/Grouped";let e="Mini Bosses"===o?"[Mini Bosses]":"Experimental Wave Challenge"===o?"[Expo Waves]":"";t.extraRaptors.choices.push({label:o,value:n,shortLabel:e}),n.startsWith("!bset tweakdefs4")&&(t.extraRaptors.defaultValue=n),c=!0}p.some(e=>n.startsWith(e))&&(i="Optional",t.mainTweaks.commandBlocks.push(n),c=!0),f.some(e=>n.startsWith(e))&&(i="Optional",t.evolvingCommanders.commandBlocks.push(n),v.includes(o)&&(t.evolvingCommanders.default=!0),c=!0),h.includes(o)&&(i="Hidden"),a.push({label:o,commandBlock:n,status:i,summary:l}),c||h.includes(o)||t.otherCheckboxes.options.push({label:o,type:"checkbox",commandBlocks:[n],default:v.includes(o),column:"right"})}),t.otherCheckboxes.options.sort((e,t)=>{const a=b.indexOf(e.label),r=b.indexOf(t.label);return(-1===a?1/0:a)-(-1===r?1/0:r)});let r=[];return t.mainTweaks.commandBlocks.length>0&&r.push(t.mainTweaks),t.evolvingCommanders.commandBlocks.length>0&&r.push(t.evolvingCommanders),r.push({label:"Raptor Health",type:"select",isHpGenerator:!0,hpType:"hp",column:"left",slot:"",slotType:"tweakdefs",defaultValue:"1.3",choices:[{label:"Default",value:"",shortLabel:""},{label:"1x HP",value:"1",shortLabel:"1x HP"},{label:"1.3x HP",value:"1.3",shortLabel:"1_3x HP"},{label:"1.5x HP",value:"1.5",shortLabel:"1_5x HP"},{label:"1.7x HP",value:"1.7",shortLabel:"1_7x HP"},{label:"2x HP",value:"2",shortLabel:"2x HP"},{label:"2.5x HP",value:"2.5",shortLabel:"2_5x HP"},{label:"3x HP",value:"3",shortLabel:"3x HP"},{label:"4x HP",value:"4",shortLabel:"4x HP"},{label:"5x HP",value:"5",shortLabel:"5x HP"}]},{label:"Queen Health",type:"select",isHpGenerator:!0,hpType:"qhp",column:"left",slot:1,slotType:"tweakdefs",defaultValue:"1.3",choices:[{label:"Default",value:"",shortLabel:""},{label:"1x QHP",value:"1",shortLabel:"1x QHP"},{label:"1.3x QHP",value:"1.3",shortLabel:"1_3x QHP"},{label:"1.5x QHP",value:"1.5",shortLabel:"1_5x QHP"},{label:"1.7x QHP",value:"1.7",shortLabel:"1_7x QHP"},{label:"2x QHP",value:"2",shortLabel:"2x QHP"},{label:"2.5x QHP",value:"2.5",shortLabel:"2_5x QHP"},{label:"3x QHP",value:"3",shortLabel:"3x QHP"},{label:"4x QHP",value:"4",shortLabel:"4x QHP"},{label:"5x QHP",value:"5",shortLabel:"5x QHP"}]},{label:"Boss HP",type:"select",isHpGenerator:!0,hpType:"boss",column:"left",slot:2,slotType:"tweakdefs",defaultValue:"1.3",choices:[{label:"Default",value:"",shortLabel:""},{label:"1x HP",value:"1",shortLabel:"1x HP"},{label:"1.3x HP",value:"1.3",shortLabel:"1_3x HP"},{label:"1.5x HP",value:"1.5",shortLabel:"1_5x HP"},{label:"1.7x HP",value:"1.7",shortLabel:"1_7x HP"},{label:"2x HP",value:"2",shortLabel:"2x HP"},{label:"2.5x HP",value:"2.5",shortLabel:"2_5x HP"},{label:"3x HP",value:"3",shortLabel:"3x HP"},{label:"4x HP",value:"4",shortLabel:"4x HP"},{label:"5x HP",value:"5",shortLabel:"5x HP"}]},{label:"Scavengers HP",type:"select",isHpGenerator:!0,hpType:"scav",column:"left",slot:3,slotType:"tweakdefs",defaultValue:"1.3",choices:[{label:"Default",value:"",shortLabel:""},{label:"1x HP",value:"1",shortLabel:"1x HP"},{label:"1.3x HP",value:"1.3",shortLabel:"1_3x HP"},{label:"1.5x HP",value:"1.5",shortLabel:"1_5x HP"},{label:"1.7x HP",value:"1.7",shortLabel:"1_7x HP"},{label:"2x HP",value:"2",shortLabel:"2x HP"},{label:"2.5x HP",value:"2.5",shortLabel:"2_5x HP"},{label:"3x HP",value:"3",shortLabel:"3x HP"},{label:"4x HP",value:"4",shortLabel:"4x HP"},{label:"5x HP",value:"5",shortLabel:"5x HP"}]}),t.extraRaptors.choices.length>1&&r.push(t.extraRaptors),r=r.concat(t.otherCheckboxes.options),{rawOptionsData:a,formOptionsConfig:r}}(e)})}function L(){return _(this,void 0,void 0,function*(){try{const e=yield fetch(`links.md?t=${Date.now()}`);if(!e.ok)return"";const t=yield e.text();return"undefined"!=typeof marked&&marked.parse?marked.parse(t):t}catch(e){return console.error("Failed to load links content",e),""}})}function C(e){return _(this,void 0,void 0,function*(){try{const t=yield fetch(`${e}?t=${Date.now()}`);if(!t.ok)throw new Error(`Could not load ${e}: ${t.statusText}`);const a=yield t.text(),r={maps:[],modes:[],base:[],scavengers:[]},o=a.split("## CATEGORY:").slice(1);for(const e of o){const t=e.trim().split(/\r?\n/),a=t.shift().trim(),o=t.join("\n").trim();if("base"===a)r.base=o.split(/\r?\n/).filter(e=>""!==e.trim());else if("scavengers"===a)r.scavengers=o.split(/\r?\n/).filter(e=>""!==e.trim());else{const e=o.split("---").filter(e=>""!==e.trim());for(const t of e){const e=t.trim().split(/\r?\n/).filter(e=>""!==e.trim());if(0===e.length)continue;const o=e.shift().trim(),s=e;"maps"===a&&r.maps?r.maps.push({name:o,commands:s}):"modes"===a&&r.modes&&r.modes.push({name:o,commands:s})}}}return r}catch(e){return console.error("Failed to parse game configs:",e),{maps:[],modes:[],base:[],scavengers:[]}}})}let E=[];function S(e){E=e,localStorage.setItem(u,JSON.stringify(E))}function T(){return E}function B(e,t){const a=s(e),r={valid:!0};if(r.valid){const r=unescape(encodeURIComponent(a)),o=btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),s="UnitDefsLoop"===e.scope?"tweakdefs":"tweakunits";t.push({id:Date.now()+Math.floor(1e3*Math.random()),desc:e.name,type:s,tweak:o})}else console.error(`Lua validation failed for tweak ${e.name}: ${r.error} at line ${r.line}`)}function $(e){const t=document.querySelector("#custom-tweaks-table tbody");t.innerHTML="",0!==e.length?e.forEach(e=>{t.insertRow().innerHTML=`<td title="${e.desc}">${e.desc}</td><td title="${e.type}">${e.type}</td><td><div class="command-cell-wrapper"><span class="command-text" title="${e.tweak}">${e.tweak}</span><button class="copy-row-button" data-tweak-code="${e.tweak}">Copy</button></div></td><td><button class="delete-tweak-btn" data-id="${e.id}">Delete</button></td>`}):t.innerHTML='<tr><td colspan="4" style="text-align: center;">No custom tweaks saved</td></tr>'}let H=[],P=[],q={maps:[],modes:[],base:[],scavengers:[]};const A=document.getElementById("lobby-name-display"),N=(document.querySelectorAll(".copy-button"),document.querySelector("#data-table tbody")),O=document.getElementById("custom-tweak-form"),z=document.querySelector("#custom-tweaks-table tbody"),I=document.querySelector("#maps-modes-table tbody"),U=document.querySelectorAll(".tab-button"),M=document.querySelectorAll(".tab-content"),D=document.getElementById("reset-none-btn"),R=document.getElementById("reset-default-btn"),j=document.getElementById("options-form-columns");function G(e){const t=document.getElementById("primary-mode-select"),a=document.getElementById("raptor-only-options"),r=document.getElementById("scav-only-options"),o=document.getElementById("scav-hp-select"),s=document.getElementById("boss-hp-select"),n=document.getElementById("maps-select"),m=document.getElementById("modes-select");if(t&&a&&r){const n=t.value;e&&e.target===t&&("Scavengers"===n?(o.value="1.3",s.value="1.3",a.querySelectorAll("select").forEach(e=>e.value="")):(o.value="",s.value="",a.querySelectorAll("select[data-option-type]").forEach(e=>{const t=P.find(t=>t.label===e.dataset.optionType);t&&(e.value=t.defaultValue||"")})));const l="Scavengers"===n;a.style.display=l?"none":"block",r.style.display=l?"block":"none"}!function(){const e=document.getElementById("slot-warning-messages"),t=new Set,a=new Set,r=/!bset\s+(tweakdefs|tweakunits)([1-9])\b/;document.querySelectorAll('#options-form-columns input[type="checkbox"], #options-form-columns select').forEach(e=>{const o=e;if(o.dataset.isCustom)return;if((o.dataset.isHpGenerator||o.dataset.isScavHpGenerator)&&o.value&&o.dataset.slot){const e=parseInt(o.dataset.slot,10);return void(isNaN(e)||("tweakdefs"===o.dataset.slotType?t.add(e):"tweakunits"===o.dataset.slotType&&a.add(e)))}let s=[];"SELECT"===o.tagName&&o.value?s.push(o.value):"checkbox"===o.type&&o.checked&&(s=JSON.parse(o.dataset.commandBlocks||"[]")),s.forEach(e=>{if(!e)return;const o=e.match(r);if(o){const e=parseInt(o[2],10);"tweakdefs"===o[1]?t.add(e):"tweakunits"===o[1]&&a.add(e)}})});const o=document.querySelectorAll('input[data-is-custom="true"]');o.forEach(e=>{const r=e,o=r.nextElementSibling.nextElementSibling,s=r.nextElementSibling,n=JSON.parse(r.dataset.customData);if(s.classList.remove("disabled"),r.checked){const e="tweakdefs"===n.type?t:a;let r=null;for(let t=1;t<=9;t++)if(!e.has(t)){r=t;break}null!==r?(o.textContent=`(${n.type}${r})`,e.add(r)):o.textContent=`(${n.type} - No Slot!)`}else o.textContent=`(${n.type})`});let s=9-t.size,n=9-a.size;o.forEach(e=>{const t=e;if(!t.checked){const e=JSON.parse(t.dataset.customData);let a=!1;"tweakdefs"===e.type&&s<=0&&(a=!0),"tweakunits"===e.type&&n<=0&&(a=!0),t.disabled=a,t.nextElementSibling.classList.toggle("disabled",a)}}),e.innerHTML="";const l=1===Math.max(0,s)?"slot":"slots",i=1===Math.max(0,n)?"slot":"slots",c=document.createElement("p");c.textContent=`${Math.max(0,s)} available tweakdefs ${l} and ${Math.max(0,n)} available tweakunits ${i}`,e.appendChild(c)}();const u=Array.from(document.querySelectorAll('#options-form-columns input[type="checkbox"], #options-form-columns select, #custom-options-form-columns input[type="checkbox"]')).map(e=>{const t=e;return{isCustom:"true"===t.dataset.isCustom,customData:t.dataset.customData?JSON.parse(t.dataset.customData):void 0,isHpGenerator:"true"===t.dataset.isHpGenerator,isScavHpGenerator:"true"===t.dataset.isScavHpGenerator,value:t.value,checked:t.checked,hpType:t.dataset.hpType,slot:t.dataset.slot,slotType:t.dataset.slotType,tagName:t.tagName,id:t.id,dataset:t.dataset,commandBlocks:t.dataset.commandBlocks?JSON.parse(t.dataset.commandBlocks):void 0}}),p=Array.from(document.querySelectorAll("#raptor-only-options select")).map(e=>({value:e.value,optionType:e.dataset.optionType||""})),f=function(e){const{gameConfigs:t,formOptionsConfig:a,mapsSelectValue:r,modesSelectValue:o,primaryModeSelectValue:s,scavHpSelectValue:n,scavHpSelectText:m,bossHpSelectValue:u,bossHpSelectText:p,formElements:f,raptorOptions:g}=e,h=[];if(""!==r){const e=t.maps[parseInt(r)];e&&e.commands&&h.push(...e.commands)}if(""!==o){const e=t.modes[parseInt(o)];e&&e.commands&&h.push(...e.commands)}const v=[],b=[];f.forEach(e=>{if(e.isCustom)e.checked&&e.customData&&b.push(e.customData);else if(e.tweakDefinition&&e.checked)B(e.tweakDefinition,b);else if(e.isHpGenerator||e.isScavHpGenerator){const t=parseFloat(e.value||"0");if(t>0){const a=e.hpType;if("qhp"===a)B(l(t,e.value),b);else if("hp"===a){let a=1,r=.5;switch(t){case 1.3:a=.576923077,r=.5;break;case 1.5:a=.466666667,r=.5;break;case 1.7:a=.411764706,r=.5;break;case 2:a=.35,r=.5;break;case 2.5:a=.3,r=.6;break;case 3:a=.25,r=.55;break;case 4:a=.1875,r=.45;break;case 5:a=.15,r=.25;break;default:a=1,r=.5}i({healthMultiplier:t,workertimeMultiplier:r,metalCostFactor:a,multiplierText:e.value}).forEach(e=>B(e,b))}else"boss"===a?B(c(t,e.value),b):"scav"===a&&d(t,e.value).forEach(e=>B(e,b))}}else{let t=[];"SELECT"!==e.tagName||e.id.includes("maps-select")||e.id.includes("modes-select")||e.id.includes("primary-mode-select")?e.checked&&e.commandBlocks&&(t=e.commandBlocks):e.value&&t.push(e.value),t.forEach(e=>{e&&v.push(e.trim())})}});const y=new Set,w=new Set,k=/!bset\s+(tweakdefs|tweakunits)([1-9])\b/;[...v].forEach(e=>{const t=e.match(k);if(t){const e=parseInt(t[2],10);"tweakdefs"===t[1]?y.add(e):"tweakunits"===t[1]&&w.add(e)}});const _=[];b.forEach(e=>{const t="tweakdefs"===e.type?y:w;let a=null;for(let e=1;e<=9;e++)if(!t.has(e)){a=e;break}null!==a?(_.push(`!bset ${e.type}${a} ${e.tweak}`),t.add(a)):console.warn(`All slots for '${e.type}' are full. Could not add custom tweak.`)});const x=h.length>0||v.length>0||_.length>0,L=[];(h.length>0||v.length>0||_.length>0)&&(t.base.length>0&&L.push(...t.base),"Scavengers"===s&&t.scavengers.length>0&&L.push(...t.scavengers)),L.push(...h,...v,..._);const C="Scavengers"===s;let E=C?"$rename [Mod] NuttyB Scavengers ":"$rename [Mod] NuttyB Raptors ";const S=[];if(C){const e=[m,p].filter(Boolean).join(" ");if(e){const t=e.replace(/\./g,"_");S.push(`[${t}]`)}}else{let e="",t="",r="";g.forEach(o=>{if(o.value){const s=a.find(e=>e.label===o.optionType);if(s&&s.choices){const a=s.choices.find(e=>e.value===o.value);a&&void 0!==a.shortLabel&&("Extras"===s.label?e=a.shortLabel:"Raptor Health"===s.label?t=a.shortLabel:"Queen Health"===s.label&&(r=a.shortLabel))}}}),e&&S.push(e);const o=[r,t].filter(Boolean).join(" ");o&&S.push(`[${o}]`)}const T=L.lastIndexOf("!unit_restrictions_noextractors 1"),$=L.lastIndexOf("!unit_restrictions_noextractors 0"),H=T>-1&&T>$;S.length>0&&(E+=S.join("")),H&&(E+="[No Mex]");const P=[],q=L;for(const e of q){if(!e)continue;let t=!1;for(const a of P){const r=0===a.length?e.length:e.length+1;if(a.length+r<=5e4){a.commands.push(e),a.length+=r,t=!0;break}}t||P.push({commands:[e],length:e.length})}if(x)if(0===P.length)P.push({commands:[E],length:E.length});else{const e=P[P.length-1],t=0===e.length?E.length:E.length+1;e.length+t<=5e4?(e.commands.push(E),e.length+=t):P.push({commands:[E],length:E.length})}return{lobbyName:x?E:"No Options Selected",sections:P.map(e=>e.commands.join("\n"))}}({gameConfigs:q,formOptionsConfig:P,mapsSelectValue:n?n.value:"",modesSelectValue:m?m.value:"",primaryModeSelectValue:t?t.value:"Raptors",scavHpSelectValue:o?o.value:"",scavHpSelectText:o&&o.options[o.selectedIndex]?o.options[o.selectedIndex].text:"",bossHpSelectValue:s?s.value:"",bossHpSelectText:s&&s.options[s.selectedIndex]?s.options[s.selectedIndex].text:"",formElements:u,raptorOptions:p});A.textContent=f.lobbyName;for(let e=1;e<=7;e++){const t=document.getElementById(`part-${e}-section`),a=document.getElementById(`command-output-${e}`);f.sections[e-1]?(a.value=f.sections[e-1],t.style.display="grid"):(a.value="",t.style.display="none")}}function F(e){const t=e.target,a=t.dataset.tab+"-tab";U.forEach(e=>e.classList.remove("active")),M.forEach(e=>e.classList.remove("active")),t.classList.add("active"),document.getElementById(a).classList.add("active"),"data"===t.dataset.tab&&(function(e){const t=document.querySelector("#data-table tbody");t.innerHTML="",e.filter(e=>"Hidden"!==e.status).forEach(e=>{const a=t.insertRow();a.insertCell().textContent=e.label,a.insertCell().textContent=e.status,a.insertCell().textContent=e.summary;const r=a.insertCell(),o=document.createElement("div");o.className="command-cell-wrapper";const s=document.createElement("span");s.className="command-text",s.textContent=e.commandBlock,s.title=e.commandBlock;const n=document.createElement("button");n.textContent="Copy",n.className="copy-row-button",n.dataset.command=e.commandBlock,o.appendChild(s),o.appendChild(n),r.appendChild(o)}),document.querySelectorAll("select[data-slot]").forEach(e=>{const a=e,r=a.value;if(!r)return;const o=a.options[a.selectedIndex].text,n=a.dataset.hpType,u=a.dataset.slot,p=`${a.dataset.slotType}${u}`,f=function(e,t){const a=parseFloat(t);if(isNaN(a))return"Error: Invalid multiplier";try{let r;if("qhp"===e)r=l(a,t);else if("boss"===e)r=c(a,t);else if("hp"===e){let e=1,o=.5;switch(a){case 1.3:e=.576923077,o=.5;break;case 1.5:e=.466666667,o=.5;break;case 1.7:e=.411764706,o=.5;break;case 2:e=.35,o=.5;break;case 2.5:e=.3,o=.6;break;case 3:e=.25,o=.55;break;case 4:e=.1875,o=.45;break;case 5:e=.15,o=.25;break;default:e=1,o=.5}r=i({healthMultiplier:a,workertimeMultiplier:o,metalCostFactor:e,multiplierText:t})}else{if("scav"!==e)return"Error: Unknown type";r=d(a,t)}if(r){const e=s(r);let t=e;if("undefined"!=typeof luamin){const a=e.match(/^(--.*)\n/),r=a?a[1]:"",o=luamin.minify(e);t=r?r+"\n"+o:o}return m(t)}}catch(e){return"Error: "+e}return"Error: Unknown type"}(n,r);if(f.startsWith("Error"))return;const g=`!bset ${p} ${f}`,h=function(e){if(!e)return"";try{let t=e.replace(/-/g,"+").replace(/_/g,"/");const a=t.length%4;a&&(t+="====".slice(a));const r=atob(t),o=Uint8Array.from(r,e=>e.charCodeAt(0));return new TextDecoder("utf-8").decode(o)}catch(t){return console.error(`Base64URL decoding failed for: ${e}`,t),"Error decoding data"}}(f).split("\n")[0].trim(),v=t.insertRow();v.insertCell().textContent=o,v.insertCell().textContent="Optional/Generated",v.insertCell().textContent=h;const b=v.insertCell(),y=document.createElement("div");y.className="command-cell-wrapper";const w=document.createElement("span");w.className="command-text",w.textContent=g,w.title=g;const k=document.createElement("button");k.textContent="Copy",k.className="copy-row-button",k.dataset.command=g,y.appendChild(w),y.appendChild(k),b.appendChild(y)})}(H),function(e){const t=document.querySelector("#maps-modes-table tbody");if(t.innerHTML="",0===e.maps.length&&0===e.modes.length&&0===e.scavengers.length&&0===e.base.length)return void(t.innerHTML='<tr><td colspan="3" style="text-align: center;">No maps or modes found.</td></tr>');const a=(e,t)=>{if(!t||0===t.length)return void(e.textContent="N/A");const a=document.createElement("div");a.className="command-cell-wrapper";const r=document.createElement("span");r.style.whiteSpace="normal",r.innerHTML=t.join("<br>");const o=document.createElement("button");o.textContent="Copy All",o.className="copy-row-button",o.dataset.command=t.join("\n"),a.appendChild(r),a.appendChild(o),e.appendChild(a)},r=(e,r)=>{e.forEach(e=>{const o=t.insertRow();o.insertCell().textContent=r,o.insertCell().textContent=e.name,a(o.insertCell(),e.commands)})},o=(e,r,o)=>{if(e.length>0){const s=t.insertRow();s.insertCell().textContent=r,s.insertCell().textContent=o,a(s.insertCell(),e)}};o(e.base,"base","Raptors (Default)"),o(e.scavengers,"scavengers","Default"),r(e.maps,"maps"),r(e.modes,"modes")}(q)),"custom"===t.dataset.tab&&$(T())}function Q(){$(T()),function(e,t){const a=document.getElementById("custom-left-column"),r=document.getElementById("custom-right-column"),o=document.getElementById("custom-settings-container");a.innerHTML="",r.innerHTML="",e.length>0?(o.style.display="block",e.forEach((e,o)=>{const s=document.createElement("label"),n=document.createElement("input");n.type="checkbox",n.dataset.isCustom="true",n.dataset.customData=JSON.stringify({type:e.type,tweak:e.tweak}),n.addEventListener("change",t);const l=document.createElement("span");l.className="custom-option-label-text",l.textContent=` ${e.desc}`;const i=document.createElement("span");i.className="custom-option-type-display",i.textContent=`(${e.type})`,s.appendChild(n),s.appendChild(l),s.appendChild(i),o%2==0?a.appendChild(s):r.appendChild(s)})):o.style.display="none"}(T(),G)}document.addEventListener("click",e=>{const t=e.target;if(t.matches(".copy-button")){const e=t.dataset.target;if(!e)return;const a=document.getElementById(e);if(!a)return;const r=t.textContent;navigator.clipboard.writeText(a.value).then(()=>{t.textContent="Copied!",setTimeout(()=>{t.textContent=r},2e3)}).catch(e=>{console.error("Failed to copy: ",e)})}}),[N,z,I].forEach(e=>{e&&e.addEventListener("click",e=>{const t=e.target;if(t.matches(".copy-row-button")){const e=t.dataset.command||t.dataset.tweakCode;if(!e)return;navigator.clipboard.writeText(e).then(()=>{const e=t.textContent;t.textContent="Copied!",setTimeout(()=>{t.textContent=e},2e3)}).catch(e=>{console.error("Failed to copy command: ",e)})}else t.matches(".delete-tweak-btn")&&(function(e){E=E.filter(t=>t.id!==e),S(E)}(parseInt(t.dataset.id,10)),Q(),G())})}),D.addEventListener("click",()=>{document.querySelectorAll('#options-form-columns input[type="checkbox"], #options-form-columns select').forEach(e=>{const t=e;"checkbox"===t.type?t.checked=!1:"SELECT"===t.tagName&&("maps-select"===t.id||"modes-select"===t.id?t.selectedIndex=-1:"primary-mode-select"!==t.id&&(t.value=""))}),G()}),R.addEventListener("click",()=>{const e=document.getElementById("primary-mode-select");e&&(e.value="Raptors"),P.forEach(e=>{if("checkbox"===e.type){const t=document.querySelectorAll("#options-form-columns label"),a=Array.from(t).find(t=>{var a;return null===(a=t.textContent)||void 0===a?void 0:a.trim().includes(e.label)});if(a){const t=a.querySelector('input[type="checkbox"]');t&&(t.checked=!!e.default)}}else if("select"===e.type){const t=j.querySelector(`select[data-option-type="${e.label}"]`);t&&(t.value=e.defaultValue||"")}});const t=document.getElementById("boss-hp-select"),a=document.getElementById("scav-hp-select");t&&(t.value=""),a&&(a.value="");const r=document.getElementById("maps-select");r&&r.options.length>0&&(r.selectedIndex=0);const o=document.getElementById("modes-select");o&&o.options.length>0&&(o.selectedIndex=0),G()}),O.addEventListener("submit",function(e){var t,a,r;e.preventDefault(),t=document.getElementById("custom-option-desc").value.trim(),a=document.getElementById("custom-option-type").value,r=document.getElementById("custom-tweak-code").value.trim(),t&&r&&(E.push({id:Date.now(),desc:t,type:a,tweak:r}),S(E)),Q(),G(),O.reset()}),U.forEach(e=>e.addEventListener("click",F)),document.addEventListener("DOMContentLoaded",function(){return e=this,t=void 0,r=function*(){try{!function(){const e=localStorage.getItem(u);E=e?JSON.parse(e):[]}();const[e,t,a]=yield Promise.all([C("modes.txt"),x(),L()]);if(q=e,H=t.rawOptionsData,P=t.formOptionsConfig,a){const e=document.getElementById("links-tab");e&&(e.innerHTML=a)}console.log("Modes file loaded and parsed:",q),function(e,t,a){const r=document.getElementById("left-column"),o=document.getElementById("right-column");document.getElementById("options-form-columns"),r.innerHTML="",o.innerHTML="";const s=["NuttyB Main Tweaks","NuttyB Evolving Commanders"];s.forEach(t=>{const o=e.find(e=>e.label===t);if(o){const e=document.createElement("label"),t=document.createElement("input");t.type="checkbox",t.dataset.commandBlocks=JSON.stringify(o.commandBlocks),t.checked=!!o.default,t.disabled=!!o.disabled,e.appendChild(t),e.appendChild(document.createTextNode(" "+o.label)),t.disabled||t.addEventListener("change",a),r.appendChild(e)}});const n=document.createElement("label");n.textContent="Mode: ";const l=document.createElement("select");l.id="primary-mode-select",l.innerHTML='<option value="Raptors">Raptors</option><option value="Scavengers">Scavengers</option>',l.addEventListener("change",e=>a(e)),n.appendChild(l),r.appendChild(n);const i=document.createElement("div");i.id="scav-only-options";const c=document.createElement("label");c.textContent="Scavengers HP: ";const d=document.createElement("select");d.id="scav-hp-select",d.dataset.isScavHpGenerator="true",d.dataset.hpType="scav",d.dataset.slot="",d.dataset.slotType="tweakdefs",[{v:"",t:"Default"},{v:"1",t:"1x HP"},{v:"1.3",t:"1.3x HP"},{v:"1.5",t:"1.5x HP"},{v:"1.7",t:"1.7x HP"},{v:"2",t:"2x HP"},{v:"2.5",t:"2.5x HP"},{v:"3",t:"3x HP"},{v:"4",t:"4x HP"},{v:"5",t:"5x HP"}].forEach(e=>d.add(new Option(e.t,e.v))),d.value="",d.addEventListener("change",a),c.appendChild(d),i.appendChild(c);const m=document.createElement("label");m.textContent="Scav Boss HP: ";const u=document.createElement("select");u.id="boss-hp-select",u.dataset.isScavHpGenerator="true",u.dataset.hpType="boss",u.dataset.slot="1",u.dataset.slotType="tweakdefs",[{v:"",t:"Default"},{v:"1",t:"1x BHP"},{v:"1.3",t:"1.3x BHP"},{v:"1.5",t:"1.5x BHP"},{v:"1.7",t:"1.7x BHP"},{v:"2",t:"2x BHP"},{v:"2.5",t:"2.5x BHP"},{v:"3",t:"3x BHP"},{v:"4",t:"4x BHP"},{v:"5",t:"5x BHP"}].forEach(e=>u.add(new Option(e.t,e.v))),u.value="",u.addEventListener("change",a),m.appendChild(u),i.appendChild(m),r.appendChild(i);const p=document.createElement("div");if(p.id="raptor-only-options",r.appendChild(p),e.forEach(e=>{var t;if(s.includes(e.label))return;const n=document.createElement("label");let l;"checkbox"===e.type?(l=document.createElement("input"),l.type="checkbox",l.dataset.commandBlocks=JSON.stringify(e.commandBlocks),l.checked=!!e.default,l.disabled=!!e.disabled,n.appendChild(l),n.appendChild(document.createTextNode(" "+e.label)),l.disabled||l.addEventListener("change",a)):"select"===e.type&&(l=document.createElement("select"),l.dataset.optionType=e.label,e.isHpGenerator&&(l.dataset.isHpGenerator="true",l.dataset.hpType=e.hpType,l.dataset.slot=String(e.slot),l.dataset.slotType=e.slotType,l.disabled=!0),null===(t=e.choices)||void 0===t||t.forEach(t=>{const a=document.createElement("option");a.value=t.value,a.textContent=t.label,e.defaultValue&&t.value===e.defaultValue&&(a.selected=!0),a.dataset.shortLabel=t.shortLabel||"",l.appendChild(a)}),n.textContent=e.label+": ",n.appendChild(l),l.addEventListener("change",a)),"right"===e.column?o.appendChild(n):"Raptor Health"===e.label||"Queen Health"===e.label||"Extras"===e.label?p.appendChild(n):r.appendChild(n)}),t&&(t.maps.length>0||t.modes.length>0)){let e,o;if(t.maps.length>0){e=document.createElement("label"),e.textContent="Map: ";const r=document.createElement("select");r.id="maps-select",t.maps.forEach((e,t)=>{r.add(new Option(e.name,String(t)))}),r.selectedIndex=0,r.addEventListener("change",a),e.appendChild(r)}if(t.modes.length>0){o=document.createElement("label"),o.textContent="Start: ";const e=document.createElement("select");e.id="modes-select",e.addEventListener("change",a),o.appendChild(e)}const s=document.getElementById("raptor-only-options");s?(o&&s.after(o),e&&s.after(e)):(e&&r.appendChild(e),o&&r.appendChild(o))}}(P,q,G);const r=setInterval(()=>{"undefined"!=typeof luamin&&(clearInterval(r),console.log("Lua libraries loaded."),document.querySelectorAll('select[data-is-hp-generator="true"], select[data-is-scav-hp-generator="true"]').forEach(e=>{e.disabled=!1}),G())},100);Q(),function(e,t){const a=document.getElementById("modes-select");if(!a)return;const r=a.value;a.innerHTML="",e&&e.modes&&(e.modes.forEach((e,t)=>{const r=document.createElement("option");r.value=String(t),r.textContent=e.name,a.appendChild(r)}),Array.from(a.options).some(e=>e.value===r)?a.value=r:a.options.length>0&&(a.selectedIndex=0)),t()}(q,G);const o=document.getElementById("reset-output");o&&(o.value=Array.from({length:9},(e,t)=>`!bset tweakdefs${t+1} ""\n!bset tweakunits${t+1} ""`).join("\n"))}catch(e){console.error("Failed to initialize the configurator:",e),document.querySelector(".container").innerHTML='<h1>Initialization Error</h1><p style="color: red;">Could not load essential configuration files (e.g., modes.txt or tweakdata.txt). Please check that the files exist and refresh the page.</p>'}},new((a=void 0)||(a=Promise))(function(o,s){function n(e){try{i(r.next(e))}catch(e){s(e)}}function l(e){try{i(r.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(n,l)}i((r=r.apply(e,t||[])).next())});var e,t,a,r})})()})();
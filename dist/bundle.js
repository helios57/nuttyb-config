(()=>{var e={35(e){"use strict";e.exports=JSON.parse('{"label":"Mega Nuke","variable":"tweakunits4","generator":"lua-table","description":"--NuttyB v1.52 Mega Nuke\\r\\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko","data":{"armsilo":{"energycost":1500000,"metalcost":98720,"buildtime":228500,"footprintx":12,"footprintz":12,"maxthisunit":1,"explodeas":"advancedFusionExplosion","weapondefs":{"nuclear_missile":{"areaofeffect":5000,"cameraShake":15000,"craterboost":55,"cratermult":40,"energypershot":390000,"metalpershot":3000,"smokesize":28,"smokecolor":0.85,"soundhitwetvolume":80,"soundstartvolume":50,"stockpiletime":160,"weaponvelocity":500,"damage":{"commanders":500,"default":19500,"raptor":100000}}}},"corsilo":{"energycost":1500000,"metalcost":98720,"buildtime":228500,"footprintx":12,"footprintz":12,"maxthisunit":1,"explodeas":"advancedFusionExplosion","weapondefs":{"nuclear_missile":{"areaofeffect":5000,"cameraShake":15000,"craterboost":55,"cratermult":40,"energypershot":390000,"metalpershot":3000,"smokesize":28,"smokecolor":0.85,"soundhitwetvolume":80,"soundstartvolume":50,"stockpiletime":160,"weaponvelocity":500,"damage":{"commanders":500,"default":19500,"raptor":100000}}}},"legsilo":{"energycost":1500000,"metalcost":98720,"buildtime":228500,"footprintx":12,"footprintz":12,"maxthisunit":1,"explodeas":"advancedFusionExplosion","weapondefs":{"nuclear_missile":{"areaofeffect":5000,"cameraShake":15000,"craterboost":55,"cratermult":40,"energypershot":390000,"metalpershot":3000,"smokesize":28,"smokecolor":0.85,"soundhitwetvolume":80,"soundstartvolume":50,"stockpiletime":160,"weaponvelocity":500,"damage":{"commanders":500,"default":19500,"raptor":100000}}}},"raptor_turret_antinuke_t3_v1":{"maxthisunit":0},"raptor_antinuke":{"maxthisunit":0},"raptor_turret_antinuke_t4_v1":{"maxthisunit":0},"raptor_turret_antinuke_t2_v1":{"maxthisunit":0}}}')},90(e){"use strict";e.exports=JSON.parse('{"label":"T3 Eco","variable":"tweakdefs7","generator":"static-script","scriptId":"tweakdefs7"}')},97(e){"use strict";e.exports=JSON.parse('{"label":"Experimental Wave Challenge","variable":"tweakunits5","generator":"static-script","scriptId":"tweakunits5"}')},176(e,a,t){var r={"./1-tweakdefs2.json":701,"./10-tweakunits2.json":602,"./11-tweakunits3.json":642,"./12-tweakunits5.json":97,"./13-tweakunits6.json":879,"./14-tweakunits7.json":501,"./15-tweakunits4.json":35,"./2-tweakdefs3.json":469,"./3-tweakdefs4.json":461,"./4-tweakdefs6.json":360,"./5-tweakdefs7.json":90,"./6-tweakdefs8.json":252,"./7-tweakdefs9.json":474,"./8-tweakunits.json":717,"./9-tweakunits1.json":315};function o(e){var a=s(e);return t(a)}function s(e){if(!t.o(r,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=176},252(e){"use strict";e.exports=JSON.parse('{"label":"T3 Builders","variable":"tweakdefs8","generator":"static-script","scriptId":"tweakdefs8"}')},315(e){"use strict";e.exports=JSON.parse('{"label":"Legion NuttyB Evolving Commander","variable":"tweakunits1","generator":"static-script","scriptId":"tweakunits1"}')},360(e){"use strict";e.exports=JSON.parse('{"label":"Cross Faction T2","variable":"tweakdefs6","generator":"static-script","scriptId":"tweakdefs6"}')},461(e){"use strict";e.exports=JSON.parse('{"label":"Mini Bosses","variable":"tweakdefs4","generator":"static-script","scriptId":"tweakdefs4"}')},469(e){"use strict";e.exports=JSON.parse('{"label":"T4 Defences Test","variable":"tweakdefs3","generator":"static-script","scriptId":"tweakdefs3"}')},474(e){"use strict";e.exports=JSON.parse('{"label":"Unit Launchers","variable":"tweakdefs9","generator":"static-script","scriptId":"tweakdefs9"}')},501(e){"use strict";e.exports=JSON.parse('{"label":"T4 Air Rework","variable":"tweakunits7","generator":"static-script","scriptId":"tweakunits7"}')},602(e){"use strict";e.exports=JSON.parse('{"label":"Armada NuttyB Evolving Commander","variable":"tweakunits2","generator":"static-script","scriptId":"tweakunits2"}')},642(e){"use strict";e.exports=JSON.parse('{"label":"Cortex NuttyB Evolving Commander","variable":"tweakunits3","generator":"static-script","scriptId":"tweakunits3"}')},701(e){"use strict";e.exports=JSON.parse('{"label":"Main tweakdefs","variable":"tweakdefs2","generator":"static-script","scriptId":"tweakdefs2"}')},717(e){"use strict";e.exports=JSON.parse('{"label":"Main tweakunits","variable":"tweakunits","generator":"static-script","scriptId":"tweakunits"}')},879(e){"use strict";e.exports=JSON.parse('{"label":"LRPC Rebalance v2","variable":"tweakunits6","generator":"lua-table","description":"--NuttyB lrpc rebalance v2\\r\\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko","data":{"armbrtha":{"health":13000,"weapondefs":{"ARMBRTHA_MAIN":{"damage":{"commanders":480,"default":33000},"areaofeffect":60,"energypershot":8000,"range":2400,"reloadtime":9,"turnrate":20000}}},"corint":{"health":13000,"weapondefs":{"CORINT_MAIN":{"damage":{"commanders":480,"default":85000},"areaofeffect":230,"edgeeffectiveness":0.6,"energypershot":15000,"range":2700,"reloadtime":18}}},"leglrpc":{"health":13000,"weapondefs":{"LEGLRPC_MAIN":{"damage":{"commanders":480,"default":4500},"energypershot":2000,"range":2000,"reloadtime":2,"turnrate":30000}}}}}')},989(e){function a(e){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}a.keys=()=>[],a.resolve=a,a.id=989,e.exports=a}},a={};function t(r){var o=a[r];if(void 0!==o)return o.exports;var s=a[r]={exports:{}};return e[r](s,s.exports,t),s.exports}t.d=(e,a)=>{for(var r in a)t.o(a,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:a[r]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};function a(e){if(null==e)return"nil";if("string"==typeof e)return`"${e}"`;if("number"==typeof e)return e.toString();if("boolean"==typeof e)return e?"true":"false";if(Array.isArray(e))return`{ ${e.map(e=>a(e)).join(", ")} }`;if("object"==typeof e){const t=[];for(const[r,o]of Object.entries(e))t.push(`["${r}"] = ${a(o)}`);return`{ ${t.join(", ")} }`}return"nil"}t.r(e),t.d(e,{tweakdefs2:()=>g,tweakdefs3:()=>f,tweakdefs4:()=>h,tweakdefs6:()=>b,tweakdefs7:()=>y,tweakdefs8:()=>v,tweakdefs9:()=>_,tweakunits:()=>w,tweakunits1:()=>k,tweakunits2:()=>x,tweakunits3:()=>C,tweakunits5:()=>S,tweakunits7:()=>E});class r{constructor(){this.lines=[],this.indentLevel=0}getIndent(){return"    ".repeat(this.indentLevel)}addLocal(e,a){this.lines.push(`${this.getIndent()}local ${e} = ${a}`)}startLoop(e){this.lines.push(`${this.getIndent()}${e} do`),this.indentLevel++}startIf(e){this.lines.push(`${this.getIndent()}if ${e} then`),this.indentLevel++}startBlock(e){this.lines.push(`${this.getIndent()}${e}`),this.indentLevel++}addElse(){this.indentLevel>0&&(this.indentLevel--,this.lines.push(`${this.getIndent()}else`),this.indentLevel++)}addStatement(e){this.lines.push(`${this.getIndent()}${e}`)}endBlock(){this.indentLevel>0&&(this.indentLevel--,this.lines.push(`${this.getIndent()}end`))}build(){return this.lines.join("\n")}}function o(e){const t=new r,o=new Set;for(const a of e.conditions)"nameMatch"!==a.type&&"nameNotMatch"!==a.type||o.add("string.match"),"nameStartsWith"!==a.type&&"nameEndsWith"!==a.type||o.add("string.sub");for(const a of e.mutations)"assign_math_floor"===a.op&&o.add("math.floor"),"list_append"!==a.op&&"list_remove"!==a.op||o.add("table.insert");o.has("string.match")&&t.addLocal("string_match","string.match"),o.has("string.sub")&&t.addLocal("string_sub","string.sub"),o.has("math.floor")&&t.addLocal("math_floor","math.floor"),o.has("table.insert")&&(t.addLocal("table_insert","table.insert"),t.addLocal("table_remove","table.remove")),o.size>0&&t.addStatement("");const s=(e,a)=>{const t=a.split(".");if("customparams"===t[0].toLowerCase()&&t.length>1){const a=t[1];return`((${e}.customParams and ${e}.customParams["${a}"]) or (${e}.customparams and ${e}.customparams["${a}"]))`}return`${e}.${a}`},n=(e,a,r)=>{const o=a.split(".");if("customparams"===o[0].toLowerCase()&&o.length>1){const a=o[1];t.addStatement(`if not ${e}.customParams then ${e}.customParams = {} end`),t.addStatement(`${e}.customParams["${a}"] = ${r}`)}else t.addStatement(`${e}.${a} = ${r}`)},l=(r,o)=>{const l=[];for(const a of e.conditions)switch(a.type){case"nameMatch":l.push(`string_match(${r}, "${a.regex}")`);break;case"nameNotMatch":l.push(`not string_match(${r}, "${a.regex}")`);break;case"nameStartsWith":l.push(`string_sub(${r}, 1, ${a.prefix.length}) == "${a.prefix}"`);break;case"nameEndsWith":l.push(`string_sub(${r}, -${a.suffix.length}) == "${a.suffix}"`);break;case"customParam":const e="string"==typeof a.value?`"${a.value}"`:a.value;l.push(`((${o}.customParams and ${o}.customParams["${a.key}"] == ${e}) or (${o}.customparams and ${o}.customparams["${a.key}"] == ${e}))`);break;case"category":l.push(`${o}.category == "${a.value}"`)}l.length>0&&t.startIf(l.join(" and "));for(const r of e.mutations)if("multiply"===r.op){const e=s(o,r.field);t.startIf(e),n(o,r.field,`${e} * ${r.factor}`),t.endBlock()}else if("set"===r.op){const e="string"==typeof r.value?`"${r.value}"`:r.value;n(o,r.field,e.toString())}else if("remove"===r.op)n(o,r.field,"nil");else if("assign_math_floor"===r.op){const e=s(o,r.source);t.startIf(e),n(o,r.target,`math_floor(${e} * ${r.factor})`),t.endBlock()}else if("list_append"===r.op){const e="string"==typeof r.value?`"${r.value}"`:r.value;t.addLocal("target_list",s(o,r.field)),t.startIf("not target_list");const a=r.field.split(".");"customparams"===a[0].toLowerCase()&&a.length>1?(t.addStatement(`if not ${o}.customParams then ${o}.customParams = {} end`),t.addStatement(`${o}.customParams["${a[1]}"] = {}`),t.addStatement(`target_list = ${o}.customParams["${a[1]}"]`)):(t.addStatement(`${o}.${r.field} = {}`),t.addStatement(`target_list = ${o}.${r.field}`)),t.endBlock(),t.addStatement(`table_insert(target_list, ${e})`)}else if("list_remove"===r.op){const e="string"==typeof r.value?`"${r.value}"`:r.value;t.addLocal("target_list",s(o,r.field)),t.startIf("target_list"),t.startLoop("for i, v in ipairs(target_list)"),t.startIf(`v == ${e}`),t.addStatement("table_remove(target_list, i)"),t.addStatement("break"),t.endBlock(),t.endBlock(),t.endBlock()}else if("table_merge"===r.op){const e=a(r.value);t.addLocal("target_table",s(o,r.field)),t.startIf("not target_table");const n=r.field.split(".");"customparams"===n[0].toLowerCase()&&n.length>1?(t.addStatement(`if not ${o}.customParams then ${o}.customParams = {} end`),t.addStatement(`${o}.customParams["${n[1]}"] = {}`),t.addStatement(`target_table = ${o}.customParams["${n[1]}"]`)):(t.addStatement(`${o}.${r.field} = {}`),t.addStatement(`target_table = ${o}.${r.field}`)),t.endBlock(),t.startLoop(`for k, v in pairs(${e})`),t.addStatement("target_table[k] = v"),t.endBlock()}l.length>0&&t.endBlock()};if("UnitDefsLoop"===e.scope)t.startLoop("for id, def in pairs(UnitDefs)"),t.addLocal("name","def.name"),l("name","def"),t.endBlock();else if("UnitDef_Post"===e.scope){const a=`ApplyTweak_${e.name.replace(/[^a-zA-Z0-9_]/g,"_")}`;t.startBlock(`local function ${a}(name, def)`),l("name","def"),t.endBlock(),t.addStatement(""),t.startIf("UnitDef_Post"),t.addLocal("prev_UnitDef_Post","UnitDef_Post"),t.startBlock("UnitDef_Post = function(name, def)"),t.addStatement("prev_UnitDef_Post(name, def)"),t.addStatement(`${a}(name, def)`),t.endBlock(),t.addElse(),t.addStatement(`UnitDef_Post = ${a}`),t.endBlock()}return t.build()}function s(e,a){return{name:`NuttyB v1.52 ${a}X QHP`,description:"Queen Health & Repair Adjustments",scope:"UnitDefsLoop",conditions:[{type:"nameStartsWith",prefix:"raptor_queen_"}],mutations:[{op:"set",field:"repairable",value:!1},{op:"set",field:"canbehealed",value:!1},{op:"set",field:"buildTime",value:9999999},{op:"set",field:"autoHeal",value:2},{op:"set",field:"canSelfRepair",value:!1},{op:"multiply",field:"health",factor:e}]}}function n(e,a){return{name:`Scav Boss HP ${a}X`,description:"Scavenger Boss HP adjustment",scope:"UnitDef_Post",conditions:[{type:"nameStartsWith",prefix:"scavengerbossv4"}],mutations:[{op:"multiply",field:"health",factor:e}]}}const l="nuttyb-custom-tweaks",i=["!bset tweakdefs2 ","!bset tweakunits "],c=["!bset tweakunits1 ","!bset tweakunits2 ","!bset tweakunits3 "],m=["!bset tweakdefs4 ","!bset tweakunits5 "],d=["Slow raptors/scavs"],u=["Cross Faction T2","T3 Eco","T3 Builders","Unit Launchers","LRPC Rebalance v2","Legion NuttyB Evolving Commander","Armada NuttyB Evolving Commander","Cortex NuttyB Evolving Commander"],p=["Cross Faction T2","T3 Eco","T3 Builders","Unit Launchers","LRPC Rebalance v2"],g='--NuttyB v1.52bb Def Main\n-- Authors: ChrispyNut, BackBash\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko\nlocal a,b,c,d=UnitDefs or{},\'repulsor\',pairs,table.merge;function addWeapon(c,e,f)a[c]=a[c]or{}a[c].weapons=a[c].weapons or{}a[c].weapondefs=a[c].weapondefs or{}a[c].customparams=a[c].customparams or{}table.insert(a[c].weapons,{def=b,onlytargetcategory=f or\'\'})a[c].weapondefs[b]=e;if e.shield and e.shield.power>0 then e.range=e.shield.radius;a[c].customparams=d(a[c].customparams or{},{off_on_stun=\'true\',shield_color_mult=0.8,shield_power=e.shield.power,shield_radius=e.shield.radius})end end;for a,b in c(a)do if string.sub(a,1,24)==\'raptor_air_fighter_basic\'then if b.weapondefs then for a,a in c(b.weapondefs)do a.name=\'Spike\'a.accuracy=200;a.collidefriendly=0;a.collidefeature=0;a.avoidfeature=0;a.avoidfriendly=0;a.areaofeffect=64;a.edgeeffectiveness=0.3;a.explosiongenerator=\'custom:raptorspike-large-sparks-burn\'a.cameraShake={}a.dance={}a.interceptedbyshieldtype=0;a.model=\'Raptors/spike.s3o\'a.reloadtime=1.1;a.soundstart=\'talonattack\'a.startvelocity=200;a.submissile=1;a.smoketrail=0;a.smokePeriod={}a.smoketime={}a.smokesize={}a.smokecolor={}a.soundhit={}a.texture1={}a.texture2={}a.tolerance={}a.tracks=0;a.turnrate=60000;a.weaponacceleration=100;a.weapontimer=1;a.weaponvelocity=1000;a.weapontype={}a.wobble={}end end elseif a:match\'^[acl][ore][rgm]com\'and not a:match\'_scav$\'then table.mergeInPlace(b,{customparams={combatradius=0,fall_damage_multiplier=0,paratrooper=true,wtboostunittype={}},featuredefs={dead={damage=9999999,reclaimable=false,mass=9999999}}})end end;local b={raptor_air_kamikaze_basic_t2_v1={selfdestructas=\'raptor_empdeath_big\'},raptor_land_swarmer_emp_t2_v1={weapondefs={raptorparalyzersmall={damage={shields=70},paralyzetime=6}}},raptor_land_assault_emp_t2_v1={weapondefs={raptorparalyzerbig={damage={shields=150},paralyzetime=10}}},raptor_allterrain_arty_emp_t2_v1={weapondefs={goolauncher={paralyzetime=6}}},raptor_allterrain_arty_emp_t4_v1={weapondefs={goolauncher={paralyzetime=10}}},raptor_air_bomber_emp_t2_v1={weapondefs={weapon={damage={shields=1100,default=2000},paralyzetime=10}}},raptor_allterrain_swarmer_emp_t2_v1={weapondefs={raptorparalyzersmall={damage={shields=70},paralyzetime=6}}},raptor_allterrain_assault_emp_t2_v1={weapondefs={raptorparalyzerbig={damage={shields=150},paralyzetime=6}}},raptor_matriarch_electric={weapondefs={goo={paralyzetime=13},melee={paralyzetime=13},spike_emp_blob={paralyzetime=13}}}}for b,c in c(b)do if a[b]then a[b]=d(a[b],c)end end;for b,b in c({\'raptor_antinuke\',\'raptor_turret_acid_t2_v1\',\'raptor_turret_acid_t3_v1\',\'raptor_turret_acid_t4_v1\',\'raptor_turret_antiair_t2_v1\',\'raptor_turret_antiair_t3_v1\',\'raptor_turret_antiair_t4_v1\',\'raptor_turret_antinuke_t2_v1\',\'raptor_turret_antinuke_t3_v1\',\'raptor_turret_basic_t2_v1\',\'raptor_turret_basic_t3_v1\',\'raptor_turret_basic_t4_v1\',\'raptor_turret_burrow_t2_v1\',\'raptor_turret_emp_t2_v1\',\'raptor_turret_emp_t3_v1\',\'raptor_turret_emp_t4_v1\',\'raptor_worm_green\'})do local a=a[b]a.maxthisunit=10;a.health=a.health*2;if a.weapondefs then for a,a in c(a.weapondefs)do a.reloadtime=a.reloadtime/1.5;a.range=a.range/2 end end end;for a,a in c(a)do if a.builder==true then if a.canfly==true then a.explodeas=\'\'a.selfdestructas=\'\'end end end;local b={\'raptor_air_bomber_basic_t2_v1\',\'raptor_air_bomber_basic_t2_v2\',\'raptor_air_bomber_basic_t4_v1\',\'raptor_air_bomber_basic_t4_v2\',\'raptor_air_bomber_basic_t1_v1\'}for b,b in c(b)do local a=a[b]if a.weapondefs then for a,a in c(a.weapondefs)do a.damage.default=a.damage.default/1.30 end end end;local a={\'armrespawn\',\'correspawn\',\'legnanotcbase\'}for a,a in ipairs(a)do local a=UnitDefs[a]if a then a.cantbetransported,a.footprintx,a.footprintz=false,4,4;a.customparams=a.customparams or{}a.customparams.paratrooper=true;a.customparams.fall_damage_multiplier=0 end end;local a=UnitDefs or{}local function b(a)local d={}for a,c in c(a)do d[a]=type(c)=="table"and b(c)or c end;return d end;local function d(a,b)for b,c in c(b)do if type(c)=="table"then a[b]=a[b]or{}d(a[b],c)elseif a[b]==nil then a[b]=c end end end;local function e(c,e,f)if a[c]and not a[e]then local b=b(a[c])d(b,f)a[e]=b end end;local b={{"raptor_land_swarmer_basic_t1_v1","raptor_hive_swarmer_basic",{name="Hive Spawn",customparams={i18n_en_humanname="Hive Spawn",i18n_en_tooltip="Raptor spawned to defend hives from attackers."}}},{"raptor_land_assault_basic_t2_v1","raptor_hive_assault_basic",{name="Armored Assault Raptor",customparams={i18n_en_humanname="Armored Assault Raptor",i18n_en_tooltip="Heavy, slow, and unyielding—these beasts are made to take the hits others cant."}}},{"raptor_land_assault_basic_t4_v1","raptor_hive_assault_heavy",{name="Heavy Armored Assault Raptor",customparams={i18n_en_humanname="Heavy Armored Assault Raptor",i18n_en_tooltip="Lacking speed, these armored monsters make up for it with raw, unbreakable toughness."}}},{"raptor_land_assault_basic_t4_v2","raptor_hive_assault_superheavy",{name="Super Heavy Armored Assault Raptor",customparams={i18n_en_humanname="Super Heavy Armored Assault Raptor",i18n_en_tooltip="These super-heavy armored beasts may be slow, but they’re built to take a pounding and keep rolling."}}},{"raptorartillery","raptor_evolved_motort4",{name="Evolved Lobber",customparams={i18n_en_humanname="Evolved Lobber",i18n_en_tooltip="These lobbers did not just evolve—they became deadlier than anything before them."}}},{"raptor_land_swarmer_basic_t1_v1","raptor_acidspawnling",{name="Acid Spawnling",customparams={i18n_en_humanname="Acid Spawnling",i18n_en_tooltip="This critters are so cute but can be so deadly at the same time."}}}}for a,a in ipairs(b)do e(a[1],a[2],a[3])end;local b=UnitDef_Post;function UnitDef_Post(d,e)if b and b~=UnitDef_Post then b(d,e)end;local b=(a["raptor_land_swarmer_basic_t1_v1"]and a["raptor_land_swarmer_basic_t1_v1"].health)local d={texture1={},texture2={},tracks=false,weaponvelocity=4000,smokePeriod={},smoketime={},smokesize={},smokecolor={},smoketrail=0}local e={accuracy=2048,areaofeffect=256,burst=4,burstrate=0.4,flighttime=12,dance=25,craterareaofeffect=256,edgeeffectiveness=0.7,cegtag="blob_trail_blue",explosiongenerator="custom:genericshellexplosion-huge-bomb",impulsefactor=0.4,intensity=0.3,interceptedbyshieldtype=1,range=2300,reloadtime=10,rgbcolor="0.2 0.5 0.9",size=8,sizedecay=0.09,soundhit="bombsmed2",soundstart="bugarty",sprayangle=2048,tolerance=60000,turnrate=6000,trajectoryheight=2,turret=true,weapontype="Cannon",weaponvelocity=520,startvelocity=140,weaponacceleration=125,weapontimer=0.2,wobble=14500,highTrajectory=1,damage={default=900,shields=600}}local f={accuracy=1024,areaofeffect=24,burst=1,burstrate=0.3,cegtag="blob_trail_green",edgeeffectiveness=0.63,explosiongenerator="custom:raptorspike-small-sparks-burn",impulsefactor=1,intensity=0.4,interceptedbyshieldtype=1,name="Acid",range=250,reloadtime=1,rgbcolor="0.8 0.99 0.11",size=1,stages=6,soundhit="bloodsplash3",soundstart="alien_bombrel",sprayangle=128,tolerance=5000,turret=true,weapontimer=0.1,weapontype="Cannon",weaponvelocity=320,damage={default=80}}local b={raptor_hive_swarmer_basic={metalcost=350,nochasecategory="OBJECT",icontype="raptor_land_swarmer_basic_t1_v1"},raptor_hive_assault_basic={metalcost=3000,health=25000,speed=20.0,nochasecategory="OBJECT",icontype="raptor_land_assault_basic_t2_v1",weapondefs={aaweapon=d}},raptor_hive_assault_heavy={metalcost=6000,health=30000,speed=17.0,nochasecategory="OBJECT",icontype="raptor_land_assault_basic_t4_v1",weapondefs={aaweapon=d}},raptor_hive_assault_superheavy={metalcost=9000,health=35000,speed=16.0,nochasecategory="OBJECT",icontype="raptor_land_assault_basic_t4_v2",weapondefs={aaweapon=d}},raptor_evolved_motort4={icontype="raptor_allterrain_arty_basic_t4_v1",weapondefs={poopoo=e},weapons={[1]={badtargetcategory="MOBILE",def="poopoo",maindir="0 0 1",maxangledif=50,onlytargetcategory="NOTAIR"}}},raptor_acidspawnling={metalcost=375,energycost=600,health=b*2,icontype="raptor_land_swarmer_basic_t1_v1",buildpic="raptors/raptorh1b.DDS",objectname="Raptors/raptor_droneb.s3o",weapondefs={throwup=f},weapons={[1]={def="throwup",onlytargetcategory="NOTAIR",maindir="0 0 1",maxangledif=180}}}}for b,d in c(b)do local a=a[b]if a then for b,d in c(d)do if b=="weapondefs"then a.weapondefs=a.weapondefs or{}for b,d in c(d)do a.weapondefs[b]=a.weapondefs[b]or{}for c,d in c(d)do a.weapondefs[b][c]=d end end elseif b=="weapons"then a.weapons=d else a[b]=d end end end end end',f="--T4 Defences NuttyB Balance\n-- Authors: Hedgehogzs\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko\nlocal a,b,c,d,e=UnitDefs or{},table.merge,'legendary_pulsar','legendary_bulwark','legendary_bastion'a.legendary_pulsar=b(a['armannit3'],{name='Legendary Pulsar',description='A pinnacle of Armada engineering that fires devastating, rapid-fire tachyon bolts.',buildtime=300000,health=30000,metalcost=43840,energycost=1096000,icontype=\"armannit3\",customparams={i18n_en_humanname='Legendary Pulsar',i18n_en_tooltip='Fires devastating, rapid-fire tachyon bolts.',techlevel=4},weapondefs={tachyon_burst_cannon={collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,name='Tachyon Burst Cannon',weapontype='LaserCannon',rgbcolor='1 0 1',burst=3,burstrate=0.40,reloadtime=5,accuracy=400,areaofeffect=12,range=1800,energypershot=12000,turret=true,soundstart='annigun1',soundhit='xplolrg3',size=6,impulsefactor=0,weaponvelocity=3100,thickness=10,laserflaresize=8,texture3=\"largebeam\",tilelength=150,tolerance=10000,beamtime=3,explosiongenerator='custom:tachyonshot',damage={default=8000},allowNonBlockingAim=true}},weapons={[1]={badtargetcategory=\"VTOL GROUNDSCOUT\",def='tachyon_burst_cannon',onlytargetcategory='SURFACE'}}})a.legendary_bastion=b(a['legbastion'],{name='Legendary Bastion',description='The ultimate defensive emplacement. Projects a devastating, pulsating heatray.',health=22000,metalcost=65760,energycost=1986500,buildtime=180000,footprintx=6,footprintz=6,icontype=\"legbastion\",objectname='scavs/scavbeacon_t4.s3o',script='scavs/scavbeacon.cob',buildpic='scavengers/SCAVBEACON.DDS',damagemodifier=0.20,customparams={i18n_en_humanname='Legendary Bastion',i18n_en_tooltip='Projects a devastating, pulsating purple heatray.',maxrange=1450,techlevel=4},weapondefs={legendary_bastion_ray={areaofeffect=24,collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,beamtime=0.3,camerashake=0,corethickness=0.3,craterareaofeffect=120,craterboost=0,cratermult=0,edgeeffectiveness=0.45,energypershot=3000,explosiongenerator=\"custom:laserhit-medium-purple\",firestarter=90,firetolerance=300,impulsefactor=0,laserflaresize=2,name=\"Legendary Heat Ray\",noselfdamage=true,predictboost=0.3,proximitypriority=1,range=1450,reloadtime=0.3,rgbcolor=\"1.0 0.2 1.0\",rgbcolor2=\"0.9 1.0 0.5\",soundhitdry=\"\",soundhitwet=\"sizzle\",soundstart=\"banthie2\",soundstartvolume=25,soundtrigger=1,thickness=5.5,turret=true,weapontype=\"BeamLaser\",weaponvelocity=1500,allowNonBlockingAim=true,damage={default=2500,vtol=15}}},weapons={[1]={badtargetcategory='VTOL GROUNDSCOUT',def='legendary_bastion_ray',onlytargetcategory='SURFACE'}}})a[d]=b(a['cordoomt3'],{name='Legendary Bulwark',description='A pinnacle of defensive technology, the Legendary Bulwark annihilates all who approach.',buildtime=250000,health=42000,metalcost=61650,energycost=1712500,damagemodifier=0.15,energystorage=5000,radardistance=1400,sightdistance=1100,icontype=\"cordoomt3\",customparams={i18n_en_humanname='Legendary Bulwark',i18n_en_tooltip='The ultimate defensive structure.',paralyzemultiplier=0.2,techlevel=4},weapondefs={legendary_overload_scatter={collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,name='Overload Scatter Beamer',weapontype='BeamLaser',range=1000,reloadtime=0.1,sprayangle=2000,projectiles=12,rgbcolor='0.8 0.1 1.0',accuracy=50,areaofeffect=8,beamdecay=0.05,beamtime=0.1,beamttl=1,corethickness=0.05,burnblow=true,cylindertargeting=1,edgeeffectiveness=0.15,explosiongenerator='custom:laserhit-medium-purple',firestarter=100,impulsefactor=0.123,intensity=0.3,laserflaresize=11.35,noselfdamage=true,soundhitwet='sizzle',soundstart='beamershot2',tolerance=5000,thickness=2,turret=true,weaponvelocity=1000,damage={default=600}},legendary_heat_ray={collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,name='Armageddon Heat Ray',weapontype='BeamLaser',range=1300,reloadtime=4.0,areaofeffect=72,beamtime=0.6,cameraShake=350,corethickness=0.40,craterareaofeffect=72,energypershot=1200,explosiongenerator='custom:genericshellexplosion-medium-beam',impulsefactor=0,largebeamlaser=true,laserflaresize=8.8,noselfdamage=true,rgbcolor='0.9 1.0 0.5',rgbcolor2='0.8 0 0',scrollspeed=5,soundhitdry='',soundhitwet='sizzle',soundstart='heatray2xl',soundtrigger=1,thickness=7,tolerance=10000,turret=true,weaponvelocity=1800,damage={default=9000,commanders=1350}},legendary_point_defense={collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,name='Point Defense Laser',weapontype='BeamLaser',range=750,reloadtime=0.5,areaofeffect=12,beamtime=0.3,corethickness=0.32,energypershot=500,explosiongenerator='custom:laserhit-large-blue',firestarter=90,impactonly=1,impulsefactor=0,largebeamlaser=true,laserflaresize=8.8,noselfdamage=true,proximitypriority=0,rgbcolor='0 0 1',soundhitdry='',soundhitwet='sizzle',soundstart='annigun1',soundtrigger=1,texture3='largebeam',thickness=5.5,tilelength=150,tolerance=10000,turret=true,weaponvelocity=1500,damage={default=450,commanders=999}}},weapons={[1]={def='legendary_overload_scatter',onlytargetcategory='SURFACE'},[2]={def='legendary_heat_ray',onlytargetcategory='SURFACE'},[3]={def='legendary_point_defense',onlytargetcategory='SURFACE'}}})local f={'armaca','armack','armacsub','armacv','coraca','corack','coracsub','coracv','legaca','legack','legacv','legcomt2com'}for g,h in pairs{'arm','cor','leg'}do for i=3,10 do table.insert(f,h..'comlvl'..i)end;table.insert(f,h..'t3airaide')end;for g,j in pairs(f)do if a[j]then local h=string.sub(j,1,3)table.insert(a[j].buildoptions,h=='arm'and c or h=='cor'and d or e)end end",h="--Mini Bosses v2g\n-- Authors: RCore\n-- bar-nuttyb-collective.github.io/configurator\nlocal a,b,c,d,e,f=UnitDefs or{},table.merge,table.copy,'raptor_matriarch_basic','customfusionexplo',Spring;local g,h=1.3,1.3;h=a[d].health/60000;g=a['raptor_queen_epic'].health/1250000;local i=1;local j=f.Utilities.Gametype.IsRaptors()if j or f.Utilities.Gametype.IsScavengers()then i=(#f.GetTeamList()-2)/12 end;local k=f.GetModOptions().raptor_spawncountmult or 3;local i=i*(k/3)local function k(a)return math.max(1,math.ceil(a*i))end;local i={70,85,90,105,110,125}local l=math.max(1,f.GetModOptions().raptor_queentimemult or 1.3)local m,n=i[1],i[#i]local o=l*i[#i]/1.3;local n=(o-m)/(n-m)for a=2,#i do i[a]=math.floor(m+(i[a]-m)*n)end;local f=f.GetModOptions().raptor_queen_count or 1;local m=1;m=math.min(10,g/1.3*0.9)local g=20;local n=10*(1.06^math.max(0,math.min(f,g)-8))local g=math.max(0,f-g)local g=(g<=80)and(0.6*g-g*g/270)or(24.3+(g-80)*0.15)local g=n+g;local g=math.ceil(m*g)local g=l*100+g;local f=math.max(3,k(math.floor((21*f+36)/19)))local function l(c,d,e)if a[c]and not a[d]then a[d]=b(a[c],e or{})end end;local d=a[d].health;l('raptor_queen_veryeasy','raptor_miniq_a',{name='Queenling Prima',icontype='raptor_queen_veryeasy',health=d*5,customparams={i18n_en_humanname='Queenling Prima',i18n_en_tooltip='Majestic and bold, ruler of the hunt.'}})l('raptor_queen_easy','raptor_miniq_b',{name='Queenling Secunda',icontype='raptor_queen_easy',health=d*6,customparams={i18n_en_humanname='Queenling Secunda',i18n_en_tooltip='Swift and sharp, a noble among raptors.'}})l('raptor_queen_normal','raptor_miniq_c',{name='Queenling Tertia',icontype='raptor_queen_normal',health=d*7,customparams={i18n_en_humanname='Queenling Tertia',i18n_en_tooltip='Refined tastes. Likes her prey rare.'}})a.raptor_miniq_b.weapondefs.acidgoo=c(a['raptor_matriarch_acid'].weapondefs.acidgoo)a.raptor_miniq_c.weapondefs.empgoo=c(a['raptor_matriarch_electric'].weapondefs.goo)for a,a in ipairs{{'raptor_matriarch_basic','raptor_mama_ba','Matrona','Claws charged with vengeance.'},{'raptor_matriarch_fire','raptor_mama_fi','Pyro Matrona','A firestorm of maternal wrath.'},{'raptor_matriarch_electric','raptor_mama_el','Paralyzing Matrona','Crackling with rage, ready to strike.'},{'raptor_matriarch_acid','raptor_mama_ac','Acid Matrona','Acid-fueled, melting everything in sight.'}}do l(a[1],a[2],{name=a[3],icontype=a[1],health=d*1.5,customparams={i18n_en_humanname=a[3],i18n_en_tooltip=a[4]}})end;l('critter_penguinking','raptor_consort',{name='Raptor Consort',icontype='corkorg',health=d*4,mass=100000,nochasecategory=\"MOBILE VTOL OBJECT\",sonarstealth=false,stealth=false,speed=67.5,customparams={i18n_en_humanname='Raptor Consort',i18n_en_tooltip='Sneaky powerful little terror.'}})a.raptor_consort.weapondefs.goo=c(a['raptor_queen_epic'].weapondefs.goo)l('raptor_consort','raptor_doombringer',{name='Doombringer',icontype='armafust3',health=d*12,speed=50,customparams={i18n_en_humanname='Doombringer',i18n_en_tooltip='Your time is up. The Queens called for backup.'}})local function c(a,b,c,d,e,f)local g=j and'raptor'or'scav'return{[g..'customsquad']=true,[g..'squadunitsamount']=e or 1,[g..'squadminanger']=a,[g..'squadmaxanger']=b,[g..'squadweight']=f or 5,[g..'squadrarity']=d or'basic',[g..'squadbehavior']=c,[g..'squadbehaviordistance']=500,[g..'squadbehaviorchance']=0.75}end;local d={selfdestructas=e,explodeas=e,weapondefs={yellow_missile={damage={default=1,vtol=1000}}}}for b,c in pairs{raptor_miniq_a=b(d,{maxthisunit=k(2),customparams=c(i[1],i[2],'berserk'),weapondefs={goo={damage={default=750}},melee={damage={default=4000}}}}),raptor_miniq_b=b(d,{maxthisunit=k(3),customparams=c(i[3],i[4],'berserk'),weapondefs={acidgoo={burst=8,reloadtime=10,sprayangle=4096,damage={default=1500,shields=1500}},melee={damage={default=5000}}},weapons={[1]={def=\"MELEE\",maindir=\"0 0 1\",maxangledif=155},[2]={onlytargetcategory=\"VTOL\",def=\"yellow_missile\"},[3]={onlytargetcategory=\"VTOL\",def=\"yellow_missile\"},[4]={onlytargetcategory=\"VTOL\",def=\"yellow_missile\"},[5]={def=\"acidgoo\",maindir=\"0 0 1\",maxangledif=180}}}),raptor_miniq_c=b(d,{maxthisunit=k(4),customparams=c(i[5],i[6],'berserk'),weapondefs={empgoo={burst=10,reloadtime=10,sprayangle=4096,damage={default=2000,shields=2000}},melee={damage={default=6000}}},weapons={[1]={def=\"MELEE\",maindir=\"0 0 1\",maxangledif=155},[2]={onlytargetcategory=\"VTOL\",def=\"yellow_missile\"},[3]={onlytargetcategory=\"VTOL\",def=\"yellow_missile\"},[4]={onlytargetcategory=\"VTOL\",def=\"yellow_missile\"},[5]={def=\"empgoo\",maindir=\"0 0 1\",maxangledif=180}}}),raptor_consort={explodeas='raptor_empdeath_big',maxthisunit=k(6),customparams=c(i[2],1000,'berserk'),weapondefs={eyelaser={name='Angry Eyes',reloadtime=3,rgbcolor='1 0 0.3',range=500,damage={default=6000,commanders=6000}},goo={name='Snowball Barrage',soundstart='penbray2',soundStartVolume=2,cegtag=\"blob_trail_blue\",burst=8,sprayangle=2048,weaponvelocity=600,reloadtime=4,range=1000,hightrajectory=1,rgbcolor=\"0.7 0.85 1.0\",damage={default=1000}}},weapons={[1]={def=\"eyelaser\",badtargetcategory=\"VTOL OBJECT\"},[2]={def='goo',maindir='0 0 1',maxangledif=180,badtargetcategory=\"VTOL OBJECT\"}}},raptor_doombringer={explodeas=\"ScavComBossExplo\",maxthisunit=f,customparams=c(g,1000,'berserk',nil,1,99),weapondefs={eyelaser={name='Eyes of Doom',reloadtime=3,rgbcolor='0.3 1 0',range=500,damage={default=48000,commanders=24000}},goo={name='Amber Hailstorm',soundstart='penbray1',soundStartVolume=2,cegtag=\"blob_trail_red\",burst=15,sprayangle=3072,weaponvelocity=600,reloadtime=5,rgbcolor=\"0.7 0.85 1.0\",hightrajectory=1,damage={default=5000}}},weapons={[1]={def=\"eyelaser\",badtargetcategory=\"VTOL OBJECT\"},[2]={def='goo',maindir='0 0 1',maxangledif=180,badtargetcategory=\"VTOL OBJECT\"}}},raptor_mama_ba={maxthisunit=k(4),customparams=c(55,i[3]-1,'berserk'),weapondefs={goo={damage={default=750}},melee={damage={default=750}}}},raptor_mama_fi={explodeas='raptor_empdeath_big',maxthisunit=k(4),customparams=c(55,i[3]-1,'berserk'),weapondefs={flamethrowerspike={damage={default=80}},flamethrowermain={damage={default=160}}}},raptor_mama_el={maxthisunit=k(4),customparams=c(65,1000,'berserk')},raptor_mama_ac={maxthisunit=k(4),customparams=c(60,1000,'berserk'),weapondefs={melee={damage={default=750}}}},raptor_land_assault_basic_t4_v2={maxthisunit=k(8),customparams=c(33,50,'raider')},raptor_land_assault_basic_t4_v1={maxthisunit=k(12),customparams=c(51,64,'raider','basic',2)}}do a[b]=a[b]or{}table.mergeInPlace(a[b],c,true)end;local a={raptor_mama_ba=36000,raptor_mama_fi=36000,raptor_mama_el=36000,raptor_mama_ac=36000,raptor_consort=45000,raptor_doombringer=90000}local b=UnitDef_Post;function UnitDef_Post(c,d)if b then b(c,d)end;local b=1;if h>1.3 then b=h/1.3 end;for a,c in pairs(a)do if UnitDefs[a]then local b=math.floor(c*b)UnitDefs[a].metalcost=b end end end",b="--Cross Faction Tax 70%\n-- Authors: TetrisCo\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko\nlocal a,b,c,d,e,f,g=UnitDefs or{},1.7,{},{},Json.decode(VFS.LoadFile('language/en/units.json')),'_taxed',' (Taxed)'for h,i in pairs(a)do if i.customparams and i.customparams.subfolder and(i.customparams.subfolder:match'Fact'or i.customparams.subfolder:match'Lab')and i.customparams.techlevel==2 then local j=e and e.units.names[h]or h;c[h]=1;d[h..f]=table.merge(i,{energycost=i.energycost*b,icontype=h,metalcost=i.metalcost*b,name=j..g,customparams={i18n_en_humanname=j..g,i18n_en_tooltip=e and e.units.descriptions[h]or h}})end end;for k,l in pairs(a)do if l.buildoptions then for m,n in pairs(l.buildoptions)do if c[n]then for m,o in pairs{'arm','cor','leg'}do local p=o..n:sub(4)..f;if n:sub(1,3)~=o and d[p]then a[k].buildoptions[#a[k].buildoptions+1]=p end end end end end end;table.mergeInPlace(a,d)",y="--T3 Eco builtin v6\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko\nlocal a,b=UnitDefs or{},{'armack','armaca','armacv','corack','coraca','coracv','legack','legaca','legacv'}for c,d in pairs({'armmmkrt3','cormmkrt3','legadveconvt3'})do table.mergeInPlace(a[d],{footprintx=6,footprintz=6})end;for c,e in pairs(b)do local f,g=e:sub(1,3),#a[e].buildoptions;a[e].buildoptions[g+1]=f..'afust3'a[e].buildoptions[g+2]=f=='leg'and'legadveconvt3'or f..'mmkrt3'end;do local e='legck'local g=#a[e].buildoptions;a[e].buildoptions[g+1]='legdtf'end;for c,h in pairs({'coruwadves','legadvestore'})do table.mergeInPlace(a[h],{footprintx=4,footprintz=4})end",v="--T3 Cons & Taxed Factories\n-- Authors: Nervensaege, TetrisCo\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko\nlocal a,b,c,d,e,f,g=UnitDefs or{},{'arm','cor','leg'},table.merge,{arm='Armada ',cor='Cortex ',leg='Legion '},'_taxed',1.5,table.contains;local function h(i,j,k)if a[i]and not a[j]then a[j]=c(a[i],k)end end;for l,m in pairs(b)do local n,o,p=m=='arm',m=='cor',m=='leg'h(m..'nanotct2',m..'nanotct3',{metalcost=3700,energycost=62000,builddistance=550,buildtime=108000,collisionvolumescales='61 128 61',footprintx=6,footprintz=6,health=8800,mass=37200,sightdistance=575,workertime=1900,icontype=\"armnanotct2\",canrepeat=true,objectname=p and'Units/legnanotcbase.s3o'or o and'Units/CORRESPAWN.s3o'or'Units/ARMRESPAWN.s3o',customparams={i18n_en_humanname='T3 Construction Turret',i18n_en_tooltip='More BUILDPOWER! For the connoisseur'}})h(p and'legamstor'or m..'uwadvms',p and'legamstort3'or m..'uwadvmst3',{metalstorage=30000,metalcost=4200,energycost=231150,buildtime=142800,health=53560,maxthisunit=3,icontype=\"armuwadves\",name=d[m]..'T3 Metal Storage',customparams={i18n_en_humanname='T3 Hardened Metal Storage',i18n_en_tooltip='The big metal storage tank for your most precious resources. Chopped chicken!'}})h(p and'legadvestore'or m..'uwadves',p and'legadvestoret3'or m..'advestoret3',{energystorage=272000,metalcost=2100,energycost=59000,buildtime=93380,health=49140,icontype=\"armuwadves\",maxthisunit=3,name=d[m]..'T3 Energy Storage',customparams={i18n_en_humanname='T3 Hardened Energy Storage',i18n_en_tooltip='Power! Power! We need power!1!'}})for l,q in pairs({m..'nanotc',m..'nanotct2'})do if a[q]then a[q].canrepeat=true end end;local r=n and'armshltx'or o and'corgant'or'leggant'local s=a[r]h(r,r..e,{energycost=s.energycost*f,icontype=r,metalcost=s.metalcost*f,name=d[m]..'Experimental Gantry Taxed',customparams={i18n_en_humanname=d[m]..'Experimental Gantry Taxed',i18n_en_tooltip='Produces Experimental Units'}})local t,u={},{m..'afust3',m..'nanotct2',m..'nanotct3',m..'alab',m..'avp',m..'aap',m..'gatet3',m..'flak',p and'legadveconvt3'or m..'mmkrt3',p and'legamstort3'or m..'uwadvmst3',p and'legadvestoret3'or m..'advestoret3',p and'legdeflector'or m..'gate',p and'legforti'or m..'fort',n and'armshltx'or m..'gant'}for l,v in ipairs(u)do t[#t+1]=v end;local w={arm={'corgant','leggant'},cor={'armshltx','leggant'},leg={'armshltx','corgant'}}for l,x in ipairs(w[m]or{})do t[#t+1]=x..e end;local y={arm={'armamd','armmercury','armbrtha','armminivulc','armvulc','armanni','armannit3','armlwall','legendary_pulsar'},cor={'corfmd','corscreamer','cordoomt3','corbuzz','corminibuzz','corint','cordoom','corhllllt','cormwall','legendary_bulwark'},leg={'legabm','legstarfall','legministarfall','leglraa','legbastion','legrwall','leglrpc','legendary_bastion','legapopupdef','legdtf'}}for l,v in ipairs(y[m]or{})do t[#t+1]=v end;local j=m..'t3aide'h(m..'decom',j,{blocking=true,builddistance=350,buildtime=140000,energycost=200000,energyupkeep=2000,health=10000,idleautoheal=5,idletime=1800,maxthisunit=1,metalcost=12600,speed=85,terraformspeed=3000,turninplaceanglelimit=1.890,turnrate=1240,workertime=6000,reclaimable=true,candgun=false,name=d[m]..'Epic Aide',customparams={subfolder='ArmBots/T3',techlevel=3,unitgroup='buildert3',i18n_en_humanname='Epic Ground Construction Aide',i18n_en_tooltip='Your Aide that helps you construct buildings'},buildoptions=t})a[j].weapondefs={}a[j].weapons={}j=m..'t3airaide'h('armfify',j,{blocking=false,canassist=true,cruisealtitude=3000,builddistance=1750,buildtime=140000,energycost=200000,energyupkeep=2000,health=1100,idleautoheal=5,idletime=1800,icontype=\"armnanotct2\",maxthisunit=1,metalcost=13400,speed=25,category=\"OBJECT\",terraformspeed=3000,turninplaceanglelimit=1.890,turnrate=1240,workertime=1600,buildpic='ARMFIFY.DDS',name=d[m]..'Epic Aide',customparams={is_builder=true,subfolder='ArmBots/T3',techlevel=3,unitgroup='buildert3',i18n_en_humanname='Epic Air Construction Aide',i18n_en_tooltip='Your Aide that helps you construct buildings'},buildoptions=t})a[j].weapondefs={}a[j].weapons={}local z=n and'armshltx'or o and'corgant'or'leggant'if a[z]and a[z].buildoptions then local A=m..'t3aide'if not g(a[z].buildoptions,A)then table.insert(a[z].buildoptions,A)end end;z=m..'apt3'if a[z]and a[z].buildoptions then local B=m..'t3airaide'if not g(a[z].buildoptions,B)then table.insert(a[z].buildoptions,B)end end end",_="--Meatballlunch Reloaded\nlocal UnitDefs,a=UnitDefs or{},'armbotrail'local b={armmeatball={customparams={i18n_en_humanname='Meatball Launcher'},weapondefs={arm_botrail={range=7550,metalpershot=5300,energypershot=96000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='armmeatball'}}}},armassimilator={customparams={i18n_en_humanname='Assimilator Launcher'},weapondefs={arm_botrail={range=7550,metalpershot=4500,energypershot=80000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='armassimilator'}}}},armpwt4={customparams={i18n_en_humanname='Epic Pawn Launcher'},weapondefs={arm_botrail={range=7550,metalpershot=14200,energypershot=480000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='armpwt4'}}}},legeshotgunmech={customparams={i18n_en_humanname='Pretorian Launcher'},weapondefs={arm_botrail={range=7550,metalpershot=12500,energypershot=384000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='legeshotgunmech'}}}},legjav={customparams={i18n_en_humanname='Javelin Launcher'},weapondefs={arm_botrail={range=7550,metalpershot=2150,energypershot=102400,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='legjav'}}}},armraz={customparams={i18n_en_humanname='Razorback Launcher'},weapondefs={arm_botrail={range=7550,metalpershot=6750,energypershot=283520,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='armraz'}}}},corakt4={customparams={i18n_en_humanname='Epic Grund Launcher'},weapondefs={arm_botrail={range=7550,metalpershot=10700,energypershot=384000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='corakt4'}}}},cordemon={customparams={i18n_en_humanname='Demon Launcher'},weapondefs={arm_botrail={range=7550,metalpershot=10700,energypershot=384000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='cordemon'}}}},armvader={customparams={i18n_en_humanname='Tumbleweed Launcher'},weapondefs={arm_botrail={range=7550,metalpershot=115,energypershot=12500,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='armvader'}}}},armvadert4={customparams={i18n_en_humanname='Epic Tumbleweed Launcher'},weapondefs={arm_botrail={range=7550,metalpershot=26600,energypershot=480000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='armvadert4'}}}},armt1={customparams={i18n_en_humanname='Armada T1 Launcher'},weapondefs={arm_botrail={stockpiletime=0.5,range=7550,metalpershot=250,energypershot=12500,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='armham armjeth armpw armrock armwar armah armanac armmh armsh armart armfav armflash armjanus armpincer armsam armstump armzapper',spawns_mode='random'}}}},armt2={customparams={i18n_en_humanname='Armada T2 Launcher'},weapondefs={arm_botrail={stockpiletime=1,range=7550,metalpershot=970,energypershot=45000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='armaak armamph armfast armfboy armfido armmav armsnipe armsptk armzeus armbull armcroc armgremlin armlatnk armmanni armmart armmerl armyork',spawns_mode='random'}}}},armt3={customparams={i18n_en_humanname='Armada T3 Launcher'},weapondefs={arm_botrail={stockpiletime=2,range=7550,metalpershot=8500,energypershot=180000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='armbanth armlun armmar armprowl armraz armthor armvang armassimilator armlunchbox armsptkt4 armdronecarryland armrattet4',spawns_mode='random'}}}},cort1={customparams={i18n_en_humanname='Cortex T1 Launcher'},weapondefs={arm_botrail={stockpiletime=0.5,range=7550,metalpershot=250,energypershot=12500,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='corak corcrash corstorm corthud corah corhal cormh corsh corsnap corthovr corfav corgarp corgator corlevlr cormist corraid corwolv cortorch',spawns_mode='random'}}}},cort2={customparams={i18n_en_humanname='Cortex T2 Launcher'},weapondefs={arm_botrail={stockpiletime=1,range=7550,metalpershot=970,energypershot=45000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='coraak coramph corcan corfast corhrk cormort corpyro corroach corsktl corsumo cortermite corban corgol cormabm cormart corparrow correap corsala corseal corsent corsiegebreaker cortrem corvrad corvroc corftiger corgatreap',spawns_mode='random'}}}},cort3={customparams={i18n_en_humanname='Cortex T3 Launcher'},weapondefs={arm_botrail={stockpiletime=2,range=7550,metalpershot=8500,energypershot=180000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='corcat cordemon corjugg corkarg corkorg corshiva corakt4 cordeadeye corkarganetht4 corkark corthermite corgolt4',spawns_mode='random'}}}},legt1={customparams={i18n_en_humanname='Legion T1 Launcher'},weapondefs={arm_botrail={stockpiletime=0.5,range=7550,metalpershot=250,energypershot=12500,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='legbal legcen leggob legkark leglob legah legcar legmh legner legsh legamphtank legbar leggat leghades leghelios legrail',spawns_mode='random'}}}},legt2={customparams={i18n_en_humanname='Legion T2 Launcher'},weapondefs={arm_botrail={stockpiletime=1,range=7550,metalpershot=970,energypershot=45000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='legamph legbart legdecom leginc legshot legsnapper legsrail legstr legaheattank legamcluster legaskirmtank legavroc legfloat leginf legmed legmrv legvcarry legvflak',spawns_mode='random'}}}},legt3={customparams={i18n_en_humanname='Legion T3 Launcher'},weapondefs={arm_botrail={stockpiletime=2,range=7550,metalpershot=8500,energypershot=180000,reloadtime=0.5,customparams={stockpilelimit=50,spawns_name='leegmech legbunk legeheatraymech legelrpcmech legerailtank legeshotgunmech legjav legkeres leggobt3 legpede legsrailt4',spawns_mode='random'}}}}}if UnitDefs.cormandot4 then for c,d in pairs(b)do local e=a..'_'..c;if UnitDefs[a]and not UnitDefs[e]then UnitDefs[e]=table.merge(UnitDefs[a],d)table.insert(UnitDefs.cormandot4.buildoptions,e)end end end",w="--NuttyB v1.52 Units Main\n-- Authors: ChrispyNut, BackBash\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko\nreturn{cortron={energycost=42000,metalcost=3600,buildtime=110000,health=12000,weapondefs={cortron_weapon={energypershot=51000,metalpershot=600,range=4050,damage={default=9000}}}},corfort={repairable=true},armfort={repairable=true},legforti={repairable=true},armgate={explodeas='empblast',selfdestructas='empblast'},corgate={explodeas='empblast',selfdestructas='empblast'},legdeflector={explodeas='empblast',selfdestructas='empblast'},corsat={sightdistance=3100,radardistance=4080,cruisealtitude=3300,energyupkeep=1250,category=\"OBJECT\"},armsat={sightdistance=3100,radardistance=4080,cruisealtitude=3300,energyupkeep=1250,category=\"OBJECT\"},legstarfall={weapondefs={starfire={energypershot=270000}}},armflak={airsightdistance=1350,energycost=30000,metalcost=1500,health=4000,weapondefs={armflak_gun={collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,areaofeffect=150,range=1150,reloadtime=0.475,weaponvelocity=2400,intensity=0.18}}},corflak={airsightdistance=1350,energycost=30000,metalcost=1500,health=4000,weapondefs={armflak_gun={collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,areaofeffect=200,range=1350,reloadtime=0.56,weaponvelocity=2100,intensity=0.18}}},legflak={footprintx=4,footprintz=4,airsightdistance=1350,energycost=35000,metalcost=2100,health=6000,weapondefs={legflak_gun={collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,areaofeffect=100,burst=3,range=1050,intensity=0.18}}},armmercury={airsightdistance=2200,weapondefs={arm_advsam={areaofeffect=500,energypershot=2000,explosiongenerator='custom:flak',flighttime=1.5,metalpershot=6,name='Mid-range, rapid-fire g2a guided missile launcher',range=2500,reloadtime=1.2,smoketrail=false,startvelocity=1500,weaponacceleration=1000,weaponvelocity=4000}}},corscreamer={airsightdistance=2800,weapondefs={cor_advsam={areaofeffect=800,energypershot=2000,explosiongenerator='custom:flak',flighttime=1,metalpershot=10,name='Long-range g2a guided heavy flak missile launcher',range=2800,reloadtime=1.8,smoketrail=false,startvelocity=4000,weaponacceleration=1000,weaponvelocity=8000}}},armassistdrone={buildoptions={[31]='armclaw'}},corassistdrone={buildoptions={[32]='cormaw'}},legassistdrone={buildoptions={[31]='legdtf',[32]='legdtl',[33]='legdtr'}},legfortt4={explodeas=\"fusionExplosionSelfd\",selfdestructas=\"fusionExplosionSelfd\"},legfort={explodeas=\"empblast\",selfdestructas=\"empblast\"},raptor_hive={weapondefs={antiground={burst=5,burstrate=0.01,cegtag='arty-heavy-purple',explosiongenerator='custom:dirt',model='Raptors/s_raptor_white.s3o',range=1600,reloadtime=5,rgbcolor='0.5 0 1',soundhit='smallraptorattack',soundstart='bugarty',sprayangle=256,turret=true,stockpiletime=12,proximitypriority=nil,damage={default=1,shields=100},customparams={spawns_count=15,spawns_expire=11,spawns_mode='random',spawns_name='raptor_acidspawnling raptor_hive_swarmer_basic raptor_land_swarmer_basic_t1_v1 ',spawns_surface='LAND SEA',stockpilelimit=10}}}},armapt3={buildoptions={[58]='armsat'}},corapt3={buildoptions={[58]='corsat'}},legapt3={buildoptions={[58]='corsat'}},armlwall={energycost=25000,metalcost=1300,weapondefs={lightning={energypershot=200,range=430}}},armclaw={collisionvolumeoffsets='0 -2 0',collisionvolumescales='30 51 30',collisionvolumetype='Ell',usepiececollisionvolumes=0,weapondefs={dclaw={energypershot=60}}},legdtl={weapondefs={dclaw={energypershot=60}}},armamd={metalcost=1800,energycost=41000,weapondefs={amd_rocket={coverage=2125,stockpiletime=70}}},corfmd={metalcost=1800,energycost=41000,weapondefs={fmd_rocket={coverage=2125,stockpiletime=70}}},legabm={metalcost=1800,energycost=41000,weapondefs={fmd_rocket={coverage=2125,stockpiletime=70}}},corwint2={metalcost=400},legwint2={metalcost=400},legdtr={buildtime=5250,energycost=5500,metalcost=400,collisionvolumeoffsets='0 -10 0',collisionvolumescales='39 88 39',collisionvolumetype='Ell',usepiececollisionvolumes=0,weapondefs={corlevlr_weapon={areaofeffect=30,avoidfriendly=true,collidefriendly=false,cegtag='railgun',range=650,energypershot=75,explosiongenerator='custom:plasmahit-sparkonly',rgbcolor='0.34 0.64 0.94',soundhit='mavgun3',soundhitwet='splshbig',soundstart='lancefire',weaponvelocity=1300,damage={default=550}}}},armrespawn={blocking=false,canresurrect=true},legnanotcbase={blocking=false,canresurrect=true},correspawn={blocking=false,canresurrect=true},legrwall={collisionvolumeoffsets=\"0 -3 0\",collisionvolumescales=\"32 50 32\",collisionvolumetype=\"CylY\",energycost=21000,metalcost=1400,weapondefs={railgunt2={collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,range=725,reloadtime=3,energypershot=200,damage={default=1500}}},weapons={[1]={def=\"railgunt2\",onlytargetcategory=\"SURFACE\"}}},cormwall={energycost=18000,metalcost=1350,weapondefs={exp_heavyrocket={areaofeffect=70,collidefriendly=0,collidefeature=0,cameraShake=0,energypershot=125,avoidfeature=0,avoidfriendly=0,burst=1,burstrate=0,colormap='0.75 0.73 0.67 0.024   0.37 0.4 0.30 0.021   0.22 0.21 0.14 0.018  0.024 0.014 0.009 0.03   0.0 0.0 0.0 0.008',craterareaofeffect=0,explosiongenerator='custom:burnblack',flamegfxtime=1,flighttime=1.05,name='Raptor Boomer',reloadtime=1.5,rgbcolor='1 0.25 0.1',range=700,size=2,proximitypriority=nil,impactonly=1,trajectoryheight=1,targetmoveerror=0.2,tracks=true,weaponacceleration=660,weaponvelocity=950,damage={default=1050}}}},cormaw={collisionvolumeoffsets='0 -2 0',collisionvolumescales='30 51 30',collisionvolumetype='Ell',usepiececollisionvolumes=false,metalcost=350,energycost=2500,weapondefs={dmaw={collidefriendly=0,collidefeature=0,areaofeffect=80,edgeeffectiveness=0.45,energypershot=50,burst=24,rgbcolor='0.051 0.129 0.871',rgbcolor2='0.57 0.624 1',sizegrowth=0.80,range=450,intensity=0.68,damage={default=28}}}},legdtf={collisionvolumeoffsets='0 -24 0',collisionvolumescales='30 51 30',collisionvolumetype='Ell',metalcost=350,energycost=2750,weapondefs={dmaw={collidefriendly=0,collidefeature=0,areaofeffect=80,edgeeffectiveness=0.45,energypershot=50,burst=24,sizegrowth=2,range=450,intensity=0.38,sprayangle=500,damage={default=30}}}},corhllllt={collisionvolumeoffsets='0 -24 0',collisionvolumescales='30 51 30',metalcost=415,energycost=9500,buildtime=10000,health=2115},corhlt={energycost=5500,metalcost=520,weapondefs={cor_laserh1={range=750,reloadtime=0.95,damage={default=395,vtol=35}}}},armhlt={energycost=5700,metalcost=510,weapondefs={arm_laserh1={range=750,reloadtime=1,damage={default=405,vtol=35}}}},armbrtha={explodeas='fusionExplosion',energycost=500000,metalcost=18500,buildtime=175000,turnrate=16000,health=10450,weapondefs={ARMBRTHA_MAIN={areaofeffect=50,collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,beamtime=2.5,corethickness=0.1,craterareaofeffect=90,craterboost=0,cratermult=0,cameraShake=0,edgeeffectiveness=0.30,energypershot=14000,explosiongenerator='custom:laserhit-large-blue',firestarter=90,impulseboost=0,impulsefactor=0,largebeamlaser=true,laserflaresize=1,impactonly=1,name='Experimental Duction Beam',noselfdamage=true,range=2400,reloadtime=13,rgbcolor='0.4 0.2 0.6',scrollspeed=13,soundhitdry=\"\",soundhitwet=\"sizzle\",soundstart=\"hackshotxl3\",soundtrigger=1,targetmoveerror=0.3,texture3='largebeam',thickness=14,tilelength=150,tolerance=10000,turret=true,turnrate=16000,weapontype='LaserCannon',weaponvelocity=3100,damage={commanders=480,default=34000}}},weapons={[1]={badtargetcategory='VTOL GROUNDSCOUT',def='ARMBRTHA_MAIN',onlytargetcategory='SURFACE'}}},corint={explodeas='fusionExplosion',energycost=505000,metalcost=19500,buildtime=170000,health=12450,footprintx=6,footprintz=6,weapondefs={CORINT_MAIN={areaofeffect=70,collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,beamtime=2.5,corethickness=0.1,craterareaofeffect=90,craterboost=0,cratermult=0,cameraShake=0,edgeeffectiveness=0.30,energypershot=17000,explosiongenerator='custom:laserhit-large-blue',firestarter=90,impulseboost=0,impulsefactor=0,largebeamlaser=true,laserflaresize=1,impactonly=1,name='Mini DeathStar',noselfdamage=true,range=2800,reloadtime=15,rgbcolor='0 1 0',scrollspeed=13,soundhitdry='',soundhitwet='sizzle',soundstart='annigun1',soundtrigger=1,targetmoveerror=0.3,texture3='largebeam',thickness=14,tilelength=150,tolerance=10000,turret=true,turnrate=1600,weapontype='LaserCannon',weaponvelocity=3100,damage={commanders=480,default=50000}}},weapons={[1]={badtargetcategory='VTOL GROUNDSCOUT',def='CORINT_MAIN',onlytargetcategory='SURFACE'}}},leglrpc={explodeas='fusionExplosion',energycost=555000,metalcost=21000,buildtime=150000,health=11000,footprintx=6,footprintz=6,weapondefs={LEGLRPC_MAIN={areaofeffect=70,collidefriendly=0,collidefeature=0,avoidfeature=0,avoidfriendly=0,beamtime=0.5,burst=3,burstrate=0.4,corethickness=0.1,craterareaofeffect=90,craterboost=0,cratermult=0,cameraShake=0,edgeeffectiveness=0.30,energypershot=10000,explosiongenerator='custom:laserhit-large-red',firestarter=90,impactonly=1,impulseboost=0,impulsefactor=0,largebeamlaser=true,laserflaresize=1,name='The Eagle Standard',noselfdamage=true,range=2150,reloadtime=3,rgbcolor='0/1/0.4',scrollspeed=13,soundhitdry='',soundhitwet='sizzle',soundstart='lasrcrw1',soundtrigger=1,targetmoveerror=0.3,texture3='largebeam',thickness=12,tilelength=150,tolerance=10000,turret=true,turnrate=16000,weapontype='LaserCannon',weaponvelocity=3100,damage={commanders=480,default=6000}}},weapons={[1]={badtargetcategory='VTOL GROUNDSCOUT',def='LEGLRPC_MAIN',onlytargetcategory='SURFACE'}}}}",k="--NuttyB v1.52c Legion Com\n-- Authors: ChrispyNut, BackBash\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko\nreturn{legcom={footprintx=2,footprintz=2,energymake=50,metalmake=5,health=6000,autoheal=40,buildoptions={'legrezbot','legdtl','legdtf','legdtr','legjam','legwin'},customparams={evolution_target='legcomlvl2',evolution_condition='timer_global',evolution_timer=420},weapondefs={legcomlaser={corethickness=0.25,duration=0.09,name='Light close-quarters g2g/g2a laser',range=360,reloadtime=0.20,rgbcolor='0 2 1',soundhitdry='',soundhitwet='sizzle',soundstart='lasrcrw1',soundtrigger=true,sprayangle=700,thickness=6,texture1='shot',texture2='empty',weapontype='LaserCannon',weaponvelocity=2100,damage={default=250}},shotgun={areaofeffect=60,energypershot=0,avoidfeature=false,craterboost=0,cratermult=0,cameraShake=0,edgeeffectiveness=0.65,explosiongenerator='custom:genericshellexplosion-small',impulseboost=0.2,impulsefactor=0.2,intensity=3,name='6 Gauge Shotgun',noselfdamage=true,predictboost=1,projectiles=6,range=320,reloadtime=2,rgbcolor='1 0.75 0.25',size=2,soundhit='xplomed2xs',soundhitwet='splsmed',soundstart='kroggie2xs',soundstartvolume=12,sprayangle=2000,turret=true,commandfire=true,weapontimer=1,weapontype='Cannon',weaponvelocity=600,stockpile=true,stockpiletime=5,customparams={stockpilelimit=10},damage={default=1800,commanders=0}}},weapons={[3]={def='shotgun',onlytargetcategory='SURFACE'}}},legcomlvl2={footprintx=2,footprintz=2,energymake=150,metalmake=15,speed=57.5,autoheal=100,health=6700,customparams={evolution_condition='timer_global',evolution_timer=1020},buildoptions={'legrezbot','legadvsol','corhllt','leggeo','legnanotc','legjam','legdtf','legmg','legrad','legdtl','legdtr','legrhapsis','legwin'},weapondefs={legcomlaser={accuracy=50,areaofeffect=12,avoidfriendly=false,avoidfeature=false,collidefriendly=false,collidefeature=true,beamtime=0.09,corethickness=0.3,duration=0.09,explosiongenerator='custom:laserhit-small-red',firestarter=70,impactonly=1,impulseboost=0,impulsefactor=0,name='Light close-quarters g2g/g2a laser',noselfdamage=true,range=500,reloadtime=0.2,rgbcolor='0 0.95 0.05',soundhitdry='',soundhitwet='sizzle',soundstart='lasrcrw1',soundtrigger=true,sprayangle=500,targetmoveerror=0.05,thickness=7,tolerance=1000,texture1='shot',texture2='empty',turret=true,weapontype='LaserCannon',weaponvelocity=2200,damage={bombers=180,default=450,fighters=110,subs=5}},shotgun={areaofeffect=65,energypershot=0,avoidfeature=false,craterboost=0,cratermult=0,cameraShake=0,edgeeffectiveness=0.65,explosiongenerator='custom:genericshellexplosion-small',impulseboost=0.2,impulsefactor=0.2,intensity=3,name='12 Gauge Shotgun',noselfdamage=true,predictboost=1,projectiles=7,range=440,reloadtime=2,rgbcolor='1 0.75 0.25',size=2.5,soundhit='xplomed2xs',soundhitwet='splsmed',soundstart='kroggie2xs',soundstartvolume=12,sprayangle=2250,turret=true,commandfire=true,weapontimer=1,weapontype='Cannon',weaponvelocity=600,stockpile=true,stockpiletime=5,customparams={stockpilelimit=15},damage={default=2200,commanders=0}}},weapons={[1]={def='legcomlaser',onlytargetcategory='NOTSUB',fastautoretargeting=true},[3]={def='shotgun',onlytargetcategory='SURFACE'}}},legcomlvl3={footprintx=2,footprintz=2,energymake=1280,metalmake=40,speed=70.5,workertime=700,autoheal=150,health=7500,customparams={evolution_condition='timer_global',evolution_timer=1440},buildoptions={'legdeflector','legfus','legbombard','legadvestore','legmoho','legadveconv','legarad','legajam','legforti','legacluster','legamstor','legflak','legabm','legbastion','legdtr','legdtf','legrezbot','legdtl','leglab','legendary_bastion','legnanotct3','legapopupdef'},weapondefs={legcomlaser={accuracy=50,areaofeffect=12,avoidfriendly=true,avoidfeature=true,collidefriendly=false,collidefeature=true,beamtime=0.09,corethickness=0.55,duration=0.09,explosiongenerator='custom:laserhit-small-red',firestarter=70,impactonly=0,impulseboost=0,impulsefactor=0,name='Light close-quarters g2g/g2a laser',noselfdamage=true,range=640,reloadtime=0.2,rgbcolor='0 0.2 0.8',soundhitdry='',soundhitwet='sizzle',soundstart='lasrcrw1',soundtrigger=true,sprayangle=500,targetmoveerror=0.05,thickness=7,tolerance=1000,texture1='shot',texture2='empty',turret=true,weapontype='LaserCannon',weaponvelocity=2500,damage={bombers=180,default=650,fighters=110,subs=5}},shotgun={areaofeffect=90,energypershot=0,avoidfeature=false,craterboost=0,cratermult=0,cameraShake=0,edgeeffectiveness=0.65,explosiongenerator='custom:genericshellexplosion-small',impulseboost=0.2,impulsefactor=0.2,intensity=3,name='12 Gauge Shotgun',noselfdamage=true,predictboost=1,projectiles=7,range=540,reloadtime=2,rgbcolor='1 0.75 0.25',size=2.5,soundhit='xplomed2xs',soundhitwet='splsmed',soundstart='kroggie2xs',soundstartvolume=12,sprayangle=2500,turret=true,commandfire=true,weapontimer=1,weapontype='Cannon',weaponvelocity=600,stockpile=true,stockpiletime=5,customparams={stockpilelimit=20},damage={default=3200,commanders=0}}},weapons={[1]={def='legcomlaser',onlytargetcategory='NOTSUB',fastautoretargeting=true},[3]={def='shotgun',onlytargetcategory='SURFACE'},[5]={def=''}}},legcomlvl4={footprintx=2,footprintz=2,energymake=1980,metalmake=46,speed=88.5,workertime=1000,autoheal=180,health=24500,customparams={evolution_condition='timer_global',evolution_timer=1740},buildoptions={'legdeflector','legfus','legbombard','legadvestore','legmoho','legadveconv','legeshotgunmech','legarad','legajam','legkeres','legacluster','legamstor','legflak','legabm','legbastion','legendary_bastion','legnanotct2','legnanotct2plat','legrwall','leglab','legtarg','legsd','legpede','legerailtank','legeheatraymech','legrezbot','legafus','leglraa','legdtl','legdtf','legministarfall','legstarfall','leggatet3','legperdition','legsilo','legsrailt4','legelrpcmech','legdtr','legnanotct3','legapopupdef'},weapondefs={legcomlaser={accuracy=50,areaofeffect=12,avoidfriendly=true,avoidfeature=true,collidefriendly=false,collidefeature=true,beamtime=0.1,corethickness=.5,duration=0.09,explosiongenerator='custom:laserhit-small-red',firestarter=70,impactonly=0,impulseboost=0,impulsefactor=0,name='Light close-quarters g2g/g2a laser',noselfdamage=true,range=900,reloadtime=0.1,rgbcolor='0.45 0 1',soundhitdry='',soundhitwet='sizzle',soundstart='lasrcrw1',soundtrigger=1,sprayangle=400,targetmoveerror=0.05,thickness=6,tolerance=1000,texture1='shot',texture2='empty',turret=true,weapontype='LaserCannon',weaponvelocity=3000,damage={bombers=180,default=1750,fighters=110,subs=5}},shotgun={areaofeffect=75,energypershot=0,avoidfeature=false,craterboost=0,cratermult=0,cameraShake=0,edgeeffectiveness=0.65,explosiongenerator='custom:genericshellexplosion-small',impulseboost=0.2,impulsefactor=0.2,intensity=3,name='60 Gauge Raptor Popper',noselfdamage=true,predictboost=1,projectiles=9,range=550,reloadtime=1,rgbcolor='1 0.75 0.25',size=5,soundhit='xplomed2xs',soundhitwet='splsmed',soundstart='kroggie2xs',soundstartvolume=12,sprayangle=3000,turret=true,commandfire=true,weapontimer=1,weapontype='Cannon',weaponvelocity=600,stockpile=true,stockpiletime=4,customparams={stockpilelimit=20},damage={default=4400,commanders=0}}},weapons={[1]={def='legcomlaser',onlytargetcategory='NOTSUB',fastautoretargeting=true},[3]={def='shotgun',onlytargetcategory='SURFACE'},[5]={def=''}}},legcomlvl5={footprintx=2,footprintz=2,energymake=2280,metalmake=64,speed=100,workertime=1700,autoheal=4500,health=53900,buildoptions={'legdeflector','legfus','legbombard','legadvestore','legmoho','legadveconv','legeshotgunmech','legarad','legajam','legkeres','legacluster','legamstor','legflak','legabm','legbastion','legendary_bastion','legnanotct2','legnanotct2plat','legrwall','leglab','legtarg','legsd','legpede','legerailtank','legeheatraymech','legrezbot','legafus','leglraa','legdtl','legdtf','legministarfall','legstarfall','leggatet3','legperdition','legsilo','legsrailt4','legelrpcmech','legdtr','legnanotct3','legapopupdef'},weapondefs={machinegun={accuracy=80,areaofeffect=10,avoidfeature=false,beamburst=true,beamdecay=1,beamtime=0.07,burst=6,burstrate=0.10667,camerashake=0,corethickness=0.35,craterareaofeffect=0,craterboost=0,cratermult=0,edgeeffectiveness=1,explosiongenerator=\"custom:laserhit-medium-red\",firestarter=10,impulsefactor=0,largebeamlaser=true,laserflaresize=30,name=\"Rapid-fire close quarters g2g armor-piercing laser\",noselfdamage=true,pulsespeed=q8,range=1100,reloadtime=0.50,rgbcolor=\"0.7 0.3 1.0\",rgbcolor2=\"0.8 0.6 1.0\",soundhitdry=\"\",soundhitwet=\"sizzle\",soundstart=\"lasfirerc\",soundtrigger=1,sprayangle=500,targetborder=0.2,thickness=5.5,tolerance=4500,turret=true,weapontype=\"BeamLaser\",weaponvelocity=920,damage={default=1300,vtol=180}},shotgunarm={areaofeffect=112,commandfire=true,avoidfeature=false,craterboost=0,cratermult=0,cameraShake=0,edgeeffectiveness=0.65,explosiongenerator=\"custom:genericshellexplosion-medium\",impulsefactor=0.8,intensity=0.2,mygravity=1,name=\"GaussCannon\",noselfdamage=true,predictboost=1,projectiles=20,range=650,reloadtime=1,rgbcolor=\"0.8 0.4 1.0\",size=4,sizeDecay=0.044,stages=16,alphaDecay=0.66,soundhit=\"xplomed2xs\",soundhitwet=\"splsmed\",soundstart=\"kroggie2xs\",sprayangle=3500,tolerance=6000,turret=true,waterweapon=true,weapontimer=2,weapontype=\"Cannon\",weaponvelocity=900,stockpile=true,stockpiletime=2,customparams={stockpilelimit=50},damage={default=10000,commanders=0}},exp_heavyrocket={areaofeffect=70,collidefriendly=0,collidefeature=0,cameraShake=0,energypershot=125,avoidfeature=0,avoidfriendly=0,burst=4,burstrate=0.3,cegtag=\"missiletrailsmall-red\",colormap='0.75 0.73 0.67 0.024   0.37 0.4 0.30 0.021   0.22 0.21 0.14 0.018  0.024 0.014 0.009 0.03   0.0 0.0 0.0 0.008',craterboost=0,craterareaofeffect=0,cratermult=0,dance=24,edgeeffectiveness=0.65,explosiongenerator=\"custom:burnblack\",firestarter=70,flighttime=1.05,flamegfxtime=1,impulsefactor=0.123,impactonly=1,model=\"catapultmissile.s3o\",movingaccuracy=600,name=\"Raptor Boomer\",noselfdamage=true,proximitypriority=nil,range=700,reloadtime=1,smoketrail=true,smokePeriod=4,smoketime=16,smokesize=8.5,smokecolor=0.5,size=2,smokeTrailCastShadow=false,soundhit=\"rockhit\",soundhitwet=\"splsmed\",soundstart=\"rapidrocket3\",startvelocity=165,rgbcolor='1 0.25 0.1',texture1=\"null\",texture2=\"smoketrailbar\",trajectoryheight=1,targetmoveerror=0.2,turnrate=5000,tracks=true,turret=true,allowNonBlockingAim=true,weaponacceleration=660,weapontimer=6,weapontype=\"MissileLauncher\",weaponvelocity=950,wobble=2000,damage={default=1300},customparams={exclude_preaim=true,overrange_distance=777,projectile_destruction_method=\"descend\"}}},weapons={[1]={def='machinegun',onlytargetcategory='NOTSUB',fastautoretargeting=true},[3]={def='shotgunarm',onlytargetcategory='WEAPON'},[5]={def='exp_heavyrocket',onlytargetcategory='SURFACE'}}}}",x="--NuttyB v1.52c Armada Com\n-- Authors: ChrispyNut, BackBash\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko\n{armcom={customparams={evolution_target='armcomlvl2',evolution_condition='timer_global',evolution_timer=420},energymake=100,metalmake=10,autoheal=55,health=4500,speed=41,canresurrect=true,buildoptions={'armsolar','armwin','armmstor','armestor','armmex','armmakr','armlab','armvp','armap','armeyes','armrad','armdrag','armllt','armrl','armdl','armtide','armuwms','armuwes','armuwmex','armfmkr','armsy','armfdrag','armtl','armfrt','armfrad','armhp','armfhp','armgeo','armamex','armhp','armbeamer','armjamt','armsy','armrectr','armclaw'},weapondefs={armcomlaser={range=330,rgbcolor='0.7 1 1',soundstart='lasrfir1',damage={default=175}},old_armsnipe_weapon={areaofeffect=32,avoidfeature=true,avoidfriendly=true,collidefeature=true,collidefriendly=false,corethickness=0.75,craterareaofeffect=0,craterboost=0,commandfire=true,cratermult=0,cegtag='railgun',duration=0.12,edgeeffectiveness=0.85,energypershot=400,explosiongenerator='custom:laserhit-large-blue',firestarter=100,impulseboost=0.4,impulsefactor=1,intensity=0.8,name='Long-range g2g armor-piercing rifle',range=550,reloadtime=1,rgbcolor='0 1 1',rgbcolor2='0 1 1',soundhit='sniperhit',soundhitwet='sizzle',soundstart='sniper3',soundtrigger=true,stockpile=true,stockpiletime=7,customparams={stockpilelimit=5},texture1='shot',texture2='empty',thickness=4,tolerance=1000,turret=true,weapontype='LaserCannon',weaponvelocity=3000,damage={commanders=100,default=4900}}},weapons={[3]={def='old_armsnipe_weapon',onlytargetcategory='NOTSUB'}}},armcomlvl2={autoheal=90,builddistance=175,canresurrect=true,energymake=315,health=7000,speed=57.5,metalmake=20,workertime=900,buildoptions={'armsolar','armwin','armmstor','armestor','armmex','armmakr','armlab','armvp','armap','armeyes','armrad','armdrag','armllt','armrl','armdl','armtide','armuwms','armuwes','armuwmex','armfmkr','armsy','armfdrag','armtl','armfrt','armfrad','armhp','armfhp','armadvsol','armgeo','armamex','armnanotcplat','armhp','armnanotc','armclaw','armbeamer','armhlt','armguard','armferret','armcir','armjamt','armjuno','armsy','armrectr'},customparams={evolution_target='armcomlvl3',evolution_condition='timer_global',evolution_timer=1320},weapondefs={armcomlaser={areaofeffect=16,avoidfeature=false,beamtime=0.1,corethickness=0.1,craterareaofeffect=0,craterboost=0,cratermult=0,cylindertargeting=1,edgeeffectiveness=1,explosiongenerator='custom:laserhit-small-red',firestarter=70,impactonly=1,impulseboost=0,impulsefactor=0,laserflaresize=7.7,name='Light close-quarters g2g/g2a laser',noselfdamage=true,range=425,reloadtime=0.7,rgbcolor='0 1 1',soundhitdry='',soundhitwet='sizzle',soundstart='lasrfir1',soundtrigger=1,targetmoveerror=0.05,thickness=4,tolerance=10000,turret=true,weapontype='BeamLaser',weaponvelocity=900,damage={default=950,VTOL=150}},old_armsnipe_weapon={areaofeffect=42,avoidfeature=true,avoidfriendly=true,collidefeature=true,collidefriendly=false,corethickness=0.75,craterareaofeffect=0,craterboost=0,commandfire=true,cratermult=0,cegtag='railgun',duration=0.12,edgeeffectiveness=0.85,energypershot=700,explosiongenerator='custom:laserhit-large-blue',firestarter=100,impulseboost=0.4,impulsefactor=1,intensity=1,name='Long-range g2g armor-piercing rifle',range=700,reloadtime=1,rgbcolor='0.2 0.1 1',rgbcolor2='0.2 0.1 1',soundhit='sniperhit',soundhitwet='sizzle',soundstart='sniper3',soundtrigger=true,stockpile=true,stockpiletime=6,customparams={stockpilelimit=10},texture1='shot',texture2='empty',thickness=4,tolerance=1000,turret=true,weapontype='LaserCannon',weaponvelocity=3000,damage={commanders=10,default=11000}}},weapons={[1]={def='armcomlaser',onlytargetcategory='NOTSUB',fastautoretargeting=true},[3]={def='old_armsnipe_weapon',onlytargetcategory='NOTSUB'}}},armcomlvl3={autoheal=50,builddistance=250,canresurrect=true,energymake=2712,health=10000,speed=71.5,metalmake=62,workertime=1500,buildoptions={'armanni','armpb','armamb','armmoho','armuwmme','armflak','armmercury','armgate','armsd','armfort','armtarg','armarad','armamd','armveil','armuwadvms','armuwadves','armmmkr','armclaw','armjuno','armuwmex','armhp','armsy','armfdrag','armtl','armfrt','armfrad','armhp','armlab','armvp','armap','armsy','armuwmmm','armuwfus','armplat','armfdrag','armfhlt','armfflak','armatl','armkraken','armnanotcplat','armbrtha','armannit3','armlwall','armnanotct2','armafus','armfus','armckfus','armraz','armzeus','armsnipe','armvang','armrectr','armgatet3','legendary_pulsar','armnanotct3'},customparams={evolution_target='armcomlvl4',evolution_condition='timer_global',evolution_timer=1740},weapondefs={old_armsnipe_weapon={areaofeffect=64,avoidfeature=true,avoidfriendly=true,collidefeature=true,collidefriendly=false,corethickness=0.75,craterareaofeffect=0,craterboost=0,commandfire=true,cratermult=0,cegtag='railgun',duration=0.12,edgeeffectiveness=1,energypershot=2000,explosiongenerator='custom:laserhit-large-blue',firestarter=100,impulseboost=0.4,impulsefactor=1,intensity=1.4,name='Long-range g2g armor-piercing rifle',range=1250,reloadtime=.5,rgbcolor='0.4 0.1 0.7',rgbcolor2='0.4 0.1 0.7',soundhit='sniperhit',soundhitwet='sizzle',soundstart='sniper3',soundtrigger=true,stockpile=true,stockpiletime=3,customparams={stockpilelimit=10},texture1='shot',texture2='empty',thickness=6,tolerance=1000,turret=true,weapontype='LaserCannon',weaponvelocity=3000,damage={commanders=10,default=35000}},armcomlaser={areaofeffect=12,avoidfeature=false,beamtime=0.1,corethickness=0.1,craterareaofeffect=0,craterboost=0,cratermult=0,cylindertargeting=1,edgeeffectiveness=1,explosiongenerator='custom:laserhit-small-red',firestarter=70,impactonly=1,impulseboost=0,impulsefactor=0,laserflaresize=7.7,name='Light close-quarters g2g/g2a laser',noselfdamage=true,range=500,reloadtime=0.6,rgbcolor='0.1 0 1',soundhitdry='',soundhitwet='sizzle',soundstart='lasrcrw2',soundtrigger=1,targetmoveerror=0.05,thickness=6,tolerance=10000,turret=true,weapontype='BeamLaser',weaponvelocity=900,damage={default=1450,VTOL=180}}},weapons={[5]={badtargetcategory='MOBILE',def='armcomlaser',onlytargetcategory='NOTSUB',fastautoretargeting=true},[3]={def='old_armsnipe_weapon',onlytargetcategory='NOTSUB'},[4]={def=''},[1]={def=''},[6]={def=''}}},armcomlvl4={autoheal=150,builddistance=300,canresurrect=true,energymake=3112,health=20000,speed=82,metalmake=86,workertime=2000,buildoptions={'armanni','armpb','armamb','armmoho','armuwmme','armflak','armmercury','armgate','armsd','armfort','armtarg','armarad','armamd','armveil','armuwadvms','armuwadves','armmmkr','armclaw','armjuno','armuwmex','armhp','armsy','armfdrag','armtl','armfrt','armfrad','armhp','armlab','armvp','armap','armsy','armuwmmm','armuwfus','armplat','armfdrag','armfhlt','armfflak','armatl','armkraken','armnanotcplat','armbrtha','armannit3','armlwall','armnanotct2','armafus','armfus','armckfus','armraz','armzeus','armsnipe','armvang','armrectr','armgatet3','legendary_pulsar','armnanotct3'},weapondefs={old_armsnipe_weapon={areaofeffect=72,avoidfeature=true,avoidfriendly=true,collidefeature=true,collidefriendly=false,corethickness=0.75,craterareaofeffect=0,craterboost=0,commandfire=true,cratermult=0,cegtag='railgun',duration=0.12,edgeeffectiveness=1,energypershot=2000,explosiongenerator='custom:laserhit-large-blue',firestarter=100,impulseboost=0.4,impulsefactor=1,intensity=1.4,name='Long-range g2g armor-piercing rifle',range=1250,reloadtime=.5,rgbcolor='0.4 0.1 0.7',rgbcolor2='0.4 0.1 0.7',soundhit='sniperhit',soundhitwet='sizzle',soundstart='sniper3',soundtrigger=true,stockpile=true,stockpiletime=2,customparams={stockpilelimit=15},texture1='shot',texture2='empty',thickness=6,tolerance=1000,turret=true,weapontype='LaserCannon',weaponvelocity=3000,damage={commanders=10,default=45000}},ata={areaofeffect=16,avoidfeature=false,beamtime=1.25,collidefriendly=false,corethickness=0.5,craterareaofeffect=0,craterboost=0,cratermult=0,edgeeffectiveness=0.30,energypershot=7000,explosiongenerator='custom:laserhit-large-blue',firestarter=90,impulsefactor=0,largebeamlaser=true,laserflaresize=7,name='Heavy long-range g2g tachyon accelerator beam',noselfdamage=true,range=1100,reloadtime=15,rgbcolor='1 0 1',scrollspeed=5,soundhitdry='',soundhitwet='sizzle',soundstart='annigun1',soundtrigger=1,texture3='largebeam',thickness=10,tilelength=150,tolerance=10000,turret=true,weapontype='BeamLaser',weaponvelocity=3100,damage={commanders=480,default=48000}},armcomlaser={areaofeffect=12,avoidfeature=false,beamtime=0.1,corethickness=0.1,craterareaofeffect=0,craterboost=0,cratermult=0,cylindertargeting=1,edgeeffectiveness=1,explosiongenerator='custom:laserhit-small-red',firestarter=70,impactonly=1,impulseboost=0,impulsefactor=0,laserflaresize=7.7,name='Light close-quarters g2g/g2a laser',noselfdamage=true,range=550,reloadtime=0.5,rgbcolor='0.659 0 1',soundhitdry='',soundhitwet='sizzle',soundstart='lasrcrw2',soundtrigger=1,targetmoveerror=0.05,thickness=6,tolerance=10000,turret=true,weapontype='BeamLaser',weaponvelocity=900,damage={default=1750,VTOL=200}}},weapons={[1]={def='armcomlaser',onlytargetcategory='NOTSUB',fastautoretargeting=true},[3]={def='old_armsnipe_weapon',onlytargetcategory='NOTSUB'},[4]={badtargetcategory='VTOL GROUNDSCOUT',def='ATA',onlytargetcategory='SURFACE'},[5]={def=''},[6]={def=''}}}}",C="--NuttyB v1.52c Cortex Com\n-- Authors: ChrispyNut, BackBash\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko\n{corcom={customparams={evolution_target='corcomlvl2',evolution_condition='timer_global',evolution_timer=420},autoheal=80,speed=45,energymake=75,metalmake=6,health=5500,buildoptions={[28]='corhllt',[29]='cornecro',[30]='corlevlr',[31]='corak',[32]='cormaw'},weapondefs={corcomlaser={range=370,damage={bombers=180,default=260,fighters=110,subs=5}},disintegrator={energypershot=1000,reloadtime=8}}},corcomlvl2={speed=62,health=8500,energymake=255,metalmake=16,autoheal=300,builddistance=200,workertime=600,buildoptions={[1]='corsolar',[2]='coradvsol',[3]='corwin',[4]='corgeo',[5]='cormstor',[6]='corestor',[7]='cormex',[8]='corexp',[9]='cormakr',[10]='corcan',[11]='correap',[12]='corlab',[13]='corvp',[14]='corap',[15]='corhp',[16]='cornanotc',[17]='coreyes',[18]='corrad',[19]='cordrag',[20]='cormaw',[21]='corllt',[22]='corhllt',[23]='corhlt',[24]='corpun',[25]='corrl',[26]='cormadsam',[27]='corerad',[28]='cordl',[29]='corjamt',[30]='corjuno',[31]='corsy',[32]='coruwgeo',[33]='corfasp',[34]='cornerco',[35]='coruwes',[36]='corplat',[37]='corfhp',[38]='coruwms',[39]='corfhlt',[40]='cornanotcplat',[41]='corfmkr',[42]='cortide',[43]='corfrad',[44]='corfrt',[45]='corfdrag',[46]='cortl',[47]='cornecro'},customparams={evolution_target='corcomlvl3',evolution_condition='timer_global',evolution_timer=1320,shield_power=500,shield_radius=100},weapondefs={armcomlaser={areaofeffect=16,avoidfeature=false,beamtime=0.1,corethickness=0.1,craterareaofeffect=0,craterboost=0,cratermult=0,cylindertargeting=1,edgeeffectiveness=1,explosiongenerator='custom:laserhit-small-red',firestarter=70,impactonly=1,impulseboost=0,impulsefactor=0,laserflaresize=7.7,name='Light close-quarters g2g/g2a laser',noselfdamage=true,range=500,reloadtime=0.4,rgbcolor='0.6 0.3 0.8',soundhitdry='',soundhitwet='sizzle',soundstart='lasrfir1',soundtrigger=1,targetmoveerror=0.05,thickness=4,tolerance=10000,turret=true,weapontype='BeamLaser',weaponvelocity=900,damage={bombers=180,default=1500,fighters=110,subs=5}},disintegrator={areaofeffect=36,avoidfeature=false,avoidfriendly=false,avoidground=false,bouncerebound=0,cegtag='dgunprojectile',commandfire=true,craterboost=0,cratermult=0.15,edgeeffectiveness=0.15,energypershot=500,explosiongenerator='custom:expldgun',firestarter=100,firesubmersed=false,groundbounce=true,impulseboost=0,impulsefactor=0,name='Disintegrator',noexplode=true,noselfdamage=true,range=250,reloadtime=6,paralyzer={},soundhit='xplomas2s',soundhitwet='sizzlexs',soundstart='disigun1',soundhitvolume=36,soundstartvolume=96,soundtrigger=true,tolerance=10000,turret=true,waterweapon=true,weapontimer=4.2,weapontype='DGun',weaponvelocity=300,damage={commanders=0,default=20000,raptors=10000}}},weapons={[1]={def='armcomlaser',onlytargetcategory='NOTSUB',fastautoretargeting=true},[3]={def='DISINTEGRATOR',onlytargetcategory='NOTSUB'}}},corcomlvl3={speed=80,health=30000,energymake=2180,metalmake=49,autoheal=1500,workertime=1200,builddistance=250,buildoptions={[1]='corfus',[2]='corafus',[3]='corageo',[4]='corbhmth',[5]='cormoho',[6]='cormexp',[7]='cormmkr',[8]='coruwadves',[9]='coruwadvms',[10]='corarad',[11]='corshroud',[12]='corfort',[13]='corlab',[14]='cortarg',[15]='corsd',[16]='corgate',[17]='cortoast',[18]='corvipe',[19]='cordoom',[20]='corflak',[21]='corscreamer',[22]='corvp',[23]='corfmd',[24]='corap',[25]='corint',[26]='corplat',[27]='corsy',[28]='coruwmme',[29]='coruwmmm',[30]='corenaa',[31]='corfdoom',[32]='coratl',[33]='coruwfus',[34]='corjugg',[35]='corshiva',[36]='corsumo',[37]='corgol',[38]='corkorg',[39]='cornanotc2plat',[40]='cornanotct2',[41]='cornecro',[42]='cordoomt3',[43]='corhllllt',[44]='cormaw',[45]='cormwall',[46]='corgatet3',[47]='legendary_bulwark',[48]='cornanotct3'},customparams={evolution_target='corcomlvl4',evolution_condition='timer_global',evolution_timer=1740},weapondefs={corcomlaser={areaofeffect=12,avoidfeature=false,beamtime=0.1,corethickness=0.1,craterareaofeffect=0,craterboost=0,cratermult=0,cylindertargeting=1,edgeeffectiveness=1,explosiongenerator='custom:laserhit-small-red',firestarter=70,impactonly=1,impulseboost=0,impulsefactor=0,laserflaresize=5.5,name='J7Laser',noselfdamage=true,range=900,reloadtime=0.4,rgbcolor='0.7 0 1',soundhitdry='',soundhitwet='sizzle',soundstart='lasrfir1',soundtrigger=1,targetmoveerror=0.05,thickness=3,tolerance=10000,turret=true,weapontype='BeamLaser',weaponvelocity=900,damage={default=2000,subs=5}},disintegrator={areaofeffect=36,avoidfeature=false,avoidfriendly=false,avoidground=false,bouncerebound=0,cegtag='dgunprojectile',commandfire=true,craterboost=0,cratermult=0.15,edgeeffectiveness=0.15,energypershot=500,explosiongenerator='custom:expldgun',firestarter=100,firesubmersed=false,groundbounce=true,impulseboost=0,impulsefactor=0,name='Disintegrator',noexplode=true,noselfdamage=true,range=250,reloadtime=3,paralyzer={},soundhit='xplomas2s',soundhitwet='sizzlexs',soundstart='disigun1',soundhitvolume=36,soundstartvolume=96,soundtrigger=true,size=4,tolerance=10000,turret=true,waterweapon=true,weapontimer=4.2,weapontype='DGun',weaponvelocity=300,damage={commanders=0,default=20000,scavboss=1000,raptors=10000}}},weapons={[1]={def='CORCOMLASER',onlytargetcategory='NOTSUB',fastautoretargeting=true},[5]={def=''}}},corcomlvl4={speed=80,health=50000,energymake=2380,metalmake=56,autoheal=3550,workertime=1800,builddistance=300,buildoptions={[1]='corfus',[2]='corafus',[3]='corageo',[4]='corbhmth',[5]='cormoho',[6]='cormexp',[7]='cormmkr',[8]='coruwadves',[9]='coruwadvms',[10]='corarad',[11]='corshroud',[12]='corfort',[13]='corlab',[14]='cortarg',[15]='corsd',[16]='corgate',[17]='cortoast',[18]='corvipe',[19]='cordoom',[20]='corflak',[21]='corscreamer',[22]='corvp',[23]='corfmd',[24]='corap',[25]='corint',[26]='corplat',[27]='corsy',[28]='coruwmme',[29]='coruwmmm',[30]='corenaa',[31]='corfdoom',[32]='coratl',[33]='coruwfus',[34]='corjugg',[35]='corshiva',[36]='corsumo',[37]='corgol',[38]='corkorg',[39]='cornanotc2plat',[40]='cornanotct2',[41]='cornecro',[42]='cordoomt3',[43]='corhllllt',[44]='cormaw',[45]='cormwall',[46]='corgatet3',[47]='legendary_bulwark',[48]='cornanotct3'},customparams={shield_power=500,shield_radius=100},weapondefs={CORCOMLASER={areaofeffect=12,avoidfeature=false,beamtime=0.1,corethickness=0.1,craterareaofeffect=0,craterboost=0,cratermult=0,cylindertargeting=1,edgeeffectiveness=1,explosiongenerator='custom:laserhit-small-red',firestarter=70,impactonly=1,impulseboost=0,impulsefactor=0,laserflaresize=5.5,name='J7Laser',noselfdamage=true,range=1000,reloadtime=0.4,rgbcolor='0.7 0 1',soundhitdry='',soundhitwet='sizzle',soundstart='lasrfir1',soundtrigger=1,targetmoveerror=0.05,thickness=3,tolerance=10000,turret=true,weapontype='BeamLaser',weaponvelocity=900,damage={default=2500,subs=5}},disintegratorxl={areaofeffect=105,avoidfeature=false,avoidfriendly=true,avoidground=false,burst=1,burstrate=0,bouncerebound=0,cegtag='gausscannonprojectilexl',craterareaofeffect=0,craterboost=0,cratermult=0,commandfire=true,cameraShake=0,edgeeffectiveness=1,energypershot=0,explosiongenerator='custom:burnblackbiggest',firestarter=100,firesubmersed=false,gravityaffected=true,impulsefactor=0,intensity=4,name='Darkmatter Photon-Disruptor',noexplode=true,noselfdamage=true,range=500,reloadtime=1,rgbcolor='0.7 0.3 1.0',size=5.5,soundhit='xplomas2',soundhitwet='sizzlexs',soundstart='disigun1',soundtrigger=true,tolerance=10000,turret=true,weapontimer=4.2,weapontype='DGun',weaponvelocity=505,damage={commanders=0,default=20000,scavboss=1000,raptors=10000}},corcomeyelaser={allowNonBlockingAim=true,avoidfriendly=true,areaofeffect=6,avoidfeature=false,beamtime=0.033,camerashake=0.1,collidefriendly=false,corethickness=0.35,craterareaofeffect=12,craterboost=0,cratermult=0,edgeeffectiveness=1,energypershot=0,explosiongenerator='custom:laserhit-small-red',firestarter=90,firetolerance=300,impulsefactor=0,laserflaresize=2,name='EyeLaser',noselfdamage=true,proximitypriority=1,range=870,reloadtime=0.033,rgbcolor='0 1 0',rgbcolor2='0.8 0 0',scrollspeed=5,soundhitdry='flamhit1',soundhitwet='sizzle',soundstart='heatray3burn',soundstartvolume=6,soundtrigger=1,thickness=2.5,turret=true,weapontype='BeamLaser',weaponvelocity=1500,damage={default=185}}},weapons={[1]={def='CORCOMLASER',onlytargetcategory='NOTSUB',fastautoretargeting=true},[3]={badtargetcategory='VTOL',def='disintegratorxl',onlytargetcategory='SURFACE'},[6]={def=''},[5]={badtargetcategory='VTOL GROUNDSCOUT',def='corcomeyelaser',onlytargetcategory='SURFACE'}}}}",S='--NuttyB Experimental Wave Challenge\n-- Authors: BackBash\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko\n{raptor_air_scout_basic_t2_v1={customparams={raptorcustomsquad=true,raptorsquadunitsamount=25,raptorsquadminanger=20,raptorsquadmaxanger=26,raptorsquadweight=10,raptorsquadrarity="basic",raptorsquadbehavior="raider",raptorsquadbehaviordistance=500,raptorsquadbehaviorchance=0.75}},raptor_hive_assault_basic={customparams={raptorcustomsquad=true,raptorsquadunitsamount=25,raptorsquadminanger=0,raptorsquadmaxanger=40,raptorsquadweight=1,raptorsquadrarity="basic",raptorsquadbehavior="raider",raptorsquadbehaviordistance=500,raptorsquadbehaviorchance=0.75}},raptor_land_swarmer_basic_t3_v1={customparams={raptorcustomsquad=true,raptorsquadunitsamount=25,raptorsquadminanger=0,raptorsquadmaxanger=40,raptorsquadweight=2,raptorsquadrarity="basic",raptorsquadbehavior="raider",raptorsquadbehaviordistance=500,raptorsquadbehaviorchance=0.75}},raptor_evolved_motort4={customparams={raptorcustomsquad=true,raptorsquadunitsamount=12,raptorsquadminanger=50,raptorsquadmaxanger=300,raptorsquadweight=3,raptorsquadrarity="special",raptorsquadbehavior="artillery",raptorsquadbehaviordistance=2500,raptorsquadbehaviorchance=0.75}},raptor_hive_assault_heavy={customparams={raptorcustomsquad=true,raptorsquadunitsamount=25,raptorsquadminanger=55,raptorsquadmaxanger=70,raptorsquadweight=1,raptorsquadrarity="basic",raptorsquadbehavior="berserk",raptorsquadbehaviordistance=500,raptorsquadbehaviorchance=0.75}},raptor_hive_assault_superheavy={customparams={raptorcustomsquad=true,raptorsquadunitsamount=25,raptorsquadminanger=80,raptorsquadmaxanger=85,raptorsquadweight=1,raptorsquadrarity="basic",raptorsquadbehavior="berserk",raptorsquadbehaviordistance=500,raptorsquadbehaviorchance=0.75}},raptor_air_kamikaze_basic_t2_v1={customparams={raptorcustomsquad=true,raptorsquadunitsamount=55,raptorsquadminanger=100,raptorsquadmaxanger=105,raptorsquadweight=2,raptorsquadrarity="basic",raptorsquadbehavior="berserk",raptorsquadbehaviordistance=500,raptorsquadbehaviorchance=0.75}},raptor_matriarch_fire={customparams={raptorcustomsquad=true,raptorsquadunitsamount=30,raptorsquadminanger=105,raptorsquadmaxanger=135,raptorsquadweight=3,raptorsquadrarity="special",raptorsquadbehavior="berserk",raptorsquadbehaviordistance=500,raptorsquadbehaviorchance=0.75}},raptor_matriarch_basic={customparams={raptorcustomsquad=true,raptorsquadunitsamount=30,raptorsquadminanger=105,raptorsquadmaxanger=135,raptorsquadweight=3,raptorsquadrarity="special",raptorsquadbehavior="berserk",raptorsquadbehaviordistance=500,raptorsquadbehaviorchance=0.75}},raptor_matriarch_acid={customparams={raptorcustomsquad=true,raptorsquadunitsamount=30,raptorsquadminanger=105,raptorsquadmaxanger=135,raptorsquadweight=3,raptorsquadrarity="special",raptorsquadbehavior="berserk",raptorsquadbehaviordistance=500,raptorsquadbehaviorchance=0.75}},raptor_matriarch_electric={customparams={raptorcustomsquad=true,raptorsquadunitsamount=30,raptorsquadminanger=105,raptorsquadmaxanger=135,raptorsquadweight=3,raptorsquadrarity="special",raptorsquadbehavior="berserk",raptorsquadbehaviordistance=500,raptorsquadbehaviorchance=0.75},weapons={[5]={def=""}}},raptor_queen_veryeasy={selfdestructas="customfusionexplo",explodeas="customfusionexplo",maxthisunit=3,customparams={raptorcustomsquad=true,i18n_en_humanname="Queen Degenerative",i18n_en_tooltip="SHES A BIG ONE",raptorsquadunitsamount=2,raptorsquadminanger=70,raptorsquadmaxanger=150,raptorsquadweight=2,raptorsquadrarity="special",raptorsquadbehavior="berserk",raptorsquadbehaviordistance=500,raptorsquadbehaviorchance=0.75},weapondefs={melee={damage={default=5000}},yellow_missile={damage={default=1,vtol=500}},goo={range=500,damage={default=1200}}}},corcomlvl4={weapondefs={disintegratorxl={damage={commanders=0,default=99999,scavboss=1000,raptorqueen=5000}}}}}',E='--NuttyB T4 Air rework\n-- Authors: BackBash\n-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko\n{legfortt4={customparams={i18n_en_humanname=\'Experimental Tyrannus\',i18n_en_tooltip=\'In dedication to our commander Tyrannus\'},weapondefs={machinegun={accuracy=400,areaofeffect=64,avoidfriendly=false,avoidfeature=false,collidefriendly=false,collidefeature=true,beamtime=0.09,corethickness=0.55,duration=0.09,burst=1,burstrate=0.1,explosiongenerator="custom:genericshellexplosion-tiny-aa",energypershot=0,falloffrate=0,firestarter=50,interceptedbyshieldtype=4,intensity=2,name="scav rapid fire plasma gun",range=1000,reloadtime=0.1,weapontype="LaserCannon",rgbcolor="1 0 0",rgbcolor2="1 1 1",soundtrigger=true,soundstart="tgunshipfire",texture1="shot",texture2="explo2",thickness=8.5,tolerance=1000,turret=true,weaponvelocity=1000,damage={default=60}},heatray1={allowNonBlockingAim=true,avoidfriendly=true,areaofeffect=64,avoidfeature=false,beamtime=0.033,camerashake=0.1,collidefriendly=false,corethickness=0.45,craterareaofeffect=12,craterboost=0,cratermult=0,edgeeffectiveness=1,energypershot=0,explosiongenerator="custom:heatray-large",firestarter=90,firetolerance=300,impulsefactor=0,intensity=9,laserflaresize=8,name=\'Experimental Thermal Ordnance Generators\',noselfdamage=true,proximitypriority=-1,range=850,reloadtime=0.033,rgbcolor="1 0.55 0",rgbcolor2="0.9 1.0 0.5",scrollspeed=5,soundhitdry=\'heatray3start\',soundhitwet=\'sizzle\',soundstart=\'heatray3lp\',soundstartvolume=6,soundtrigger=1,thickness=6,turret=true,weapontype=\'BeamLaser\',weaponvelocity=1500,damage={default=150}},ata={areaofeffect=34,avoidfeature=false,beamtime=2,collidefriendly=false,corethickness=0.5,craterareaofeffect=0,craterboost=0,cratermult=0,edgeeffectiveness=0.30,energypershot=7000,explosiongenerator=\'custom:laserhit-large-blue\',firestarter=90,impulsefactor=0,largebeamlaser=true,laserflaresize=7,name=\'Heavy long-range g2g tachyon accelerator beam\',noselfdamage=true,range=1300,reloadtime=15,rgbcolor=\'0 1 1\',scrollspeed=5,soundhitdry=\'\',soundhitwet=\'sizzle\',soundstart=\'raptorlaser\',soundtrigger=1,soundstartvolume=4,texture3=\'largebeam\',thickness=10,tilelength=150,tolerance=10000,turret=true,weapontype=\'BeamLaser\',weaponvelocity=3100,damage={commanders=480,default=48000}}},weapons={[1]={badtargetcategory="NOTLAND",def="heatray1",maindir="-1 0 0",maxangledif=210,onlytargetcategory="SURFACE"},[2]={badtargetcategory="NOTLAND",def="heatray1",maindir="1 0 0",maxangledif=210,onlytargetcategory="SURFACE"},[3]={def="ata",maindir="1 0 0",maxangledif=190,onlytargetcategory="SURFACE"},[4]={def="machinegun",onlytargetcategory="SURFACE"},[5]={def="machinegun",onlytargetcategory="SURFACE"}}}}';function L(a){if("static-script"===a.generator){return e[a.scriptId]||`-- Error: Script ${a.scriptId} not found`}return"lua-table"===a.generator?function(e,a){let t="";return e&&(t+=e+"\n"),t+=B(a),t}(a.description,a.data):`-- Error: Unknown generator ${a.generator}`}function B(e){if(void 0===e)return"nil";if(null===e)return"nil";if("string"==typeof e)return`'${e.replace(/'/g,"\\'")}'`;if("number"==typeof e)return e.toString();if("boolean"==typeof e)return e?"true":"false";if(Array.isArray(e))return 0===e.length?"{}":`{${e.map(e=>B(e)).join(",")}}`;if("object"==typeof e){const a=[],t=Object.keys(e);if(0===t.length)return"{}";for(const r of t){const t=/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(r)?r:`['${r}']`;a.push(`${t}=${B(e[r])}`)}return`{${a.join(",")}}`}return"nil"}var T=function(e,a,t,r){return new(t||(t=Promise))(function(o,s){function n(e){try{i(r.next(e))}catch(e){s(e)}}function l(e){try{i(r.throw(e))}catch(e){s(e)}}function i(e){var a;e.done?o(e.value):(a=e.value,a instanceof t?a:new t(function(e){e(a)})).then(n,l)}i((r=r.apply(e,a||[])).next())})};function z(){return T(this,void 0,void 0,function*(){const e=[];if("function"==typeof t(989).context){const a=t(176),r=a.keys();r.sort((e,a)=>{var t,r;return parseInt((null===(t=e.match(/\/(\d+)-/))||void 0===t?void 0:t[1])||"0")-parseInt((null===(r=a.match(/\/(\d+)-/))||void 0===r?void 0:r[1])||"0")}),r.forEach(t=>{const r=a(t),o=L(r);e.push({label:r.label,variable:r.variable,lua:o})})}else console.error("require.context is not available. Cannot load tweaks.");return function(e){const a={mainTweaks:{label:"NuttyB Main Tweaks",type:"checkbox",commandBlocks:[],default:!0,disabled:!1,column:"left"},evolvingCommanders:{label:"NuttyB Evolving Commanders",type:"checkbox",commandBlocks:[],default:!0,disabled:!1,column:"left"},extraRaptors:{label:"Extras",type:"select",choices:[{label:"None",value:"",shortLabel:""}],column:"left"},otherCheckboxes:{type:"checkboxes",options:[],column:"right"}},t=[];e.forEach(e=>{const r=e.label,o=e.lua,s=`!bset ${e.variable} ${function(e){const a=unescape(encodeURIComponent(e));return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}(o)}`;let n=o.split("\n")[0].trim(),l="Optional",p=!1;if(m.some(e=>s.startsWith(e))){l="Optional/Grouped";let e="Mini Bosses"===r?"[Mini Bosses]":"Experimental Wave Challenge"===r?"[Expo Waves]":"";a.extraRaptors.choices.push({label:r,value:s,shortLabel:e}),s.startsWith("!bset tweakdefs4")&&(a.extraRaptors.defaultValue=s),p=!0}i.some(e=>s.startsWith(e))&&(l="Optional",a.mainTweaks.commandBlocks.push(s),p=!0),c.some(e=>s.startsWith(e))&&(l="Optional",a.evolvingCommanders.commandBlocks.push(s),u.includes(r)&&(a.evolvingCommanders.default=!0),p=!0),d.includes(r)&&(l="Hidden"),t.push({label:r,commandBlock:s,status:l,summary:n}),p||d.includes(r)||a.otherCheckboxes.options.push({label:r,type:"checkbox",commandBlocks:[s],default:u.includes(r),column:"right"})}),a.otherCheckboxes.options.sort((e,a)=>{const t=p.indexOf(e.label),r=p.indexOf(a.label);return(-1===t?1/0:t)-(-1===r?1/0:r)});let r=[];return a.mainTweaks.commandBlocks.length>0&&r.push(a.mainTweaks),a.evolvingCommanders.commandBlocks.length>0&&r.push(a.evolvingCommanders),r.push({label:"Raptor Health",type:"select",isHpGenerator:!0,hpType:"hp",column:"left",slot:"",slotType:"tweakdefs",defaultValue:"1.3",choices:[{label:"Default",value:"",shortLabel:""},{label:"1x HP",value:"1",shortLabel:"1x HP"},{label:"1.3x HP",value:"1.3",shortLabel:"1_3x HP"},{label:"1.5x HP",value:"1.5",shortLabel:"1_5x HP"},{label:"1.7x HP",value:"1.7",shortLabel:"1_7x HP"},{label:"2x HP",value:"2",shortLabel:"2x HP"},{label:"2.5x HP",value:"2.5",shortLabel:"2_5x HP"},{label:"3x HP",value:"3",shortLabel:"3x HP"},{label:"4x HP",value:"4",shortLabel:"4x HP"},{label:"5x HP",value:"5",shortLabel:"5x HP"}]},{label:"Queen Health",type:"select",isHpGenerator:!0,hpType:"qhp",column:"left",slot:1,slotType:"tweakdefs",defaultValue:"1.3",choices:[{label:"Default",value:"",shortLabel:""},{label:"1x QHP",value:"1",shortLabel:"1x QHP"},{label:"1.3x QHP",value:"1.3",shortLabel:"1_3x QHP"},{label:"1.5x QHP",value:"1.5",shortLabel:"1_5x QHP"},{label:"1.7x QHP",value:"1.7",shortLabel:"1_7x QHP"},{label:"2x QHP",value:"2",shortLabel:"2x QHP"},{label:"2.5x QHP",value:"2.5",shortLabel:"2_5x QHP"},{label:"3x QHP",value:"3",shortLabel:"3x QHP"},{label:"4x QHP",value:"4",shortLabel:"4x QHP"},{label:"5x QHP",value:"5",shortLabel:"5x QHP"}]}),a.extraRaptors.choices.length>1&&r.push(a.extraRaptors),r=r.concat(a.otherCheckboxes.options),{rawOptionsData:t,formOptionsConfig:r}}(e)})}function A(){return T(this,void 0,void 0,function*(){try{const e=yield fetch(`links.html?t=${Date.now()}`);return e.ok?yield e.text():""}catch(e){return console.error("Failed to load links content",e),""}})}function q(e){return T(this,void 0,void 0,function*(){try{const a=yield fetch(`${e}?t=${Date.now()}`);if(!a.ok)throw new Error(`Could not load ${e}: ${a.statusText}`);const t=yield a.text(),r={maps:[],modes:[],base:[],scavengers:[]},o=t.split("## CATEGORY:").slice(1);for(const e of o){const a=e.trim().split(/\r?\n/),t=a.shift().trim(),o=a.join("\n").trim();if("base"===t)r.base=o.split(/\r?\n/).filter(e=>""!==e.trim());else if("scavengers"===t)r.scavengers=o.split(/\r?\n/).filter(e=>""!==e.trim());else{const e=o.split("---").filter(e=>""!==e.trim());for(const a of e){const e=a.trim().split(/\r?\n/).filter(e=>""!==e.trim());if(0===e.length)continue;const o=e.shift().trim(),s=e;"maps"===t&&r.maps?r.maps.push({name:o,commands:s}):"modes"===t&&r.modes&&r.modes.push({name:o,commands:s})}}}return r}catch(e){return console.error("Failed to parse game configs:",e),{maps:[],modes:[],base:[],scavengers:[]}}})}let P=[];function O(e){P=e,localStorage.setItem(l,JSON.stringify(P))}function $(){return P}function N(e,a){const t=o(e),r={valid:!0};if(r.valid){const r=unescape(encodeURIComponent(t)),o=btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),s="UnitDefsLoop"===e.scope?"tweakdefs":"tweakunits";a.push({id:Date.now()+Math.floor(1e3*Math.random()),desc:e.name,type:s,tweak:o})}else console.error(`Lua validation failed for tweak ${e.name}: ${r.error} at line ${r.line}`)}function H(e){const a=document.querySelector("#custom-tweaks-table tbody");a.innerHTML="",0!==e.length?e.forEach(e=>{a.insertRow().innerHTML=`<td title="${e.desc}">${e.desc}</td><td title="${e.type}">${e.type}</td><td><div class="command-cell-wrapper"><span class="command-text" title="${e.tweak}">${e.tweak}</span><button class="copy-row-button" data-tweak-code="${e.tweak}">Copy</button></div></td><td><button class="delete-tweak-btn" data-id="${e.id}">Delete</button></td>`}):a.innerHTML='<tr><td colspan="4" style="text-align: center;">No custom tweaks saved</td></tr>'}let U=[],I=[],D={maps:[],modes:[],base:[],scavengers:[]};const R=document.getElementById("lobby-name-display"),M=(document.querySelectorAll(".copy-button"),document.querySelector("#data-table tbody")),j=document.getElementById("custom-tweak-form"),V=document.querySelector("#custom-tweaks-table tbody"),W=document.querySelector("#maps-modes-table tbody"),F=document.querySelectorAll(".tab-button"),G=document.querySelectorAll(".tab-content"),Q=document.getElementById("reset-none-btn"),J=document.getElementById("reset-default-btn"),Z=document.getElementById("options-form-columns");function X(e){const a=document.getElementById("primary-mode-select"),t=document.getElementById("raptor-only-options"),r=document.getElementById("scav-only-options"),o=document.getElementById("scav-hp-select"),l=document.getElementById("boss-hp-select"),i=document.getElementById("maps-select"),c=document.getElementById("modes-select");if(a&&t&&r){const s=a.value;e&&e.target===a&&("Scavengers"===s?(o.value="1.3",l.value="1.3",t.querySelectorAll("select").forEach(e=>e.value="")):(o.value="",l.value="",t.querySelectorAll("select[data-option-type]").forEach(e=>{const a=I.find(a=>a.label===e.dataset.optionType);a&&(e.value=a.defaultValue||"")})));const n="Scavengers"===s;t.style.display=n?"none":"block",r.style.display=n?"block":"none"}!function(){const e=document.getElementById("slot-warning-messages"),a=new Set,t=new Set,r=/!bset\s+(tweakdefs|tweakunits)([1-9])\b/;document.querySelectorAll('#options-form-columns input[type="checkbox"], #options-form-columns select').forEach(e=>{const o=e;if(o.dataset.isCustom)return;if((o.dataset.isHpGenerator||o.dataset.isScavHpGenerator)&&o.value&&o.dataset.slot){const e=parseInt(o.dataset.slot,10);return void(isNaN(e)||("tweakdefs"===o.dataset.slotType?a.add(e):"tweakunits"===o.dataset.slotType&&t.add(e)))}let s=[];"SELECT"===o.tagName&&o.value?s.push(o.value):"checkbox"===o.type&&o.checked&&(s=JSON.parse(o.dataset.commandBlocks||"[]")),s.forEach(e=>{if(!e)return;const o=e.match(r);if(o){const e=parseInt(o[2],10);"tweakdefs"===o[1]?a.add(e):"tweakunits"===o[1]&&t.add(e)}})});const o=document.querySelectorAll('input[data-is-custom="true"]');o.forEach(e=>{const r=e,o=r.nextElementSibling.nextElementSibling,s=r.nextElementSibling,n=JSON.parse(r.dataset.customData);if(s.classList.remove("disabled"),r.checked){const e="tweakdefs"===n.type?a:t;let r=null;for(let a=1;a<=9;a++)if(!e.has(a)){r=a;break}null!==r?(o.textContent=`(${n.type}${r})`,e.add(r)):o.textContent=`(${n.type} - No Slot!)`}else o.textContent=`(${n.type})`});let s=9-a.size,n=9-t.size;o.forEach(e=>{const a=e;if(!a.checked){const e=JSON.parse(a.dataset.customData);let t=!1;"tweakdefs"===e.type&&s<=0&&(t=!0),"tweakunits"===e.type&&n<=0&&(t=!0),a.disabled=t,a.nextElementSibling.classList.toggle("disabled",t)}}),e.innerHTML="";const l=1===Math.max(0,s)?"slot":"slots",i=1===Math.max(0,n)?"slot":"slots",c=document.createElement("p");c.textContent=`${Math.max(0,s)} available tweakdefs ${l} and ${Math.max(0,n)} available tweakunits ${i}`,e.appendChild(c)}();const m=Array.from(document.querySelectorAll('#options-form-columns input[type="checkbox"], #options-form-columns select, #custom-options-form-columns input[type="checkbox"]')).map(e=>{const a=e;return{isCustom:"true"===a.dataset.isCustom,customData:a.dataset.customData?JSON.parse(a.dataset.customData):void 0,isHpGenerator:"true"===a.dataset.isHpGenerator,isScavHpGenerator:"true"===a.dataset.isScavHpGenerator,value:a.value,checked:a.checked,hpType:a.dataset.hpType,slot:a.dataset.slot,slotType:a.dataset.slotType,tagName:a.tagName,id:a.id,dataset:a.dataset,commandBlocks:a.dataset.commandBlocks?JSON.parse(a.dataset.commandBlocks):void 0}}),d=Array.from(document.querySelectorAll("#raptor-only-options select")).map(e=>({value:e.value,optionType:e.dataset.optionType||""})),u=function(e){const{gameConfigs:a,formOptionsConfig:t,mapsSelectValue:r,modesSelectValue:o,primaryModeSelectValue:l,scavHpSelectValue:i,scavHpSelectText:c,bossHpSelectValue:m,bossHpSelectText:d,formElements:u,raptorOptions:p}=e,g=[];if(""!==r){const e=a.maps[parseInt(r)];e&&e.commands&&g.push(...e.commands)}if(""!==o){const e=a.modes[parseInt(o)];e&&e.commands&&g.push(...e.commands)}const f=[],h=[];u.forEach(e=>{if(e.isCustom)e.checked&&e.customData&&h.push(e.customData);else if(e.tweakDefinition&&e.checked)N(e.tweakDefinition,h);else if(e.isHpGenerator||e.isScavHpGenerator){const a=parseFloat(e.value||"0");if(a>0){const t=e.hpType;if("qhp"===t)N(s(a,e.value),h);else if("hp"===t){let t=1,r=.5;switch(a){case 1.3:t=.576923077,r=.5;break;case 1.5:t=.466666667,r=.5;break;case 1.7:t=.411764706,r=.5;break;case 2:t=.35,r=.5;break;case 2.5:t=.3,r=.6;break;case 3:t=.25,r=.55;break;case 4:t=.1875,r=.45;break;case 5:t=.15,r=.25;break;default:t=1,r=.5}const o=function(e){const{healthMultiplier:a,workertimeMultiplier:t,metalCostFactor:r,multiplierText:o}=e;return[{name:`NuttyB v1.52 ${o}X HP - Swarmer Heal`,description:"Swarmer Heal adjustments",scope:"UnitDefsLoop",conditions:[{type:"nameStartsWith",prefix:"raptor_land_swarmer_heal"}],mutations:[{op:"set",field:"reclaimSpeed",value:100},{op:"set",field:"stealth",value:!1},{op:"set",field:"builder",value:!1},{op:"multiply",field:"buildSpeed",factor:t},{op:"set",field:"canAssist",value:!1},{op:"set",field:"maxThisUnit",value:0}]},{name:`NuttyB v1.52 ${o}X HP - Raptors`,description:"Raptor Health adjustments",scope:"UnitDefsLoop",conditions:[{type:"customParam",key:"subfolder",value:"other/raptors"},{type:"nameNotMatch",regex:"^raptor_queen_.*"}],mutations:[{op:"multiply",field:"health",factor:a}]},{name:`NuttyB v1.52 ${o}X HP - Metal & Chase`,description:"Metal Cost and NoChase",scope:"UnitDefsLoop",conditions:[{type:"customParam",key:"subfolder",value:"other/raptors"}],mutations:[{op:"set",field:"noChaseCategory",value:"OBJECT"},{op:"assign_math_floor",target:"metalCost",source:"health",factor:r}]}]}({healthMultiplier:a,workertimeMultiplier:r,metalCostFactor:t,multiplierText:e.value});o.forEach(e=>N(e,h))}else if("boss"===t)N(n(a,e.value),h);else if("scav"===t){const t=function(e,a){return[{name:`Scavengers HP ${a}X - Health`,description:"Scavenger Health",scope:"UnitDef_Post",conditions:[{type:"nameEndsWith",suffix:"_scav"},{type:"nameNotMatch",regex:"^scavengerbossv4"}],mutations:[{op:"assign_math_floor",target:"health",source:"health",factor:e}]},{name:`Scavengers HP ${a}X - Metal & Category`,description:"Scavenger Metal Cost and Category",scope:"UnitDef_Post",conditions:[{type:"nameEndsWith",suffix:"_scav"}],mutations:[{op:"assign_math_floor",target:"metalCost",source:"metalCost",factor:e},{op:"set",field:"noChaseCategory",value:"OBJECT"}]}]}(a,e.value);t.forEach(e=>N(e,h))}}}else{let a=[];"SELECT"!==e.tagName||e.id.includes("maps-select")||e.id.includes("modes-select")||e.id.includes("primary-mode-select")?e.checked&&e.commandBlocks&&(a=e.commandBlocks):e.value&&a.push(e.value),a.forEach(e=>{e&&f.push(e.trim())})}});const b=new Set,y=new Set,v=/!bset\s+(tweakdefs|tweakunits)([1-9])\b/;[...f].forEach(e=>{const a=e.match(v);if(a){const e=parseInt(a[2],10);"tweakdefs"===a[1]?b.add(e):"tweakunits"===a[1]&&y.add(e)}});const _=[];h.forEach(e=>{const a="tweakdefs"===e.type?b:y;let t=null;for(let e=1;e<=9;e++)if(!a.has(e)){t=e;break}null!==t?(_.push(`!bset ${e.type}${t} ${e.tweak}`),a.add(t)):console.warn(`All slots for '${e.type}' are full. Could not add custom tweak.`)});const w=g.length>0||f.length>0||_.length>0,k=[];(g.length>0||f.length>0)&&(a.base.length>0&&k.push(...a.base),"Scavengers"===l&&a.scavengers.length>0&&k.push(...a.scavengers)),k.push(...g,...f,..._);const x="Scavengers"===l;let C=x?"$rename [Mod] NuttyB Scavengers ":"$rename [Mod] NuttyB Raptors ";const S=[];if(x){const e=[c,d].filter(Boolean).join(" ");if(e){const a=e.replace(/\./g,"_");S.push(`[${a}]`)}}else{let e="",a="",r="";p.forEach(o=>{if(o.value){const s=t.find(e=>e.label===o.optionType);if(s&&s.choices){const t=s.choices.find(e=>e.value===o.value);t&&void 0!==t.shortLabel&&("Extras"===s.label?e=t.shortLabel:"Raptor Health"===s.label?a=t.shortLabel:"Queen Health"===s.label&&(r=t.shortLabel))}}}),e&&S.push(e);const o=[r,a].filter(Boolean).join(" ");o&&S.push(`[${o}]`)}const E=k.lastIndexOf("!unit_restrictions_noextractors 1"),L=k.lastIndexOf("!unit_restrictions_noextractors 0"),B=E>-1&&E>L;S.length>0&&(C+=S.join("")),B&&(C+="[No Mex]");const T=[],z=k;for(const e of z){if(!e)continue;let a=!1;for(const t of T){const r=0===t.length?e.length:e.length+1;if(t.length+r<=5e4){t.commands.push(e),t.length+=r,a=!0;break}}a||T.push({commands:[e],length:e.length})}if(w)if(0===T.length)T.push({commands:[C],length:C.length});else{const e=T[T.length-1],a=0===e.length?C.length:C.length+1;e.length+a<=5e4?(e.commands.push(C),e.length+=a):T.push({commands:[C],length:C.length})}return{lobbyName:w?C:"No Options Selected",sections:T.map(e=>e.commands.join("\n"))}}({gameConfigs:D,formOptionsConfig:I,mapsSelectValue:i?i.value:"",modesSelectValue:c?c.value:"",primaryModeSelectValue:a?a.value:"Raptors",scavHpSelectValue:o?o.value:"",scavHpSelectText:o&&o.options[o.selectedIndex]?o.options[o.selectedIndex].text:"",bossHpSelectValue:l?l.value:"",bossHpSelectText:l&&l.options[l.selectedIndex]?l.options[l.selectedIndex].text:"",formElements:m,raptorOptions:d});R.textContent=u.lobbyName;for(let e=1;e<=7;e++){const a=document.getElementById(`part-${e}-section`),t=document.getElementById(`command-output-${e}`);u.sections[e-1]?(t.value=u.sections[e-1],a.style.display="grid"):(t.value="",a.style.display="none")}}function Y(e){const a=e.target,t=a.dataset.tab+"-tab";F.forEach(e=>e.classList.remove("active")),G.forEach(e=>e.classList.remove("active")),a.classList.add("active"),document.getElementById(t).classList.add("active"),"data"===a.dataset.tab&&(function(e){const a=document.querySelector("#data-table tbody");a.innerHTML="",e.filter(e=>"Hidden"!==e.status).forEach(e=>{const t=a.insertRow();t.insertCell().textContent=e.label,t.insertCell().textContent=e.status,t.insertCell().textContent=e.summary;const r=t.insertCell(),o=document.createElement("div");o.className="command-cell-wrapper";const s=document.createElement("span");s.className="command-text",s.textContent=e.commandBlock,s.title=e.commandBlock;const n=document.createElement("button");n.textContent="Copy",n.className="copy-row-button",n.dataset.command=e.commandBlock,o.appendChild(s),o.appendChild(n),r.appendChild(o)}),document.querySelectorAll("select[data-slot]").forEach(e=>{const t=e,r=t.value;if(!r)return;const l=t.options[t.selectedIndex].text,i=t.dataset.hpType,c=t.dataset.slot,m=`${t.dataset.slotType}${c}`,d=function(e,a){const t=parseFloat(a);if(isNaN(t))return"Error: Invalid multiplier";try{let r;if("qhp"===e)r=s(t,a);else{if("boss"!==e)return"Error: Complex tweak (multiple slots)";r=n(t,a)}if(r){const e=o(r),a=unescape(encodeURIComponent(e));return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}}catch(e){return"Error: "+e}return"Error: Unknown type"}(i,r);if(d.startsWith("Error"))return;const u=`!bset ${m} ${d}`,p=function(e){if(!e)return"";try{let a=e.replace(/-/g,"+").replace(/_/g,"/");const t=a.length%4;t&&(a+="====".slice(t));const r=atob(a),o=Uint8Array.from(r,e=>e.charCodeAt(0));return new TextDecoder("utf-8").decode(o)}catch(a){return console.error(`Base64URL decoding failed for: ${e}`,a),"Error decoding data"}}(d).split("\n")[0].trim(),g=a.insertRow();g.insertCell().textContent=l,g.insertCell().textContent="Optional/Generated",g.insertCell().textContent=p;const f=g.insertCell(),h=document.createElement("div");h.className="command-cell-wrapper";const b=document.createElement("span");b.className="command-text",b.textContent=u,b.title=u;const y=document.createElement("button");y.textContent="Copy",y.className="copy-row-button",y.dataset.command=u,h.appendChild(b),h.appendChild(y),f.appendChild(h)})}(U),function(e){const a=document.querySelector("#maps-modes-table tbody");if(a.innerHTML="",0===e.maps.length&&0===e.modes.length&&0===e.scavengers.length&&0===e.base.length)return void(a.innerHTML='<tr><td colspan="3" style="text-align: center;">No maps or modes found.</td></tr>');const t=(e,a)=>{if(!a||0===a.length)return void(e.textContent="N/A");const t=document.createElement("div");t.className="command-cell-wrapper";const r=document.createElement("span");r.style.whiteSpace="normal",r.innerHTML=a.join("<br>");const o=document.createElement("button");o.textContent="Copy All",o.className="copy-row-button",o.dataset.command=a.join("\n"),t.appendChild(r),t.appendChild(o),e.appendChild(t)},r=(e,r)=>{e.forEach(e=>{const o=a.insertRow();o.insertCell().textContent=r,o.insertCell().textContent=e.name,t(o.insertCell(),e.commands)})},o=(e,r,o)=>{if(e.length>0){const s=a.insertRow();s.insertCell().textContent=r,s.insertCell().textContent=o,t(s.insertCell(),e)}};o(e.base,"base","Raptors (Default)"),o(e.scavengers,"scavengers","Default"),r(e.maps,"maps"),r(e.modes,"modes")}(D)),"custom"===a.dataset.tab&&H($())}function K(){H($()),function(e,a){const t=document.getElementById("custom-left-column"),r=document.getElementById("custom-right-column"),o=document.getElementById("custom-settings-container");t.innerHTML="",r.innerHTML="",e.length>0?(o.style.display="block",e.forEach((e,o)=>{const s=document.createElement("label"),n=document.createElement("input");n.type="checkbox",n.dataset.isCustom="true",n.dataset.customData=JSON.stringify({type:e.type,tweak:e.tweak}),n.addEventListener("change",a);const l=document.createElement("span");l.className="custom-option-label-text",l.textContent=` ${e.desc}`;const i=document.createElement("span");i.className="custom-option-type-display",i.textContent=`(${e.type})`,s.appendChild(n),s.appendChild(l),s.appendChild(i),o%2==0?t.appendChild(s):r.appendChild(s)})):o.style.display="none"}($(),X)}document.addEventListener("click",e=>{const a=e.target;if(a.matches(".copy-button")){const e=a.dataset.target;if(!e)return;const t=document.getElementById(e);if(!t)return;const r=a.textContent;navigator.clipboard.writeText(t.value).then(()=>{a.textContent="Copied!",setTimeout(()=>{a.textContent=r},2e3)}).catch(e=>{console.error("Failed to copy: ",e)})}}),[M,V,W].forEach(e=>{e&&e.addEventListener("click",e=>{const a=e.target;if(a.matches(".copy-row-button")){const e=a.dataset.command||a.dataset.tweakCode;if(!e)return;navigator.clipboard.writeText(e).then(()=>{const e=a.textContent;a.textContent="Copied!",setTimeout(()=>{a.textContent=e},2e3)}).catch(e=>{console.error("Failed to copy command: ",e)})}else a.matches(".delete-tweak-btn")&&(function(e){P=P.filter(a=>a.id!==e),O(P)}(parseInt(a.dataset.id,10)),K(),X())})}),Q.addEventListener("click",()=>{document.querySelectorAll('#options-form-columns input[type="checkbox"], #options-form-columns select').forEach(e=>{const a=e;"checkbox"===a.type?a.checked=!1:"SELECT"===a.tagName&&("maps-select"===a.id||"modes-select"===a.id?a.selectedIndex=-1:"primary-mode-select"!==a.id&&(a.value=""))}),X()}),J.addEventListener("click",()=>{const e=document.getElementById("primary-mode-select");e&&(e.value="Raptors"),I.forEach(e=>{if("checkbox"===e.type){const a=document.querySelectorAll("#options-form-columns label"),t=Array.from(a).find(a=>{var t;return null===(t=a.textContent)||void 0===t?void 0:t.trim().includes(e.label)});if(t){const a=t.querySelector('input[type="checkbox"]');a&&(a.checked=!!e.default)}}else if("select"===e.type){const a=Z.querySelector(`select[data-option-type="${e.label}"]`);a&&(a.value=e.defaultValue||"")}});const a=document.getElementById("boss-hp-select"),t=document.getElementById("scav-hp-select");a&&(a.value=""),t&&(t.value="");const r=document.getElementById("maps-select");r&&r.options.length>0&&(r.selectedIndex=0);const o=document.getElementById("modes-select");o&&o.options.length>0&&(o.selectedIndex=0),X()}),j.addEventListener("submit",function(e){var a,t,r;e.preventDefault(),a=document.getElementById("custom-option-desc").value.trim(),t=document.getElementById("custom-option-type").value,r=document.getElementById("custom-tweak-code").value.trim(),a&&r&&(P.push({id:Date.now(),desc:a,type:t,tweak:r}),O(P)),K(),X(),j.reset()}),F.forEach(e=>e.addEventListener("click",Y)),document.addEventListener("DOMContentLoaded",function(){return e=this,a=void 0,r=function*(){try{!function(){const e=localStorage.getItem(l);P=e?JSON.parse(e):[]}();const[e,a,t]=yield Promise.all([q("modes.txt"),z(),A()]);if(D=e,U=a.rawOptionsData,I=a.formOptionsConfig,t){const e=document.getElementById("links-tab");e&&(e.innerHTML=t)}console.log("Modes file loaded and parsed:",D),function(e,a,t){const r=document.getElementById("left-column"),o=document.getElementById("right-column");document.getElementById("options-form-columns"),r.innerHTML="",o.innerHTML="";const s=["NuttyB Main Tweaks","NuttyB Evolving Commanders"];s.forEach(a=>{const o=e.find(e=>e.label===a);if(o){const e=document.createElement("label"),a=document.createElement("input");a.type="checkbox",a.dataset.commandBlocks=JSON.stringify(o.commandBlocks),a.checked=!!o.default,a.disabled=!!o.disabled,e.appendChild(a),e.appendChild(document.createTextNode(" "+o.label)),a.disabled||a.addEventListener("change",t),r.appendChild(e)}});const n=document.createElement("label");n.textContent="Mode: ";const l=document.createElement("select");l.id="primary-mode-select",l.innerHTML='<option value="Raptors">Raptors</option><option value="Scavengers">Scavengers</option>',l.addEventListener("change",e=>t(e)),n.appendChild(l),r.appendChild(n);const i=document.createElement("div");i.id="scav-only-options";const c=document.createElement("label");c.textContent="Scavengers HP: ";const m=document.createElement("select");m.id="scav-hp-select",m.dataset.isScavHpGenerator="true",m.dataset.hpType="scav",m.dataset.slot="",m.dataset.slotType="tweakdefs",[{v:"",t:"Default"},{v:"1",t:"1x HP"},{v:"1.3",t:"1.3x HP"},{v:"1.5",t:"1.5x HP"},{v:"1.7",t:"1.7x HP"},{v:"2",t:"2x HP"},{v:"2.5",t:"2.5x HP"},{v:"3",t:"3x HP"},{v:"4",t:"4x HP"},{v:"5",t:"5x HP"}].forEach(e=>m.add(new Option(e.t,e.v))),m.value="",m.addEventListener("change",t),c.appendChild(m),i.appendChild(c);const d=document.createElement("label");d.textContent="Scav Boss HP: ";const u=document.createElement("select");u.id="boss-hp-select",u.dataset.isScavHpGenerator="true",u.dataset.hpType="boss",u.dataset.slot="1",u.dataset.slotType="tweakdefs",[{v:"",t:"Default"},{v:"1",t:"1x BHP"},{v:"1.3",t:"1.3x BHP"},{v:"1.5",t:"1.5x BHP"},{v:"1.7",t:"1.7x BHP"},{v:"2",t:"2x BHP"},{v:"2.5",t:"2.5x BHP"},{v:"3",t:"3x BHP"},{v:"4",t:"4x BHP"},{v:"5",t:"5x BHP"}].forEach(e=>u.add(new Option(e.t,e.v))),u.value="",u.addEventListener("change",t),d.appendChild(u),i.appendChild(d),r.appendChild(i);const p=document.createElement("div");if(p.id="raptor-only-options",r.appendChild(p),e.forEach(e=>{var a;if(s.includes(e.label))return;const n=document.createElement("label");let l;"checkbox"===e.type?(l=document.createElement("input"),l.type="checkbox",l.dataset.commandBlocks=JSON.stringify(e.commandBlocks),l.checked=!!e.default,l.disabled=!!e.disabled,n.appendChild(l),n.appendChild(document.createTextNode(" "+e.label)),l.disabled||l.addEventListener("change",t)):"select"===e.type&&(l=document.createElement("select"),l.dataset.optionType=e.label,e.isHpGenerator&&(l.dataset.isHpGenerator="true",l.dataset.hpType=e.hpType,l.dataset.slot=String(e.slot),l.dataset.slotType=e.slotType,l.disabled=!0),null===(a=e.choices)||void 0===a||a.forEach(a=>{const t=document.createElement("option");t.value=a.value,t.textContent=a.label,e.defaultValue&&a.value===e.defaultValue&&(t.selected=!0),t.dataset.shortLabel=a.shortLabel||"",l.appendChild(t)}),n.textContent=e.label+": ",n.appendChild(l),l.addEventListener("change",t)),"right"===e.column?o.appendChild(n):"Raptor Health"===e.label||"Queen Health"===e.label||"Extras"===e.label?p.appendChild(n):r.appendChild(n)}),a&&(a.maps.length>0||a.modes.length>0)){let e,o;if(a.maps.length>0){e=document.createElement("label"),e.textContent="Map: ";const r=document.createElement("select");r.id="maps-select",a.maps.forEach((e,a)=>{r.add(new Option(e.name,String(a)))}),r.selectedIndex=0,r.addEventListener("change",t),e.appendChild(r)}if(a.modes.length>0){o=document.createElement("label"),o.textContent="Start: ";const e=document.createElement("select");e.id="modes-select",e.addEventListener("change",t),o.appendChild(e)}const s=document.getElementById("raptor-only-options");s?(o&&s.after(o),e&&s.after(e)):(e&&r.appendChild(e),o&&r.appendChild(o))}}(I,D,X);const r=setInterval(()=>{"undefined"!=typeof luamin&&(clearInterval(r),console.log("Lua libraries loaded."),document.querySelectorAll('select[data-is-hp-generator="true"], select[data-is-scav-hp-generator="true"]').forEach(e=>{e.disabled=!1}),X())},100);K(),function(e,a){const t=document.getElementById("modes-select");if(!t)return;const r=t.value;t.innerHTML="",e&&e.modes&&(e.modes.forEach((e,a)=>{const r=document.createElement("option");r.value=String(a),r.textContent=e.name,t.appendChild(r)}),Array.from(t.options).some(e=>e.value===r)?t.value=r:t.options.length>0&&(t.selectedIndex=0)),a()}(D,X);const o=document.getElementById("reset-output");o&&(o.value=Array.from({length:9},(e,a)=>`!bset tweakdefs${a+1} ""\n!bset tweakunits${a+1} ""`).join("\n"))}catch(e){console.error("Failed to initialize the configurator:",e),document.querySelector(".container").innerHTML='<h1>Initialization Error</h1><p style="color: red;">Could not load essential configuration files (e.g., modes.txt or tweakdata.txt). Please check that the files exist and refresh the page.</p>'}},new((t=void 0)||(t=Promise))(function(o,s){function n(e){try{i(r.next(e))}catch(e){s(e)}}function l(e){try{i(r.throw(e))}catch(e){s(e)}}function i(e){var a;e.done?o(e.value):(a=e.value,a instanceof t?a:new t(function(e){e(a)})).then(n,l)}i((r=r.apply(e,a||[])).next())});var e,a,t,r})})()})();
export const script = `--NuttyB v1.52bb Def Main
-- Authors: ChrispyNut, BackBash
-- docs.google.com/spreadsheets/d/1QSVsuAAMhBrhiZdTihVfSCwPzbbZWDLCtXWP23CU0ko
local a,b,c,d=UnitDefs or{},'repulsor',pairs,table.merge;function addWeapon(c,e,f)a[c]=a[c]or{}a[c].weapons=a[c].weapons or{}a[c].weapondefs=a[c].weapondefs or{}a[c].customparams=a[c].customparams or{}table.insert(a[c].weapons,{def=b,onlytargetcategory=f or''})a[c].weapondefs[b]=e;if e.shield and e.shield.power>0 then e.range=e.shield.radius;a[c].customparams=d(a[c].customparams or{},{off_on_stun='true',shield_color_mult=0.8,shield_power=e.shield.power,shield_radius=e.shield.radius})end end;for a,b in c(a)do if string.sub(a,1,24)=='raptor_air_fighter_basic'then if b.weapondefs then for a,a in c(b.weapondefs)do a.name='Spike'a.accuracy=200;a.collidefriendly=0;a.collidefeature=0;a.avoidfeature=0;a.avoidfriendly=0;a.areaofeffect=64;a.edgeeffectiveness=0.3;a.explosiongenerator='custom:raptorspike-large-sparks-burn'a.cameraShake={}a.dance={}a.interceptedbyshieldtype=0;a.model='Raptors/spike.s3o'a.reloadtime=1.1;a.soundstart='talonattack'a.startvelocity=200;a.submissile=1;a.smoketrail=0;a.smokePeriod={}a.smoketime={}a.smokesize={}a.smokecolor={}a.soundhit={}a.texture1={}a.texture2={}a.tolerance={}a.tracks=0;a.turnrate=60000;a.weaponacceleration=100;a.weapontimer=1;a.weaponvelocity=1000;a.weapontype={}a.wobble={}end end elseif a:match'^[acl][ore][rgm]com'and not a:match'_scav\$'then table.mergeInPlace(b,{customparams={combatradius=0,fall_damage_multiplier=0,paratrooper=true,wtboostunittype={}},featuredefs={dead={damage=9999999,reclaimable=false,mass=9999999}}})end end;local b={raptor_air_kamikaze_basic_t2_v1={selfdestructas='raptor_empdeath_big'},raptor_land_swarmer_emp_t2_v1={weapondefs={raptorparalyzersmall={damage={shields=70},paralyzetime=6}}},raptor_land_assault_emp_t2_v1={weapondefs={raptorparalyzerbig={damage={shields=150},paralyzetime=10}}},raptor_allterrain_arty_emp_t2_v1={weapondefs={goolauncher={paralyzetime=6}}},raptor_allterrain_arty_emp_t4_v1={weapondefs={goolauncher={paralyzetime=10}}},raptor_air_bomber_emp_t2_v1={weapondefs={weapon={damage={shields=1100,default=2000},paralyzetime=10}}},raptor_allterrain_swarmer_emp_t2_v1={weapondefs={raptorparalyzersmall={damage={shields=70},paralyzetime=6}}},raptor_allterrain_assault_emp_t2_v1={weapondefs={raptorparalyzerbig={damage={shields=150},paralyzetime=6}}},raptor_matriarch_electric={weapondefs={goo={paralyzetime=13},melee={paralyzetime=13},spike_emp_blob={paralyzetime=13}}}}for b,c in c(b)do if a[b]then a[b]=d(a[b],c)end end;for b,b in c({'raptor_antinuke','raptor_turret_acid_t2_v1','raptor_turret_acid_t3_v1','raptor_turret_acid_t4_v1','raptor_turret_antiair_t2_v1','raptor_turret_antiair_t3_v1','raptor_turret_antiair_t4_v1','raptor_turret_antinuke_t2_v1','raptor_turret_antinuke_t3_v1','raptor_turret_basic_t2_v1','raptor_turret_basic_t3_v1','raptor_turret_basic_t4_v1','raptor_turret_burrow_t2_v1','raptor_turret_emp_t2_v1','raptor_turret_emp_t3_v1','raptor_turret_emp_t4_v1','raptor_worm_green'})do local a=a[b]a.maxthisunit=10;a.health=a.health*2;if a.weapondefs then for a,a in c(a.weapondefs)do a.reloadtime=a.reloadtime/1.5;a.range=a.range/2 end end end;for a,a in c(a)do if a.builder==true then if a.canfly==true then a.explodeas=''a.selfdestructas=''end end end;local b={'raptor_air_bomber_basic_t2_v1','raptor_air_bomber_basic_t2_v2','raptor_air_bomber_basic_t4_v1','raptor_air_bomber_basic_t4_v2','raptor_air_bomber_basic_t1_v1'}for b,b in c(b)do local a=a[b]if a.weapondefs then for a,a in c(a.weapondefs)do a.damage.default=a.damage.default/1.30 end end end;local a={'armrespawn','correspawn','legnanotcbase'}for a,a in ipairs(a)do local a=UnitDefs[a]if a then a.cantbetransported,a.footprintx,a.footprintz=false,4,4;a.customparams=a.customparams or{}a.customparams.paratrooper=true;a.customparams.fall_damage_multiplier=0 end end;local a=UnitDefs or{}local function b(a)local d={}for a,c in c(a)do d[a]=type(c)=="table"and b(c)or c end;return d end;local function d(a,b)for b,c in c(b)do if type(c)=="table"then a[b]=a[b]or{}d(a[b],c)elseif a[b]==nil then a[b]=c end end end;local function e(c,e,f)if a[c]and not a[e]then local b=b(a[c])d(b,f)a[e]=b end end;local b={{"raptor_land_swarmer_basic_t1_v1","raptor_hive_swarmer_basic",{name="Hive Spawn",customparams={i18n_en_humanname="Hive Spawn",i18n_en_tooltip="Raptor spawned to defend hives from attackers."}}},{"raptor_land_assault_basic_t2_v1","raptor_hive_assault_basic",{name="Armored Assault Raptor",customparams={i18n_en_humanname="Armored Assault Raptor",i18n_en_tooltip="Heavy, slow, and unyielding—these beasts are made to take the hits others cant."}}},{"raptor_land_assault_basic_t4_v1","raptor_hive_assault_heavy",{name="Heavy Armored Assault Raptor",customparams={i18n_en_humanname="Heavy Armored Assault Raptor",i18n_en_tooltip="Lacking speed, these armored monsters make up for it with raw, unbreakable toughness."}}},{"raptor_land_assault_basic_t4_v2","raptor_hive_assault_superheavy",{name="Super Heavy Armored Assault Raptor",customparams={i18n_en_humanname="Super Heavy Armored Assault Raptor",i18n_en_tooltip="These super-heavy armored beasts may be slow, but they’re built to take a pounding and keep rolling."}}},{"raptorartillery","raptor_evolved_motort4",{name="Evolved Lobber",customparams={i18n_en_humanname="Evolved Lobber",i18n_en_tooltip="These lobbers did not just evolve—they became deadlier than anything before them."}}},{"raptor_land_swarmer_basic_t1_v1","raptor_acidspawnling",{name="Acid Spawnling",customparams={i18n_en_humanname="Acid Spawnling",i18n_en_tooltip="This critters are so cute but can be so deadly at the same time."}}}}for a,a in ipairs(b)do e(a[1],a[2],a[3])end;local b=UnitDef_Post;function UnitDef_Post(d,e)if b and b~=UnitDef_Post then b(d,e)end;local b=(a["raptor_land_swarmer_basic_t1_v1"]and a["raptor_land_swarmer_basic_t1_v1"].health)local d={texture1={},texture2={},tracks=false,weaponvelocity=4000,smokePeriod={},smoketime={},smokesize={},smokecolor={},smoketrail=0}local e={accuracy=2048,areaofeffect=256,burst=4,burstrate=0.4,flighttime=12,dance=25,craterareaofeffect=256,edgeeffectiveness=0.7,cegtag="blob_trail_blue",explosiongenerator="custom:genericshellexplosion-huge-bomb",impulsefactor=0.4,intensity=0.3,interceptedbyshieldtype=1,range=2300,reloadtime=10,rgbcolor="0.2 0.5 0.9",size=8,sizedecay=0.09,soundhit="bombsmed2",soundstart="bugarty",sprayangle=2048,tolerance=60000,turnrate=6000,trajectoryheight=2,turret=true,weapontype="Cannon",weaponvelocity=520,startvelocity=140,weaponacceleration=125,weapontimer=0.2,wobble=14500,highTrajectory=1,damage={default=900,shields=600}}local f={accuracy=1024,areaofeffect=24,burst=1,burstrate=0.3,cegtag="blob_trail_green",edgeeffectiveness=0.63,explosiongenerator="custom:raptorspike-small-sparks-burn",impulsefactor=1,intensity=0.4,interceptedbyshieldtype=1,name="Acid",range=250,reloadtime=1,rgbcolor="0.8 0.99 0.11",size=1,stages=6,soundhit="bloodsplash3",soundstart="alien_bombrel",sprayangle=128,tolerance=5000,turret=true,weapontimer=0.1,weapontype="Cannon",weaponvelocity=320,damage={default=80}}local b={raptor_hive_swarmer_basic={metalcost=350,nochasecategory="OBJECT",icontype="raptor_land_swarmer_basic_t1_v1"},raptor_hive_assault_basic={metalcost=3000,health=25000,speed=20.0,nochasecategory="OBJECT",icontype="raptor_land_assault_basic_t2_v1",weapondefs={aaweapon=d}},raptor_hive_assault_heavy={metalcost=6000,health=30000,speed=17.0,nochasecategory="OBJECT",icontype="raptor_land_assault_basic_t4_v1",weapondefs={aaweapon=d}},raptor_hive_assault_superheavy={metalcost=9000,health=35000,speed=16.0,nochasecategory="OBJECT",icontype="raptor_land_assault_basic_t4_v2",weapondefs={aaweapon=d}},raptor_evolved_motort4={icontype="raptor_allterrain_arty_basic_t4_v1",weapondefs={poopoo=e},weapons={[1]={badtargetcategory="MOBILE",def="poopoo",maindir="0 0 1",maxangledif=50,onlytargetcategory="NOTAIR"}}},raptor_acidspawnling={metalcost=375,energycost=600,health=b*2,icontype="raptor_land_swarmer_basic_t1_v1",buildpic="raptors/raptorh1b.DDS",objectname="Raptors/raptor_droneb.s3o",weapondefs={throwup=f},weapons={[1]={def="throwup",onlytargetcategory="NOTAIR",maindir="0 0 1",maxangledif=180}}}}for b,d in c(b)do local a=a[b]if a then for b,d in c(d)do if b=="weapondefs"then a.weapondefs=a.weapondefs or{}for b,d in c(d)do a.weapondefs[b]=a.weapondefs[b]or{}for c,d in c(d)do a.weapondefs[b][c]=d end end elseif b=="weapons"then a.weapons=d else a[b]=d end end end end end`;
